// File Line: 132
// RVA: 0x1559D10
__int64 anonymous_namespace_::_dynamic_initializer_for__game_sim_time_scale__()
{
  game_sim_time_scale.mUID = UFG::qWiseSymbolUIDFromString("game_sim_time_scale", 0x811C9DC5);
  _((AMD_HD3D *)game_sim_time_scale.mUID);
  return atexit((int (__fastcall *)())anonymous_namespace_::_dynamic_atexit_destructor_for__game_sim_time_scale__);
}

// File Line: 133
// RVA: 0x155A030
__int64 anonymous_namespace_::_dynamic_initializer_for__loadstart__()
{
  loadstart.mUID = UFG::qWiseSymbolUIDFromString("loadstart", 0x811C9DC5);
  _((AMD_HD3D *)loadstart.mUID);
  return atexit((int (__fastcall *)())anonymous_namespace_::_dynamic_atexit_destructor_for__loadstart__);
}

// File Line: 134
// RVA: 0x15598C0
__int64 anonymous_namespace_::_dynamic_initializer_for__amb_traffic_d__()
{
  amb_traffic_d.mUID = UFG::qWiseSymbolUIDFromString("amb_traffic_d", 0x811C9DC5);
  _((AMD_HD3D *)amb_traffic_d.mUID);
  return atexit((int (__fastcall *)())anonymous_namespace_::_dynamic_atexit_destructor_for__amb_traffic_d__);
}

// File Line: 135
// RVA: 0x155A530
__int64 anonymous_namespace_::_dynamic_initializer_for__play_amb_city_2__()
{
  play_amb_city_2.mUID = UFG::qWiseSymbolUIDFromString("play_amb_city_2", 0x811C9DC5);
  _((AMD_HD3D *)play_amb_city_2.mUID);
  return atexit((int (__fastcall *)())anonymous_namespace_::_dynamic_atexit_destructor_for__play_amb_city_2__);
}

// File Line: 136
// RVA: 0x155A670
__int64 anonymous_namespace_::_dynamic_initializer_for__play_distant_traffic__()
{
  play_distant_traffic.mUID = UFG::qWiseSymbolUIDFromString("play_distant_traffic", 0x811C9DC5);
  _((AMD_HD3D *)play_distant_traffic.mUID);
  return atexit((int (__fastcall *)())anonymous_namespace_::_dynamic_atexit_destructor_for__play_distant_traffic__);
}

// File Line: 137
// RVA: 0x155CFC0
__int64 anonymous_namespace_::_dynamic_initializer_for__start_mission_fail__()
{
  start_mission_fail.mUID = UFG::qWiseSymbolUIDFromString("start_mission_fail", 0x811C9DC5);
  _((AMD_HD3D *)start_mission_fail.mUID);
  return atexit((int (__fastcall *)())anonymous_namespace_::_dynamic_atexit_destructor_for__start_mission_fail__);
}

// File Line: 138
// RVA: 0x155D0B0
__int64 anonymous_namespace_::_dynamic_initializer_for__stop_mission_fail__()
{
  stop_mission_fail.mUID = UFG::qWiseSymbolUIDFromString("stop_mission_fail", 0x811C9DC5);
  _((AMD_HD3D *)stop_mission_fail.mUID);
  return atexit((int (__fastcall *)())anonymous_namespace_::_dynamic_atexit_destructor_for__stop_mission_fail__);
}

// File Line: 139
// RVA: 0x155CDE0
__int64 anonymous_namespace_::_dynamic_initializer_for__set_state_global_generic_curtain_down__()
{
  set_state_global_generic_curtain_down.mUID = UFG::qWiseSymbolUIDFromString(
                                                 "set_state_global_generic_curtain_down",
                                                 0x811C9DC5);
  _((AMD_HD3D *)set_state_global_generic_curtain_down.mUID);
  return atexit((int (__fastcall *)())anonymous_namespace_::_dynamic_atexit_destructor_for__set_state_global_generic_curtain_down__);
}

// File Line: 140
// RVA: 0x155CE30
__int64 anonymous_namespace_::_dynamic_initializer_for__set_state_global_main_menu__()
{
  set_state_global_main_menu_0.mUID = UFG::qWiseSymbolUIDFromString("set_state_global_main_menu", 0x811C9DC5);
  _((AMD_HD3D *)set_state_global_main_menu_0.mUID);
  return atexit((int (__fastcall *)())anonymous_namespace_::_dynamic_atexit_destructor_for__set_state_global_main_menu__);
}

// File Line: 141
// RVA: 0x1559BB0
__int64 anonymous_namespace_::_dynamic_initializer_for__effect_in_tunnel__()
{
  effect_in_tunnel.mUID = UFG::qWiseSymbolUIDFromString("effect_in_tunnel", 0x811C9DC5);
  _((AMD_HD3D *)effect_in_tunnel.mUID);
  return atexit((int (__fastcall *)())anonymous_namespace_::_dynamic_atexit_destructor_for__effect_in_tunnel__);
}

// File Line: 143
// RVA: 0x155A290
__int64 anonymous_namespace_::_dynamic_initializer_for__mus_loading_lp_01__()
{
  mus_loading_lp_01.mUID = UFG::qWiseSymbolUIDFromString("mus_loading_lp_01", 0x811C9DC5);
  _((AMD_HD3D *)mus_loading_lp_01.mUID);
  return atexit((int (__fastcall *)())anonymous_namespace_::_dynamic_atexit_destructor_for__mus_loading_lp_01__);
}

// File Line: 144
// RVA: 0x155AAE0
__int64 anonymous_namespace_::_dynamic_initializer_for__play_mus_loading_lp_01a__()
{
  play_mus_loading_lp_01a.mUID = UFG::qWiseSymbolUIDFromString("play_mus_loading_lp_01a", 0x811C9DC5);
  _((AMD_HD3D *)play_mus_loading_lp_01a.mUID);
  return atexit((int (__fastcall *)())anonymous_namespace_::_dynamic_atexit_destructor_for__play_mus_loading_lp_01a__);
}

// File Line: 145
// RVA: 0x155A2E0
__int64 anonymous_namespace_::_dynamic_initializer_for__mus_loading_lp_02__()
{
  mus_loading_lp_02.mUID = UFG::qWiseSymbolUIDFromString("mus_loading_lp_02", 0x811C9DC5);
  _((AMD_HD3D *)mus_loading_lp_02.mUID);
  return atexit((int (__fastcall *)())anonymous_namespace_::_dynamic_atexit_destructor_for__mus_loading_lp_02__);
}

// File Line: 146
// RVA: 0x155AB30
__int64 anonymous_namespace_::_dynamic_initializer_for__play_mus_loading_lp_01b__()
{
  play_mus_loading_lp_01b.mUID = UFG::qWiseSymbolUIDFromString("play_mus_loading_lp_01b", 0x811C9DC5);
  _((AMD_HD3D *)play_mus_loading_lp_01b.mUID);
  return atexit((int (__fastcall *)())anonymous_namespace_::_dynamic_atexit_destructor_for__play_mus_loading_lp_01b__);
}

// File Line: 147
// RVA: 0x155A330
__int64 anonymous_namespace_::_dynamic_initializer_for__mus_loading_lp_03__()
{
  mus_loading_lp_03.mUID = UFG::qWiseSymbolUIDFromString("mus_loading_lp_03", 0x811C9DC5);
  _((AMD_HD3D *)mus_loading_lp_03.mUID);
  return atexit((int (__fastcall *)())anonymous_namespace_::_dynamic_atexit_destructor_for__mus_loading_lp_03__);
}

// File Line: 148
// RVA: 0x155AB80
__int64 anonymous_namespace_::_dynamic_initializer_for__play_mus_loading_lp_02a__()
{
  play_mus_loading_lp_02a.mUID = UFG::qWiseSymbolUIDFromString("play_mus_loading_lp_02a", 0x811C9DC5);
  _((AMD_HD3D *)play_mus_loading_lp_02a.mUID);
  return atexit((int (__fastcall *)())anonymous_namespace_::_dynamic_atexit_destructor_for__play_mus_loading_lp_02a__);
}

// File Line: 197
// RVA: 0x1554EB0
__int64 dynamic_initializer_for__UFG::TidoGame::sm_timeStampStr__()
{
  UFG::qString::qString(&UFG::TidoGame::sm_timeStampStr);
  return atexit((int (__fastcall *)())dynamic_atexit_destructor_for__UFG::TidoGame::sm_timeStampStr__);
}

// File Line: 204
// RVA: 0x1554ED0
__int64 dynamic_initializer_for__UFG::TidoGame::sm_tunnelEffectRegions__()
{
  return atexit((int (__fastcall *)())dynamic_atexit_destructor_for__UFG::TidoGame::sm_tunnelEffectRegions__);
}

// File Line: 207
// RVA: 0x1554C60
__int64 dynamic_initializer_for__UFG::TidoGame::sm_currentSurfaceBankIds__()
{
  `eh vector constructor iterator(
    (char *)UFG::TidoGame::sm_currentSurfaceBankIds,
    4ui64,
    5,
    (void (__fastcall *)(void *))UFG::qWiseSymbol::qWiseSymbol);
  return atexit((int (__fastcall *)())dynamic_atexit_destructor_for__UFG::TidoGame::sm_currentSurfaceBankIds__);
}

// File Line: 210
// RVA: 0x1554BE0
__int64 dynamic_initializer_for__UFG::TidoGame::sm_animHandleContainer__()
{
  UFG::TidoGame::sm_animHandleContainer.m_bHasBeenBound = 0;
  return atexit((int (__fastcall *)())dynamic_atexit_destructor_for__UFG::TidoGame::sm_animHandleContainer__);
}

// File Line: 212
// RVA: 0x1554E70
__int64 dynamic_initializer_for__UFG::TidoGame::sm_stateRequestQueue__()
{
  return atexit((int (__fastcall *)())dynamic_atexit_destructor_for__UFG::TidoGame::sm_stateRequestQueue__);
}

// File Line: 220
// RVA: 0x59D3F0
void __fastcall UFG::TidoGame::GetProjectSubpath(UFG::TidoGame *this, UFG::qString *path)
{
  UFG::qString::Set(path, "SD2");
}

// File Line: 230
// RVA: 0x5A8FB0
void __fastcall UFG::TidoGame::ReInit(UFG::TidoGame *this)
{
  UFG::TiDo::StartSound();
  this->vfptr->LoadAudio(this, gCurrentLocationDirectory.mData);
}

// File Line: 241
// RVA: 0x5AC4F0
void __fastcall UFG::TidoGame::Shutdown(UFG::TidoGame *this)
{
  UFG::GunshotManager *v2; // rbx

  UFG::AudioEntity::StopAllEvents(0xFFFFFFFFui64);
  ((void (__fastcall *)(UFG::TidoGame *))this->vfptr->UpdateFrame)(this);
  this->vfptr->UnloadAudio(this, gCurrentLocationDirectory.mData);
  UFG::TiDo::StopSound();
  v2 = UFG::GunshotManager::ms_instance;
  if ( UFG::GunshotManager::ms_instance )
  {
    UFG::GunshotManager::~GunshotManager(UFG::GunshotManager::ms_instance);
    operator delete[](v2);
  }
  UFG::GunshotManager::ms_instance = 0i64;
  UFG::VehicleAudioComponent::StaticDestroy();
}

// File Line: 295
// RVA: 0x59F920
void __fastcall UFG::TidoGame::Init(UFG::TidoGame *this)
{
  float *v2; // rbx
  UFG::qWiseSymbol *v3; // rdi
  __int64 v4; // rsi
  UFG::qWiseSymbol *null; // rax
  UFG::EngineManager *v6; // rbx
  UFG::allocator::free_link *v7; // rax
  UFG::qPropertySet *PropertySet; // rax
  UFG::qPropertyList *v9; // rsi
  unsigned int mNumElements; // r15d
  unsigned int i; // edi
  UFG::qSymbol *v12; // rax
  UFG::allocator::free_link *v13; // rax
  UFG::Music *v14; // rax
  UFG::allocator::free_link *v15; // rax
  UFG::HudAudio *v16; // rax
  UFG::allocator::free_link *v17; // rax
  UFG::AmbienceAudio *v18; // rax
  UFG::allocator::free_link *v19; // rax
  UFG::NISAudio *v20; // rbx
  UFG::qSymbolUC *v21; // rax
  SimpleXML::XMLDocument *v22; // rax
  UFG::GameStatTracker *v23; // rax
  UFG::AudioEventHandler *v24; // rcx
  UFG::WorldAudioEmitterManager *v25; // rax
  UFG::allocator::free_link *v26; // rax
  UFG::RadioFullyControlled *v27; // rax
  UFG::allocator::free_link *v28; // rax
  UFG::ArgumentSequencerBase *v29; // rax
  UFG::qSymbolUC *v30; // rax
  _BOOL8 v31; // rdx
  void (__fastcall *v32)(fastdelegate::detail::GenericClass *); // rax
  hkResourceHandle *v33; // rax
  UFG::allocator::free_link *v34; // rax
  UFG::allocator::free_link *v35; // rcx
  UFG::allocator::free_link *v36; // rax
  UFG::qNode<UFG::SoundEngineDeviceSettings,UFG::SoundEngineDeviceSettings> **j; // rax
  _QWORD *v38; // rdx
  UFG::qNode<UFG::SoundEngineDeviceSettings,UFG::SoundEngineDeviceSettings> *v39; // rcx
  UFG::qNode<UFG::SoundEngineDeviceSettings,UFG::SoundEngineDeviceSettings> *v40; // rax
  UFG::qNode<UFG::SoundEngineDeviceSettings,UFG::SoundEngineDeviceSettings> *mPrev; // rcx
  UFG::qNode<UFG::SoundEngineDeviceSettings,UFG::SoundEngineDeviceSettings> *mNext; // rax
  fastdelegate::FastDelegate1<char const *,void> v43; // [rsp+10h] [rbp-41h] BYREF
  fastdelegate::FastDelegate1<char const *,void> callback; // [rsp+20h] [rbp-31h] BYREF
  UFG::SoundEngineInitParams initParams; // [rsp+38h] [rbp-19h] BYREF
  UFG::qSymbol result[2]; // [rsp+B8h] [rbp+67h] BYREF
  UFG::allocator::free_link *v47; // [rsp+C0h] [rbp+6Fh]

  *(_WORD *)&this->m_loadingBankLoaded = 0;
  *(_QWORD *)&this->packageId_SFX = 0i64;
  v2 = UFG::TidoGame::sm_surfaceBankUpdateTimes;
  v3 = UFG::TidoGame::sm_currentSurfaceBankIds;
  v4 = 5i64;
  do
  {
    null = UFG::qWiseSymbol::get_null();
    UFG::qWiseSymbol::operator=(v3, null);
    *v2 = 0.0;
    ++v3;
    ++v2;
    --v4;
  }
  while ( v4 );
  *(_QWORD *)&result[0].mUID = &initParams.m_devices;
  initParams.m_devices.mNode.mPrev = &initParams.m_devices.mNode;
  initParams.m_devices.mNode.mNext = &initParams.m_devices.mNode;
  UFG::TiDo::GetInitParams(this, &initParams);
  UFG::TiDo::Init(this, &initParams);
  UFG::AudioListener::Create();
  UFG::StreamResourceLoader::LoadResourceFile(
    "Data\\Global\\PropertySets\\engines.bin",
    UFG::gMainMemoryPool,
    0,
    0i64,
    0i64,
    0i64);
  v6 = UFG::EngineManager::m_instance;
  if ( !UFG::EngineManager::m_instance )
  {
    v7 = UFG::qMemoryPool::Allocate(&g_AudioComponentPool, 0x10ui64, "EngineManager", 0i64, 1u);
    v6 = (UFG::EngineManager *)v7;
    *(_QWORD *)&result[0].mUID = v7;
    if ( v7 )
    {
      v47 = v7;
      v7->mNext = v7;
      v7[1].mNext = v7;
    }
    else
    {
      v6 = 0i64;
    }
    UFG::EngineManager::m_instance = v6;
  }
  PropertySet = UFG::PropertySetManager::GetPropertySet(&UFG::gsymEngineManifest);
  if ( PropertySet )
  {
    v9 = UFG::qPropertySet::Get<UFG::qPropertyList>(
           PropertySet,
           (UFG::qArray<unsigned long,0> *)&UFG::gsymEngines,
           DEPTH_RECURSE);
    mNumElements = v9->mNumElements;
    for ( i = 0; i < mNumElements; ++i )
    {
      v12 = UFG::qPropertyList::Get<UFG::qSymbol>(v9, i);
      UFG::EngineManager::FindOrCreateEngine(v6, v12, &callback);
    }
  }
  UFG::StreamResourceLoader::UnloadResourceFile("Data\\Global\\PropertySets\\engines.bin");
  v13 = UFG::qMemoryPool::Allocate(&g_AudioComponentPool, 0x140ui64, "Music", 0i64, 1u);
  *(_QWORD *)&result[0].mUID = v13;
  if ( v13 )
    UFG::Music::Music((UFG::Music *)v13);
  else
    v14 = 0i64;
  UFG::Music::sm_instance = v14;
  v15 = UFG::qMemoryPool::Allocate(&g_AudioComponentPool, 0x140ui64, "HudAudio", 0i64, 1u);
  *(_QWORD *)&result[0].mUID = v15;
  if ( v15 )
    UFG::HudAudio::HudAudio((UFG::HudAudio *)v15);
  else
    v16 = 0i64;
  UFG::HudAudio::m_instance = v16;
  v17 = UFG::qMemoryPool::Allocate(&g_AudioComponentPool, 0x150ui64, "AmbienceAudio", 0i64, 1u);
  *(_QWORD *)&result[0].mUID = v17;
  if ( v17 )
    UFG::AmbienceAudio::AmbienceAudio((UFG::AmbienceAudio *)v17);
  else
    v18 = 0i64;
  UFG::AmbienceAudio::m_instance = v18;
  v19 = UFG::qMemoryPool::Allocate(&g_AudioComponentPool, 0x150ui64, "NISAudio", 0i64, 1u);
  v20 = (UFG::NISAudio *)v19;
  v47 = v19;
  if ( v19 )
  {
    UFG::AudioEntity::AudioEntity((UFG::AudioEntity *)v19);
    v20->vfptr = (UFG::AudioEntityVtbl *)&UFG::NISAudio::`vftable;
    v20->m_controller.m_pEvent = 0i64;
    v21 = (UFG::qSymbolUC *)UFG::qSymbol::create_from_string(result, "NIS");
    UFG::AudioEntity::Init(v20, v21, &UFG::qMatrix44::msIdentity);
    UFG::AudioEntity::SetShouldFollowListener(v20, 1);
  }
  else
  {
    v20 = 0i64;
  }
  UFG::NISAudio::m_instance = v20;
  v22 = SimpleXML::XMLDocument::Open("Data\\Audio\\AudioUI.xml", 1ui64, 0i64);
  UFG::AudioUISystem::LoadUISoundDataCallback(v22);
  UFG::AudioSurfaceTypeManager::LoadSurfaceBankInfo("Data\\Audio\\SurfaceBankMap.xml");
  v23 = UFG::GameStatTracker::Instance();
  UFG::SubtitleManager::sm_subtitleMode = (unsigned int)UFG::GameStatTracker::GetStat(v23, Subtitles);
  UFG::SubtitleManager::LoadManifest();
  UFG::VoiceProfileManager::LoadVoiceProfiles();
  UFG::UIGfxTranslator::loadDictionary(UFG::UIScreenManager::s_instance->m_translator, "AudioAmbient");
  v24 = UFG::AudioEventHandler::m_instance;
  if ( !UFG::AudioEventHandler::m_instance )
  {
    v24 = (UFG::AudioEventHandler *)UFG::qMalloc(8ui64, "AudioEventHandler", 0i64);
    *(_QWORD *)&result[0].mUID = v24;
    if ( v24 )
      v24->m_tido = (UFG::TidoGame *)UFG::TiDo::m_pInstance;
    else
      v24 = 0i64;
    UFG::AudioEventHandler::m_instance = v24;
  }
  UFG::AudioEventHandler::RegisterEventHandlers(v24);
  if ( !UFG::WorldAudioEmitterManager::mInstance )
  {
    v25 = (UFG::WorldAudioEmitterManager *)UFG::qMalloc(8ui64, "WorldAudioEmitter", 0i64);
    *(_QWORD *)&result[0].mUID = v25;
    if ( v25 )
      v25->vfptr = (UFG::WorldAudioEmitterManagerVtbl *)&UFG::WorldAudioEmitterManager::`vftable;
    else
      v25 = 0i64;
    UFG::WorldAudioEmitterManager::mInstance = v25;
  }
  UFG::AudioEventPropertyManager::Initialize();
  UFG::AudioCategoryPropertyManager::Initialize();
  UFG::Radio::LoadRadioStationData();
  if ( !UFG::RadioFullyControlled::sm_playerRadio )
  {
    v26 = UFG::qMemoryPool::Allocate(&g_AudioComponentPool, 0x180ui64, "RadioFullyControlled", 0i64, 1u);
    *(_QWORD *)&result[0].mUID = v26;
    if ( v26 )
      UFG::RadioFullyControlled::RadioFullyControlled((UFG::RadioFullyControlled *)v26);
    else
      v27 = 0i64;
    UFG::RadioFullyControlled::sm_playerRadio = v27;
  }
  if ( !UFG::ArgumentSequencerBase::ms_instance )
  {
    v28 = UFG::qMalloc(0x98ui64, "ArgumentSequencer", 0i64);
    *(_QWORD *)&result[0].mUID = v28;
    if ( v28 )
      UFG::ArgumentSequencer::ArgumentSequencer((UFG::ArgumentSequencer *)v28);
    else
      v29 = 0i64;
    UFG::ArgumentSequencerBase::ms_instance = v29;
  }
  UFG::qSymbol::create_from_string(result, "audio-DialogueRules");
  UFG::ContextualDialogueManager::sm_propertySet = UFG::PropertySetManager::GetPropertySet(result);
  UFG::ContextualDialogueManager::ReadRules();
  UFG::ContextualDialogueManager::ReadResponses();
  v30 = (UFG::qSymbolUC *)UFG::qSymbol::create_from_string(result, "PoliceScanner");
  UFG::AudioEntity::Init(&UFG::PoliceScannerAudio::sm_Instance, v30, &UFG::qMatrix44::msIdentity);
  UFG::qString::Set(&strBlahBlahTest, "Begin_Pursuit");
  LOBYTE(v31) = 1;
  UFG::PoliceScannerAudio::sm_Instance.vfptr->SetShouldFollowListener(&UFG::PoliceScannerAudio::sm_Instance, v31);
  UFG::PoliceScannerAudio::LoadScenarios(&UFG::PoliceScannerAudio::sm_Instance);
  unk_14242F230 = 0i64;
  UFG::TidoGame::LoadLoadingMusicBanks(this);
  v43 = UFG::DefaultHotSwapCallBack;
  v32 = (void (__fastcall *)(fastdelegate::detail::GenericClass *))fastdelegate::FastDelegate1<char const *,void>::InvokeStaticFunction;
  if ( !_ )
    v32 = 0i64;
  callback.m_Closure.m_pFunction = v32;
  callback.m_Closure.m_pthis = (fastdelegate::detail::GenericClass *)_;
  v33 = (hkResourceHandle *)UFG::HotSwapFileManager::Get();
  callback.m_Closure.m_pthis = (fastdelegate::detail::GenericClass *)&v43;
  TargetVisibleInAIDataCondition::CreateClone(v33);
  UFG::AmbientConversationConfigurator::LoadDefinitionFile();
  UFG::VehicleAudioComponent::StaticInit();
  UFG::TidoGame::SetUserOptions(this);
  v34 = UFG::qMalloc(0x80ui64, "GunshotManager", 0i64);
  v35 = v34;
  *(_QWORD *)&result[0].mUID = v34;
  if ( v34 )
  {
    v34->mNext = v34;
    v34[1].mNext = v34;
    v36 = v34 + 2;
    v36->mNext = v36;
    v36[1].mNext = v36;
    v47 = v35 + 4;
    v35[4].mNext = v35 + 4;
    v35[5].mNext = v35 + 4;
    v35[9].mNext = 0i64;
    LODWORD(v35[10].mNext) = 1259902592;
    *(UFG::allocator::free_link **)((char *)&v35[10].mNext + 4) = (UFG::allocator::free_link *)1259902592;
    HIDWORD(v35[11].mNext) = 0;
    LODWORD(v35[12].mNext) = 1259902592;
    HIDWORD(v35[12].mNext) = 1259902592;
    v35[13].mNext = 0i64;
    LOWORD(v35[14].mNext) = 1;
    LODWORD(v35[7].mNext) = 5;
    HIDWORD(v35[7].mNext) = 1103626240;
    LODWORD(v35[8].mNext) = 1065353216;
    HIDWORD(v35[8].mNext) = 1056964608;
    v35[6].mNext = 0i64;
    HIDWORD(v35[14].mNext) = 50;
    LODWORD(v35[15].mNext) = 50;
    HIDWORD(v35[15].mNext) = 15;
  }
  else
  {
    v35 = 0i64;
  }
  UFG::GunshotManager::ms_instance = (UFG::GunshotManager *)v35;
  UFG::qFixedAllocator::Init(&UFG::gGunshotRequestPool, 4480, 64, "GunshotRequestPool", 0i64);
  UFG::TaggedDialogueStateManager::Init();
  UFG::VisualEffectAudioManager::LoadProperties();
  *(_QWORD *)&result[0].mUID = &initParams.m_devices;
  for ( j = &initParams.m_devices.mNode.mNext[-1].mNext;
        (int *)&initParams.m_devices.mNode.mNext[-1].mNext != &initParams.affinityMask;
        j = &initParams.m_devices.mNode.mNext[-1].mNext )
  {
    v38 = j + 1;
    v39 = j[1];
    v40 = j[2];
    v39->mNext = v40;
    v40->mPrev = v39;
    *v38 = v38;
    v38[1] = v38;
    if ( v38 != (_QWORD *)8 )
      (*(void (__fastcall **)(_QWORD *, __int64))*(v38 - 1))(v38 - 1, 1i64);
  }
  mPrev = initParams.m_devices.mNode.mPrev;
  mNext = initParams.m_devices.mNode.mNext;
  initParams.m_devices.mNode.mPrev->mNext = initParams.m_devices.mNode.mNext;
  mNext->mPrev = mPrev;
}

// File Line: 379
// RVA: 0x5ABA30
void __fastcall UFG::TidoGame::SetUserOptions(UFG::TidoGame *this)
{
  UFG::GameStatTracker *v2; // rdi
  int Stat; // ebx
  int v4; // esi
  int v5; // ebp
  unsigned int v6; // eax
  unsigned int v7; // eax
  unsigned int v8; // eax
  unsigned int v9; // eax

  v2 = UFG::GameStatTracker::Instance();
  Stat = UFG::GameStatTracker::GetStat(v2, VolumeSFX);
  v4 = UFG::GameStatTracker::GetStat(v2, VolumeMusic);
  v5 = UFG::GameStatTracker::GetStat(v2, VolumeDialogue);
  LODWORD(v2) = UFG::GameStatTracker::GetStat(v2, VolumeCarMusic);
  v6 = UFG::TiDo::CalcWwiseUid("master_sfx_volume");
  UFG::TiDo::SetWwiseRtpcValue(this, v6, (float)Stat, 0xFFFFFFFFFFFFFFFFui64);
  v7 = UFG::TiDo::CalcWwiseUid("master_dialog_volume");
  UFG::TiDo::SetWwiseRtpcValue(this, v7, (float)v4, 0xFFFFFFFFFFFFFFFFui64);
  v8 = UFG::TiDo::CalcWwiseUid("master_music_volume");
  UFG::TiDo::SetWwiseRtpcValue(this, v8, (float)v5, 0xFFFFFFFFFFFFFFFFui64);
  v9 = UFG::TiDo::CalcWwiseUid("master_radio_volume");
  UFG::TiDo::SetWwiseRtpcValue(this, v9, (float)(int)v2, 0xFFFFFFFFFFFFFFFFui64);
}

// File Line: 401
// RVA: 0x599A40
void __fastcall UFG::TidoGame::CreateAudioEntityRegionData(UFG::TidoGame *this, UFG::AudioEntity *parent)
{
  UFG::allocator::free_link *v3; // rax
  UFG::allocator::free_link *v4; // rbx

  v3 = UFG::qMemoryPool::Allocate(&g_AudioComponentPool, 0x10ui64, "AudioEntityRegionDataGame", 0i64, 1u);
  v4 = v3;
  if ( v3 )
  {
    UFG::AudioEntityRegionData::AudioEntityRegionData((UFG::AudioEntityRegionData *)v3, parent);
    v4->mNext = (UFG::allocator::free_link *)&UFG::AudioEntityRegionDataGame::`vftable;
  }
}

// File Line: 411
// RVA: 0x5B0BC0
void __fastcall UFG::TidoGame::UpdateListenerTriggerRegions(UFG::TidoGame *this, UFG::AudioListener *listener)
{
  UFG::AudioTriggerRegion::CheckListener(listener);
}

// File Line: 422
// RVA: 0x5A4730
void __fastcall UFG::TidoGame::OnOneShotFree(UFG::TidoGame *this, UFG::OneShot *oneshot)
{
  UFG::PersistentEventItem *Collision; // rax

  if ( UFG::PersistentCollisionManager::sm_numPersistentEvents )
  {
    Collision = UFG::PersistentCollisionManager::FindCollision(oneshot);
    if ( Collision )
      UFG::PersistentCollisionManager::RemoveCollision(Collision);
  }
}

// File Line: 440
// RVA: 0x5A4B50
void __fastcall UFG::TidoGame::OnTriggerRegionEnter(UFG::TidoGame *this, UFG::AudioTriggerRegionEvent *regionEvent)
{
  if ( regionEvent->mAudioType == 3 && regionEvent->mAudioUidOnEnter.mUID == effect_in_tunnel.mUID )
    UFG::TidoGame::sm_effectInTunnelTarg = regionEvent->mAudioRtpcVal;
}

// File Line: 482
// RVA: 0x5A4B70
void __fastcall UFG::TidoGame::OnTriggerRegionExit(UFG::TidoGame *this, UFG::AudioTriggerRegionEvent *regionEvent)
{
  if ( regionEvent->mAudioType == 3 && regionEvent->mAudioUidOnEnter.mUID == effect_in_tunnel.mUID )
    UFG::TidoGame::sm_effectInTunnelTarg = 0.0;
}

// File Line: 525
// RVA: 0x5A9C60
void __fastcall UFG::TidoGame::RegisterUIAudioCallback(UFG::TidoGame *this)
{
  UFG::UIScreenManager::s_instance->m_audioCallback = UFG::AudioUISystem::BasicHandler;
}

// File Line: 534
// RVA: 0x599910
void __fastcall UFG::TidoGame::Create(UFG::TidoGame *this, UFG::SimObject *simObject, UFG::ModelAsset *modelAsset)
{
  UFG::qReflectArray<UFG::qReflectHandle<UFG::qReflectObject> > *mItems; // rsi
  __int64 i; // rdi
  unsigned __int64 mTypeUID; // rbx
  UFG::qReflectObjectType<UFG::AudioEmitterDefinition,UFG::qReflectObject> *v7; // rcx
  const char *TypeName; // rax
  UFG::qReflectObject *mData; // rbx
  UFG::qMemoryPool *SimulationMemoryPool; // rax
  UFG::allocator::free_link *v11; // rax
  UFG::SimComponent *v12; // rax
  UFG::SimComponent *v13; // rbx
  UFG::SimObjectModifier v14; // [rsp+38h] [rbp-60h] BYREF
  UFG::qReflectHandleBase v15; // [rsp+58h] [rbp-40h] BYREF

  mItems = modelAsset->mCustomDataSlotArray.mData.mItems;
  for ( i = 0i64; (unsigned int)i < mItems->mData.mNumItems; i = (unsigned int)(i + 1) )
  {
    UFG::qReflectHandleBase::qReflectHandleBase(&v15, &mItems->mData.mItems[i]);
    mTypeUID = v15.mData->mTypeUID;
    TypeName = UFG::qReflectObjectType<UFG::AudioEmitterDefinition,UFG::qReflectObject>::GetTypeName(v7);
    if ( mTypeUID == UFG::qStringHash64(TypeName, 0xFFFFFFFFFFFFFFFFui64) )
    {
      mData = mItems->mData.mItems[i].mData;
      SimulationMemoryPool = UFG::GetSimulationMemoryPool();
      v11 = UFG::qMemoryPool::Allocate(SimulationMemoryPool, 0x88ui64, "AudioEmitterComponent", 0i64, 1u);
      if ( v11 )
      {
        UFG::AudioEmitterComponent::AudioEmitterComponent(
          (UFG::AudioEmitterComponent *)v11,
          mData->mBaseNode.mUID,
          simObject->mNode.mUID);
        v13 = v12;
      }
      else
      {
        v13 = 0i64;
      }
      UFG::SimObjectModifier::SimObjectModifier(&v14, simObject, 1);
      UFG::SimObjectModifier::AttachComponent(&v14, v13, 0xFFFFFFFFi64);
      UFG::SimObjectModifier::Close(&v14);
      UFG::SimObjectModifier::~SimObjectModifier(&v14);
    }
    UFG::qReflectHandleBase::~qReflectHandleBase(&v15);
  }
}

// File Line: 555
// RVA: 0x598C20
void __fastcall UFG::TidoGame::Close(UFG::TidoGame *this)
{
  UFG::AudioEventHandler *v2; // rcx
  UFG::EngineManager *Instance; // rax

  if ( AK::SoundEngine::IsInitialized() )
  {
    UFG::WorldAudioEmitterManager::TurnOffAllEmitters();
    v2 = UFG::AudioEventHandler::m_instance;
    if ( !UFG::AudioEventHandler::m_instance )
    {
      v2 = (UFG::AudioEventHandler *)UFG::qMalloc(8ui64, "AudioEventHandler", 0i64);
      if ( v2 )
        v2->m_tido = (UFG::TidoGame *)UFG::TiDo::m_pInstance;
      else
        v2 = 0i64;
      UFG::AudioEventHandler::m_instance = v2;
    }
    UFG::AudioEventHandler::UnregisterEventHandlers(v2);
    UFG::Radio::ClearRadioStationData();
    if ( UFG::RadioFullyControlled::sm_playerRadio )
      UFG::RadioFullyControlled::sm_playerRadio->vfptr->__vecDelDtor(UFG::RadioFullyControlled::sm_playerRadio, 1i64);
    UFG::ConversationManager::Destroy();
    UFG::AmbienceAudio::Shutdown(UFG::HudAudio::m_instance);
    UFG::AudioEntity::Shutdown(UFG::Music::sm_instance);
    UFG::AmbienceAudio::Shutdown((UFG::HudAudio *)UFG::AmbienceAudio::m_instance);
    UFG::AudioEntity::Shutdown(UFG::NISAudio::m_instance);
    UFG::ArgumentSequencerBase::Destroy(UFG::ArgumentSequencerBase::ms_instance);
    Instance = UFG::EngineManager::GetInstance();
    UFG::qList<UFG::EngineCurve,UFG::EngineCurve,1,0>::DeleteNodes(&Instance->m_engineList);
    UFG::AudioEntity::StopAllEvents(0xFFFFFFFFFFFFFFFFui64);
    AK::SoundEngine::RenderAudio();
    UFG::TiDo::Close(this);
    UFG::AudioEventPropertyManager::Shutdown();
    UFG::AudioCategoryPropertyManager::Shutdown();
  }
}

// File Line: 591
// RVA: 0x5A1130
void __fastcall UFG::TidoGame::LoadFilePackage(UFG::TidoGame *this)
{
  UFG::qSymbol *v1; // rax
  UFG::qSymbol *v2; // rax
  UFG::qSymbol result; // [rsp+48h] [rbp+10h] BYREF
  UFG::qSymbol *p_result; // [rsp+50h] [rbp+18h]

  p_result = &result;
  v1 = UFG::qSymbol::create_from_string(&result, "Optical");
  UFG::TiDo::LoadFilePackage("SFX.pck", &v1->mUID, 0, 0);
  p_result = &result;
  v2 = UFG::qSymbol::create_from_string(&result, "HDD");
  UFG::TiDo::LoadFilePackage("English(US).pck", &v2->mUID, 0, 0);
}

// File Line: 669
// RVA: 0x5AE6E0
void __fastcall UFG::TidoGame::UnloadFilePackage(UFG::TidoGame *this)
{
  UFG::qString v2; // [rsp+28h] [rbp-60h] BYREF
  UFG::qString v3; // [rsp+50h] [rbp-38h] BYREF

  if ( UFG::BigFileLogic::IsBigFileEnabled(UFG::BigFileLogic::SYSTEM_AUDIO, 0i64) && !UFG::gNoAudioPCK )
  {
    UFG::qString::qString(&v3, "hk_project.pck");
    UFG::qString::qString(&v2);
    this->vfptr->LookupLocalisedLanguage(this, &v2);
    UFG::qString::operator+=(&v2, ".pck");
    UFG::qPrintf("\nUnloading File Package.... %s\n", v3.mData);
    UFG::qPrintf("\nUnloading File Package.... %s\n", v2.mData);
    UFG::qString::~qString(&v2);
    UFG::qString::~qString(&v3);
  }
}

// File Line: 695
// RVA: 0x5A14A0
void __fastcall UFG::TidoGame::LoadLoadingMusicBanks(UFG::TidoGame *this, int a2, int a3)
{
  float v4; // xmm0_4
  UFG::qStaticWiseSymbol *v5; // rdx

  if ( !this->m_loadingBankLoaded
    && Track<TriggerRecoilPostEffectTask>::DeleteTaskWhenItReturnsFalse((hkGeometryUtils::IVertices *)this, a2, a3) )
  {
    v4 = UFG::qRandom(3.0, (unsigned int *)&UFG::qDefaultSeed);
    if ( v4 > 1.0 )
    {
      if ( v4 > 2.0 )
      {
        if ( v4 > 3.0 )
        {
LABEL_10:
          this->m_loadOnce = 1;
          UFG::TiDo::LoadWwiseBank(&this->m_loadingBankName);
          this->m_loadingBankLoaded = 1;
          return;
        }
        UFG::qWiseSymbol::operator=(&this->m_loadingBankName, &mus_loading_lp_03);
        v5 = &play_mus_loading_lp_02a;
      }
      else
      {
        UFG::qWiseSymbol::operator=(&this->m_loadingBankName, &mus_loading_lp_02);
        v5 = &play_mus_loading_lp_01b;
      }
    }
    else
    {
      UFG::qWiseSymbol::operator=(&this->m_loadingBankName, &mus_loading_lp_01);
      v5 = &play_mus_loading_lp_01a;
    }
    UFG::qWiseSymbol::operator=(&this->m_loadingEventName, v5);
    goto LABEL_10;
  }
}

// File Line: 751
// RVA: 0x59A570
void __fastcall UFG::TidoGame::CreateInstance(hkGeometryUtils::IVertices *a1, int a2, int a3)
{
  bool v3; // al
  unsigned int v4; // ecx
  UFG::allocator::free_link *v5; // rax

  v3 = Track<TriggerRecoilPostEffectTask>::DeleteTaskWhenItReturnsFalse(a1, a2, a3);
  v4 = g_HK_AudioMemoryPoolSize;
  if ( !v3 )
    v4 = g_HK_AudioMemoryPoolSize - g_HK_DisabledAudioReserveSize;
  UFG::InitAudioMemPool(v4);
  if ( !UFG::TiDo::m_pInstance )
  {
    v5 = UFG::qMemoryPool::Allocate(&g_AudioComponentPool, 0x28ui64, "TidoGame", 0i64, 1u);
    if ( v5 )
      UFG::TidoGame::TidoGame((UFG::TidoGame *)v5);
    UFG::TiDo::m_pInstance = (UFG::TiDo *)v5;
  }
}

// File Line: 797
// RVA: 0x5B1640
void __fastcall UFG::TidoGame::UpdateWwiseStateQueue(float delta_sec)
{
  UFG::qNode<UFG::WwiseStateRequest,UFG::WwiseStateRequest> **p_mNext; // rbx
  char *v2; // rdi
  float *v3; // rax
  int v4; // esi
  UFG::qNode<UFG::WwiseStateRequest,UFG::WwiseStateRequest> **v5; // rcx
  UFG::qNode<UFG::WwiseStateRequest,UFG::WwiseStateRequest> *v6; // rdx
  UFG::qNode<UFG::WwiseStateRequest,UFG::WwiseStateRequest> *v7; // rax
  UFG::qNode<UFG::WwiseStateRequest,UFG::WwiseStateRequest> *v8; // rbx

  p_mNext = &UFG::TidoGame::sm_stateRequestQueue.mNode.mNext[-1].mNext;
  v2 = (char *)&UFG::TidoGame::sm_stateRequestQueue - 8;
  v3 = (float *)&UFG::TidoGame::sm_stateRequestQueue.mNode.mNext[-1].mNext;
  if ( &UFG::TidoGame::sm_stateRequestQueue.mNode.mNext[-1].mNext != (UFG::qNode<UFG::WwiseStateRequest,UFG::WwiseStateRequest> **)((char *)&UFG::TidoGame::sm_stateRequestQueue - 8) )
  {
    do
    {
      v3[8] = delta_sec + v3[8];
      v3 = (float *)(*((_QWORD *)v3 + 2) - 8i64);
    }
    while ( v3 != (float *)v2 );
    if ( p_mNext != (UFG::qNode<UFG::WwiseStateRequest,UFG::WwiseStateRequest> **)v2 && *((float *)p_mNext + 8) > 0.1 )
    {
      UFG::WwiseInterface::SetWwiseState(*((_DWORD *)p_mNext + 6), *((_DWORD *)p_mNext + 7));
      v4 = *((_DWORD *)p_mNext + 6);
      v5 = &UFG::TidoGame::sm_stateRequestQueue.mNode.mNext[-1].mNext;
      if ( UFG::TidoGame::sm_stateRequestQueue.mNode.mNext != (UFG::qNode<UFG::WwiseStateRequest,UFG::WwiseStateRequest> *)8 )
      {
        do
        {
          if ( v5 == (UFG::qNode<UFG::WwiseStateRequest,UFG::WwiseStateRequest> **)v2 )
            break;
          if ( *((_DWORD *)v5 + 6) == v4 )
          {
            v6 = v5[1];
            v7 = v5[2];
            v8 = v7;
            v6->mNext = v7;
            v7->mPrev = v6;
            v5[1] = (UFG::qNode<UFG::WwiseStateRequest,UFG::WwiseStateRequest> *)(v5 + 1);
            v5[2] = (UFG::qNode<UFG::WwiseStateRequest,UFG::WwiseStateRequest> *)(v5 + 1);
            ((void (__fastcall *)(UFG::qNode<UFG::WwiseStateRequest,UFG::WwiseStateRequest> **, __int64))(*v5)->mPrev)(
              v5,
              1i64);
            v5 = &v8[-1].mNext;
          }
          else
          {
            v5 = &v5[2][-1].mNext;
          }
        }
        while ( v5 );
      }
    }
  }
}

// File Line: 846
// RVA: 0x5B0780
void __fastcall UFG::TidoGame::UpdateFrame(UFG::TidoGame *this, float delta_sec)
{
  float v3; // xmm7_4
  char v4; // cl
  UFG::AudioEventHandler *Instance; // rax

  if ( !UFG::TiDo::sm_shuttingDown )
  {
    UFG::TidoGame::UpdateWwiseStateQueue(delta_sec);
    if ( !UFG::WwiseInterface::smLoadScreen )
      UFG::WorldAudioEmitterManager::Update();
    v3 = *(float *)&FLOAT_1_0;
    if ( UFG::TiDo::sm_audioState == eAUDIOSTATE_IN_GAME )
    {
      UFG::qApproach(
        &UFG::TidoGame::sm_smoothedGameSimTimeScale,
        UFG::Metrics::msInstance.mSimTimeScaleInGame,
        delta_sec,
        2.0);
      if ( last_time_scale != UFG::TidoGame::sm_smoothedGameSimTimeScale )
      {
        UFG::TiDo::SetWwiseRtpcValue(
          this,
          game_sim_time_scale.mUID,
          UFG::TidoGame::sm_smoothedGameSimTimeScale,
          0xFFFFFFFFFFFFFFFFui64);
        last_time_scale = UFG::TidoGame::sm_smoothedGameSimTimeScale;
      }
      UFG::VisualEffectAudioManager::Update(UFG::Metrics::msInstance.mSimTimeDelta);
      UFG::VehicleAudioComponent::StaticUpdate();
      v4 = byte_14242F9AC;
      if ( !byte_14242F9AC )
        v4 = 1;
      byte_14242F9AC = v4;
      UFG::ConversationManager::UpdateConversations(delta_sec);
      UFG::TidoGame::UpdateDistantTraffic(this);
      UFG::TidoGame::UpdateAmbiences(this, delta_sec);
      UFG::TidoGame::UpdateWeather(this, delta_sec);
      UFG::TidoGame::UpdateEffectInTunnel(delta_sec);
      UFG::AudioVFXManager::Update(delta_sec);
      if ( UFG::RadioFullyControlled::sm_playerRadio )
        UFG::Radio::UpdateTrackTimers(UFG::RadioFullyControlled::sm_playerRadio, delta_sec);
      if ( UFG::VendorDialogueUtils::sm_instance && !UFG::VendorDialogueUtils::sm_controller.m_pEvent )
        UFG::VendorDialogueUtils::Cleanup();
      UFG::qGetTicks();
      if ( UFG::AudioTriggerRegion::sm_hierarchyIsDirty )
        UFG::AudioTriggerRegion::UpdateContainmentHierarchy();
      Instance = UFG::AudioEventHandler::GetInstance();
      UFG::AudioEventHandler::Update(Instance, delta_sec);
      UFG::AudioEventHandler::ClearCollisionEventList();
      UFG::TidoGame::UpdateSurfaceBankLoadTimes(delta_sec);
      _((AMD_HD3D *)this);
      UFG::ActorAudioComponent::sm_numNearbyPeds = 0.0;
      UFG::AudioEventHandler::sm_numCollisions = 0;
      UFG::ActorAudioComponent::sm_numPerFrameFootsteps = 0;
      UFG::ActorAudioComponent::sm_numActivePeds = 0.0;
      UFG::ActorAudioComponent::sm_numInCarPeds = 0.0;
      UFG::ActorAudioComponent::sm_numIndoorPeds = 0.0;
      UFG::ActorAudioComponent::sm_numOutdoorPeds = 0.0;
      UFG::ActorAudioComponent::sm_numNearbyNonAmbientPeds = 0.0;
    }
    else
    {
      UFG::TidoGame::sm_smoothedGameSimTimeScale = 1.0;
      UFG::TiDo::SetWwiseRtpcValue(this, game_sim_time_scale.mUID, 1.0, 0xFFFFFFFFFFFFFFFFui64);
    }
    UFG::GunshotManager::Update(UFG::GunshotManager::ms_instance, delta_sec);
    if ( UFG::GunshotManager::ms_instance->m_numAiGunshots.m_currentValue < 4.0
      || !UFG::FacialActionTreeComponent::sDisableFacialAnimationUpdate )
    {
      v3 = 0.0;
    }
    if ( last_gun_battle_rptc != v3 )
    {
      UFG::TiDo::SetWwiseRtpcValue(this, 0xDD53F496, v3, 0xFFFFFFFFFFFFFFFFui64);
      last_gun_battle_rptc = v3;
    }
    UFG::TiDo::UpdateFrame(this, delta_sec);
  }
}

// File Line: 1096
// RVA: 0x155A420
__int64 UFG::_dynamic_initializer_for__num_nearby_peds__()
{
  UFG::qWiseSymbol::create_from_string(&num_nearby_peds, "num_nearby_peds");
  return atexit((int (__fastcall *)())UFG::_dynamic_atexit_destructor_for__num_nearby_peds__);
}

// File Line: 1097
// RVA: 0x155A3C0
__int64 UFG::_dynamic_initializer_for__num_indoor_peds__()
{
  UFG::qWiseSymbol::create_from_string(&num_indoor_peds, "num_indoor_peds");
  return atexit((int (__fastcall *)())UFG::_dynamic_atexit_destructor_for__num_indoor_peds__);
}

// File Line: 1098
// RVA: 0x155A480
__int64 UFG::_dynamic_initializer_for__num_outdoor_peds__()
{
  UFG::qWiseSymbol::create_from_string(&num_outdoor_peds, "num_outdoor_peds");
  return atexit((int (__fastcall *)())UFG::_dynamic_atexit_destructor_for__num_outdoor_peds__);
}

// File Line: 1099
// RVA: 0x155A4B0
__int64 UFG::_dynamic_initializer_for__panic_level__()
{
  UFG::qWiseSymbol::create_from_string(&panic_level, "panic_level");
  return atexit((int (__fastcall *)())UFG::_dynamic_atexit_destructor_for__panic_level__);
}

// File Line: 1100
// RVA: 0x155CC40
__int64 UFG::_dynamic_initializer_for__random_approach__()
{
  UFG::qWiseSymbol::create_from_string(&random_approach, "random_approach");
  return atexit((int (__fastcall *)())UFG::_dynamic_atexit_destructor_for__random_approach__);
}

// File Line: 1101
// RVA: 0x155CC70
__int64 UFG::_dynamic_initializer_for__random_rate__()
{
  UFG::qWiseSymbol::create_from_string(&random_rate, "random_rate");
  return atexit((int (__fastcall *)())UFG::_dynamic_atexit_destructor_for__random_rate__);
}

// File Line: 1102
// RVA: 0x155D160
__int64 UFG::_dynamic_initializer_for__time_of_day__()
{
  UFG::qWiseSymbol::create_from_string(&time_of_day, "time_of_day");
  return atexit((int (__fastcall *)())UFG::_dynamic_atexit_destructor_for__time_of_day__);
}

// File Line: 1103
// RVA: 0x155A3F0
__int64 UFG::_dynamic_initializer_for__num_nearby_cars__()
{
  UFG::qWiseSymbol::create_from_string(&num_nearby_cars, "num_nearby_cars");
  return atexit((int (__fastcall *)())UFG::_dynamic_atexit_destructor_for__num_nearby_cars__);
}

// File Line: 1104
// RVA: 0x155A450
__int64 UFG::_dynamic_initializer_for__num_nearby_thugs__()
{
  UFG::qWiseSymbol::create_from_string(&num_nearby_thugs, "num_nearby_thugs");
  return atexit((int (__fastcall *)())UFG::_dynamic_atexit_destructor_for__num_nearby_thugs__);
}

// File Line: 1107
// RVA: 0x5AFC70
void __fastcall UFG::TidoGame::UpdateAmbiences(UFG::TidoGame *this, float delta_sec)
{
  float v3; // xmm6_4
  float v4; // xmm6_4
  float v5; // xmm6_4
  float v6; // xmm6_4
  float v7; // xmm6_4
  float v8; // xmm6_4
  float v9[4]; // [rsp+20h] [rbp-38h] BYREF
  float value; // [rsp+70h] [rbp+18h] BYREF
  float v11; // [rsp+78h] [rbp+20h] BYREF

  v3 = UFG::TimeOfDayManager::GetInstance()->m_SecondsSinceMidnight * 0.00027777778;
  if ( v3 != last_tod )
  {
    UFG::TiDo::SetWwiseRtpcValue(this, time_of_day.mUID, v3, 0xFFFFFFFFFFFFFFFFui64);
    last_tod = v3;
  }
  if ( last_num_nearby_cars != UFG::VehicleAudioComponent::sm_numCarsNearby )
  {
    UFG::AudioEntity::SetRtpcValue(
      UFG::AmbienceAudio::m_instance,
      num_nearby_cars.mUID,
      UFG::VehicleAudioComponent::sm_numCarsNearby);
    last_num_nearby_cars = UFG::VehicleAudioComponent::sm_numCarsNearby;
  }
  value = UFG::ActorAudioComponent::sm_lastNumNearbyPeds;
  UFG::qApproach(
    &value,
    UFG::ActorAudioComponent::sm_numNearbyPeds,
    UFG::ActorAudioComponent::gActorRateLimit,
    delta_sec);
  v4 = value;
  if ( value != last_num_nearby_peds )
  {
    UFG::AudioEntity::SetRtpcValue(UFG::AmbienceAudio::m_instance, num_nearby_peds.mUID, value);
    UFG::TiDo::SetWwiseRtpcValue(this, num_nearby_peds.mUID, v4, 0xFFFFFFFFFFFFFFFFui64);
    UFG::ActorAudioComponent::sm_lastNumNearbyPeds = v4;
    last_num_nearby_peds = v4;
  }
  v11 = UFG::ActorAudioComponent::sm_lastNumIndoorPeds;
  UFG::qApproach(&v11, UFG::ActorAudioComponent::sm_numIndoorPeds, UFG::ActorAudioComponent::gActorRateLimit, delta_sec);
  v5 = v11;
  if ( v11 != last_num_indoor_peds )
  {
    UFG::AudioEntity::SetRtpcValue(UFG::AmbienceAudio::m_instance, num_indoor_peds.mUID, v11);
    UFG::ActorAudioComponent::sm_lastNumIndoorPeds = v5;
    last_num_indoor_peds = v5;
  }
  v9[0] = UFG::ActorAudioComponent::sm_lastNumOutdoorPeds;
  UFG::qApproach(v9, UFG::ActorAudioComponent::sm_numOutdoorPeds, UFG::ActorAudioComponent::gActorRateLimit, delta_sec);
  v6 = v9[0];
  if ( v9[0] != last_num_outdoor_peds )
  {
    UFG::AudioEntity::SetRtpcValue(UFG::AmbienceAudio::m_instance, num_outdoor_peds.mUID, v9[0]);
    UFG::ActorAudioComponent::sm_lastNumOutdoorPeds = v6;
    last_num_outdoor_peds = v6;
  }
  v7 = dword_14242E484;
  if ( dword_14242E484 != last_panic_value )
  {
    UFG::AudioEntity::SetRtpcValue(UFG::AmbienceAudio::m_instance, panic_level.mUID, dword_14242E484);
    last_panic_value = v7;
  }
  v8 = UFG::ActorAudioComponent::sm_numNearbyNonAmbientPeds;
  if ( UFG::ActorAudioComponent::sm_numNearbyNonAmbientPeds != last_num_thugs )
  {
    UFG::TiDo::SetWwiseRtpcValue(
      this,
      num_nearby_thugs.mUID,
      UFG::ActorAudioComponent::sm_numNearbyNonAmbientPeds,
      0xFFFFFFFFFFFFFFFFui64);
    last_num_thugs = v8;
  }
}

// File Line: 1188
// RVA: 0x5B1340
void __fastcall UFG::TidoGame::UpdateWeather(UFG::TidoGame *this, float delta_sec)
{
  unsigned int v3; // eax
  bool v4; // bl
  float m_WeatherState; // xmm6_4
  float v6; // xmm0_4

  v3 = _S7_15;
  if ( (_S7_15 & 1) == 0 )
  {
    _S7_15 |= 1u;
    UFG::qWiseSymbol::create_from_string(&amb_rain_d, "amb_rain_d");
    atexit(UFG::TidoGame::UpdateWeather_::_2_::_dynamic_atexit_destructor_for__amb_rain_d__);
    v3 = _S7_15;
  }
  if ( (v3 & 2) == 0 )
  {
    _S7_15 = v3 | 2;
    UFG::qWiseSymbol::create_from_string(&sur_wet_d, "sur_wet_d");
    atexit(UFG::TidoGame::UpdateWeather_::_2_::_dynamic_atexit_destructor_for__sur_wet_d__);
    v3 = _S7_15;
  }
  if ( (v3 & 4) == 0 )
  {
    _S7_15 = v3 | 4;
    UFG::qWiseSymbol::create_from_string(&play_rain, "play_rain");
    atexit(UFG::TidoGame::UpdateWeather_::_2_::_dynamic_atexit_destructor_for__play_rain__);
    v3 = _S7_15;
  }
  if ( (v3 & 8) == 0 )
  {
    _S7_15 = v3 | 8;
    UFG::qWiseSymbol::create_from_string(&fade_rain, "fade_rain");
    atexit(UFG::TidoGame::UpdateWeather_::_2_::_dynamic_atexit_destructor_for__fade_rain__);
    v3 = _S7_15;
  }
  if ( (v3 & 0x10) == 0 )
  {
    _S7_15 = v3 | 0x10;
    UFG::qWiseSymbol::create_from_string(&stop_rain, "stop_rain");
    atexit(UFG::TidoGame::UpdateWeather_::_2_::_dynamic_atexit_destructor_for__stop_rain__);
  }
  v4 = UFG::TimeOfDayManager::GetInstance()->m_WeatherState > 1.0;
  m_WeatherState = UFG::TimeOfDayManager::GetInstance()->m_WeatherState;
  if ( COERCE_FLOAT(COERCE_UNSIGNED_INT(m_WeatherState - old_wet_level) & _xmm) > 0.000099999997 )
  {
    if ( (_S7_15 & 0x20) == 0 )
    {
      _S7_15 |= 0x20u;
      UFG::qWiseSymbol::create_from_string(&wet_level_rtpc, "wet_level");
      atexit(UFG::TidoGame::UpdateWeather_::_5_::_dynamic_atexit_destructor_for__wet_level_rtpc__);
    }
    UFG::TiDo::SetWwiseRtpcValue(this, wet_level_rtpc.mUID, m_WeatherState, 0xFFFFFFFFFFFFFFFFui64);
    old_wet_level = m_WeatherState;
  }
  if ( v4
    && (UFG::AudioTriggerRegion::sm_interiorTransitionCount <= 0
     || UFG::DoorStateManager::sm_active && UFG::DoorStateManager::sm_open
     || UFG::AudioTriggerRegion::sm_rainDrawOverride > 0) )
  {
    if ( !banks_loaded )
    {
      UFG::TiDo::LoadWwiseBank(&amb_rain_d);
      UFG::TiDo::LoadWwiseBank(&sur_wet_d);
      banks_loaded = 1;
    }
    if ( !rain_is_playing && UFG::SoundBankManager::BankLoaded(&amb_rain_d) )
    {
      UFG::AudioEntity::CreateAndPlayEvent(UFG::AmbienceAudio::m_instance, play_rain.mUID, 0i64, 0, 0i64);
      rain_is_playing = 1;
    }
    rain_timeout = 0.0;
  }
  else
  {
    if ( rain_is_playing )
    {
      UFG::AudioEntity::CreateAndPlayEvent(UFG::AmbienceAudio::m_instance, fade_rain.mUID, 0i64, 0, 0i64);
      rain_is_playing = 0;
    }
    v6 = rain_timeout + delta_sec;
    rain_timeout = rain_timeout + delta_sec;
    if ( banks_loaded && v6 > 10.0 )
    {
      UFG::AudioEntity::CreateAndPlayEvent(UFG::AmbienceAudio::m_instance, stop_rain.mUID, 0i64, 0, 0i64);
      UFG::TiDo::UnloadWwiseBank(&amb_rain_d);
      UFG::TiDo::UnloadWwiseBank(&sur_wet_d);
      banks_loaded = 0;
    }
  }
}

// File Line: 1332
// RVA: 0x59BD50
UFG::qWiseSymbol *__fastcall UFG::TidoGame::FindBankIdForSurface(
        UFG::qWiseSymbol *result,
        unsigned int surfaceUid,
        unsigned int footwear)
{
  UFG::AudioSurfaceTypeManager::GetSurfaceBankId(result, surfaceUid, footwear);
  return result;
}

// File Line: 1405
// RVA: 0x5A0930
void __fastcall UFG::TidoGame::LoadAudio(UFG::TidoGame *this, char *name)
{
  if ( !Scaleform::Render::Text::DocView::DocumentListener::View_OnLineFormat(
          (hkgpIndexedMesh::EdgeBarrier *)this,
          (hkgpIndexedMeshDefinitions::Edge *)name) )
    UFG::TiDo::LoadAudio(this, name);
}

// File Line: 1418
// RVA: 0x5A2EB0
void __fastcall UFG::TidoGame::LoadingGameStart(UFG::TidoGame *this, UFG::qWiseSymbol *loadingMixState)
{
  UFG::allocator::free_link *v4; // rax
  UFG::allocator::free_link *v5; // rdx
  __int64 v6; // [rsp+50h] [rbp-38h]
  UFG::AudioEventInitParams pInitParams; // [rsp+58h] [rbp-30h] BYREF
  UFG::qWiseSymbol result; // [rsp+A0h] [rbp+18h] BYREF
  UFG::allocator::free_link *v9; // [rsp+A8h] [rbp+20h]

  if ( !Scaleform::Render::Text::DocView::DocumentListener::View_OnLineFormat(
          (hkgpIndexedMesh::EdgeBarrier *)this,
          (hkgpIndexedMeshDefinitions::Edge *)loadingMixState) )
  {
    this->m_loadScreen = 1;
    UFG::AudioEntity::CreateAndPlayEvent(UFG::AmbienceAudio::m_instance, loadingMixState->mUID, 0i64, 0, 0i64);
    UFG::qWiseSymbol::create_from_string(&result, "stop_mus_fe_lic");
    UFG::Music::MusicEvent(result.mUID);
    if ( this->m_loadOnce )
    {
      v4 = UFG::qMalloc(0x58ui64, "WwiseEventCallbackData", 0i64);
      v5 = v4;
      v9 = v4;
      if ( v4 )
      {
        v4->mNext = (UFG::allocator::free_link *)&UFG::WwiseEventCallbackData::`vftable;
        v4[1].mNext = 0i64;
        LOBYTE(v4[2].mNext) = 0;
        v4[3].mNext = (UFG::allocator::free_link *)&UFG::WwiseCallbackOperation::`vftable;
        v4[5].mNext = (UFG::allocator::free_link *)&UFG::AudioEventInfo::`vftable;
        LODWORD(v4[6].mNext) = 0;
        v4[7].mNext = 0i64;
        LODWORD(v4[8].mNext) = 0;
        v4[9].mNext = 0i64;
        v4[10].mNext = 0i64;
        v4[4].mNext = 0i64;
      }
      else
      {
        v5 = 0i64;
      }
      LODWORD(v5[4].mNext) = 2;
      HIDWORD(v5[4].mNext) = this->m_loadingBankName.mUID;
      LODWORD(v6) = 0;
      pInitParams.m_EventPlayEndCallback = (void (__fastcall *)(UFG::AudioEntity *, UFG::eAudioEventCallbackType, UFG::AudioEvent *, void *))UFG::Music::MusicCallback;
      *(_QWORD *)pInitParams.gap8 = 0i64;
      *(_QWORD *)&pInitParams.gap8[8] = v6;
      pInitParams.m_EventCallbackUserData = v5;
      UFG::AudioEntity::CreateAndPlayEvent(
        UFG::Music::sm_instance,
        this->m_loadingEventName.mUID,
        &UFG::Music::sm_controller,
        &pInitParams,
        0,
        0i64);
      this->m_loadOnce = 0;
    }
    UFG::TiDo::LoadingGameStart(this, loadingMixState);
    UFG::TiDo::UpdateFrame(this, 0.0099999998);
    _((AMD_HD3D *)result.mUID);
  }
}

// File Line: 1458
// RVA: 0x5A2D90
char __fastcall UFG::TidoGame::LoadingGameEnd(UFG::TidoGame *this, hkgpIndexedMeshDefinitions::Edge *endLoadMixState)
{
  char v4; // di
  UFG::Controller *v5; // rcx

  if ( Scaleform::Render::Text::DocView::DocumentListener::View_OnLineFormat(
         (hkgpIndexedMesh::EdgeBarrier *)this,
         endLoadMixState)
    || !this->m_loadScreen )
  {
    return 1;
  }
  this->m_loadScreen = 0;
  this->m_distantTrafficDisabled = 0;
  v4 = UFG::TiDo::LoadingGameEnd(this, (UFG::qWiseSymbol *)endLoadMixState);
  if ( v4 )
  {
    if ( UFG::Music::sm_controller.m_pEvent && (*((_BYTE *)UFG::Music::sm_controller.m_pEvent + 144) & 0x40) != 0 )
      UFG::AudioEvent::StopAndForget(UFG::Music::sm_controller.m_pEvent, 250);
    this->m_loadingBankLoaded = 0;
    if ( !(unsigned int)UFG::qStringCompare("HKAudioSandbox", gCurrentLocationDirectory.mData, -1) )
    {
      ((void (__fastcall *)(UFG::TidoGame *, const char *, const char *))this->vfptr[1].UpdateListenerTriggerRegions)(
        this,
        "gunshot",
        "wet");
      this->m_distantTrafficDisabled = 1;
    }
    UFG::AmbienceAudio::PlayAmbience(UFG::AmbienceAudio::m_instance, play_amb_city_2.mUID);
    this->m_distantTrafficPlaying = 1;
    UFG::AudioListener::sm_pInstance->m_lockListenerPosition = 0;
    v5 = UFG::gInputSystem->mControllers[0];
    if ( !v5 || !v5->m_IsKeyboardController )
      UFG::TiDo::RegisterControllerForEvents(this, 0);
    UFG::UIHK_NISOverlay::getInstance();
    UFG::UIHK_NISOverlay::SetPostNISHideCurtainsAudioEvent((unsigned int)endLoadMixState->m_triangle, 0);
  }
  return v4;
}

// File Line: 1534
// RVA: 0x5AE690
void __fastcall UFG::TidoGame::UnloadAudio(UFG::TidoGame *this, char *name)
{
  if ( !Scaleform::Render::Text::DocView::DocumentListener::View_OnLineFormat(
          (hkgpIndexedMesh::EdgeBarrier *)this,
          (hkgpIndexedMeshDefinitions::Edge *)name) )
  {
    UFG::AmbienceAudio::m_instance->vfptr->DestroyAllEvents(UFG::AmbienceAudio::m_instance);
    UFG::TiDo::UnloadAudio(this, name);
    ((void (__fastcall *)(UFG::TidoGame *))this->vfptr->UpdateFrame)(this);
  }
}

// File Line: 1609
// RVA: 0x5AAF00
void __fastcall UFG::TidoGame::SetMaterial1(unsigned __int64 objectId, unsigned int material)
{
  unsigned int v4; // eax

  if ( (_S8_16 & 1) != 0 )
  {
    v4 = mat1;
  }
  else
  {
    _S8_16 |= 1u;
    v4 = UFG::TiDo::CalcWwiseUid("material1");
    mat1 = v4;
  }
  UFG::TiDo::SetWwiseSwitch(UFG::TiDo::m_pInstance, v4, material, objectId);
}

// File Line: 1621
// RVA: 0x5AAF70
void __fastcall UFG::TidoGame::SetMaterial2(unsigned __int64 objectId, unsigned int material)
{
  unsigned int v4; // eax

  if ( (_S9_17 & 1) != 0 )
  {
    v4 = mat2;
  }
  else
  {
    _S9_17 |= 1u;
    v4 = UFG::TiDo::CalcWwiseUid("material2");
    mat2 = v4;
  }
  UFG::TiDo::SetWwiseSwitch(UFG::TiDo::m_pInstance, v4, material, objectId);
}

// File Line: 1630
// RVA: 0x5ABBC0
char __fastcall UFG::TidoGame::SetWwiseState(UFG::TidoGame *this, const char *name, const char *modeName)
{
  unsigned int v5; // ebx
  unsigned int v6; // eax

  v5 = UFG::TiDo::CalcWwiseUid(modeName);
  v6 = UFG::TiDo::CalcWwiseUid(name);
  return UFG::TidoGame::SetWwiseState(this, v6, v5);
}

// File Line: 1637
// RVA: 0x5ABB50
char __fastcall UFG::TidoGame::SetWwiseState(UFG::TidoGame *this, unsigned int stateId, unsigned int stateMode)
{
  unsigned int v6; // eax

  if ( (_S10_12 & 1) != 0 )
  {
    v6 = vehicleStateGroup;
  }
  else
  {
    _S10_12 |= 1u;
    v6 = UFG::TiDo::CalcWwiseUid("ms_vehicle");
    vehicleStateGroup = v6;
  }
  if ( stateId == v6 )
    this->m_vehicleMixState = stateMode;
  UFG::WwiseInterface::SetWwiseState(stateId, stateMode);
  return 1;
}

// File Line: 1665
// RVA: 0x59A750
bool __fastcall UFG::TidoGame::Debug_GetWwiseState(UFG::TidoGame *this, unsigned int stateId, unsigned int *state)
{
  unsigned int v6; // eax

  if ( (_S11_9 & 1) != 0 )
  {
    v6 = vehicleStateGroup_0;
  }
  else
  {
    _S11_9 |= 1u;
    v6 = UFG::TiDo::CalcWwiseUid("ms_vehicle");
    vehicleStateGroup_0 = v6;
  }
  if ( stateId != v6 )
    return UFG::TiDo::Debug_GetWwiseState(this, stateId, state);
  *state = this->m_vehicleMixState;
  return 1;
}

// File Line: 1686
// RVA: 0x5AB2C0
void __fastcall UFG::TidoGame::SetSurfaceMaterial(unsigned __int64 objectId, unsigned int material)
{
  unsigned int v4; // eax

  if ( (_S12_10 & 1) != 0 )
  {
    v4 = surf_mat;
  }
  else
  {
    _S12_10 |= 1u;
    v4 = UFG::TiDo::CalcWwiseUid("Surface_material");
    surf_mat = v4;
  }
  UFG::TiDo::SetWwiseSwitch(UFG::TiDo::m_pInstance, v4, material, objectId);
}

// File Line: 1756
// RVA: 0x59C500
__int64 __fastcall UFG::TidoGame::FindLatchedParkourObjectMaterial(UFG::SimObjectGame *simObj)
{
  signed __int16 m_Flags; // dx
  UFG::SimComponent *m_pComponent; // rax
  UFG::ParkourHandle *vfptr; // rbx
  unsigned int Clone; // ebx
  UFG::qReflectObjectType<UFG::PhysicsObjectProperties,UFG::qReflectObject> *v5; // rcx
  const char *TypeName; // rax
  unsigned int v7; // ebx
  UFG::qReflectHandleBase v9; // [rsp+28h] [rbp-30h] BYREF

  if ( !simObj )
    return 0xFFFFFFFFi64;
  m_Flags = simObj->m_Flags;
  if ( (m_Flags & 0x4000) != 0 )
    m_pComponent = simObj->m_Components.p[28].m_pComponent;
  else
    m_pComponent = m_Flags < 0 || (m_Flags & 0x2000) != 0 || (m_Flags & 0x1000) != 0
                 ? UFG::SimObjectGame::GetComponentOfTypeHK(simObj, UFG::WorldContextComponent::_TypeUID)
                 : UFG::SimObject::GetComponentOfType(simObj, UFG::WorldContextComponent::_TypeUID);
  if ( !m_pComponent )
    return 0xFFFFFFFFi64;
  if ( !BYTE1(m_pComponent[4].m_SafePointerList.mNode.mNext) )
    return 0xFFFFFFFFi64;
  vfptr = *(UFG::ParkourHandle **)&m_pComponent[5].m_TypeUID;
  if ( !vfptr )
  {
    vfptr = (UFG::ParkourHandle *)m_pComponent[5].vfptr;
    if ( !vfptr )
      return 0xFFFFFFFFi64;
  }
  if ( !UFG::ParkourHandle::IsEnabled(vfptr) )
    return 0xFFFFFFFFi64;
  Clone = TargetVisibleInAIDataCondition::CreateClone((hkResourceHandle *)vfptr);
  UFG::qReflectHandleBase::qReflectHandleBase(&v9);
  TypeName = UFG::qReflectObjectType<UFG::PhysicsObjectProperties,UFG::qReflectObject>::GetTypeName(v5);
  v9.mTypeUID = UFG::qStringHash64(TypeName, 0xFFFFFFFFFFFFFFFFui64);
  UFG::PhysicsPropertyManager::GetObjectProperties((UFG::qReflectHandle<UFG::PhysicsObjectProperties> *)&v9, Clone, 1);
  v7 = *(_DWORD *)(v9.mData[4].mBaseNode.mUID + 104);
  UFG::qReflectHandleBase::~qReflectHandleBase(&v9);
  return v7;
}

// File Line: 1786
// RVA: 0x59C0D0
unsigned int __fastcall UFG::TidoGame::FindGroundSurfaceMaterial(
        UFG::SimObjectCharacter *simObj,
        unsigned int footwear)
{
  signed __int16 m_Flags; // cx
  UFG::CharacterSubjectComponent *v5; // rax
  unsigned int result; // eax
  unsigned int v7; // edi
  signed __int16 v8; // cx
  UFG::CharacterPhysicsComponent *m_pComponent; // rbx
  UFG::SimComponent *ComponentOfTypeHK; // rax
  unsigned __int64 groundObjectHandleUid; // rsi
  unsigned __int64 groundSurfaceHandleUid; // rbx
  UFG::qReflectObjectType<UFG::PhysicsSurfaceProperties,UFG::qReflectObject> *v13; // rcx
  const char *TypeName; // rax
  UFG::qReflectObjectType<UFG::PhysicsObjectProperties,UFG::qReflectObject> *v15; // rcx
  const char *v16; // rax
  UFG::qReflectHandleBase v17; // [rsp+28h] [rbp-60h] BYREF
  UFG::qReflectHandleBase v18; // [rsp+50h] [rbp-38h] BYREF

  if ( simObj )
  {
    m_Flags = simObj->m_Flags;
    if ( (m_Flags & 0x4000) != 0 )
      v5 = UFG::SimObjectCharacter::GetComponent<UFG::CharacterSubjectComponent>(simObj);
    else
      v5 = (UFG::CharacterSubjectComponent *)(m_Flags < 0 || (m_Flags & 0x2000) != 0 || (m_Flags & 0x1000) != 0
                                            ? UFG::SimObjectGame::GetComponentOfTypeHK(
                                                simObj,
                                                UFG::CharacterSubjectComponent::_TypeUID)
                                            : UFG::SimObject::GetComponentOfType(
                                                simObj,
                                                UFG::CharacterSubjectComponent::_TypeUID));
    if ( v5 && ((unsigned __int8 (__fastcall *)(UFG::CharacterSubjectComponent *))v5->vfptr[42].__vecDelDtor)(v5) )
      return -1793093012;
  }
  result = UFG::TidoGame::FindLatchedParkourObjectMaterial(simObj);
  v7 = result;
  if ( result == -1 )
  {
    if ( simObj )
    {
      v8 = simObj->m_Flags;
      if ( (v8 & 0x4000) != 0 )
      {
        m_pComponent = (UFG::CharacterPhysicsComponent *)simObj->m_Components.p[27].m_pComponent;
      }
      else
      {
        if ( v8 < 0 || (v8 & 0x2000) != 0 || (v8 & 0x1000) != 0 )
          ComponentOfTypeHK = UFG::SimObjectGame::GetComponentOfTypeHK(simObj, UFG::CharacterPhysicsComponent::_TypeUID);
        else
          ComponentOfTypeHK = UFG::SimObject::GetComponentOfType(simObj, UFG::CharacterPhysicsComponent::_TypeUID);
        m_pComponent = (UFG::CharacterPhysicsComponent *)ComponentOfTypeHK;
      }
      if ( m_pComponent )
      {
        if ( UFG::CharacterPhysicsComponent::IsInWater(m_pComponent) )
        {
          v7 = -1046736518;
        }
        else
        {
          groundObjectHandleUid = m_pComponent->mGroundProperties.groundObjectHandleUid;
          groundSurfaceHandleUid = m_pComponent->mGroundProperties.groundSurfaceHandleUid;
          UFG::qReflectHandleBase::qReflectHandleBase(&v18);
          TypeName = UFG::qReflectObjectType<UFG::PhysicsSurfaceProperties,UFG::qReflectObject>::GetTypeName(v13);
          v18.mTypeUID = UFG::qStringHash64(TypeName, 0xFFFFFFFFFFFFFFFFui64);
          UFG::qReflectHandleBase::Init(&v18, v18.mTypeUID, groundSurfaceHandleUid);
          if ( v18.mData )
          {
            v7 = (unsigned int)v18.mData[1].mBaseNode.mChildren[0];
          }
          else
          {
            UFG::qReflectHandleBase::qReflectHandleBase(&v17);
            v16 = UFG::qReflectObjectType<UFG::PhysicsObjectProperties,UFG::qReflectObject>::GetTypeName(v15);
            v17.mTypeUID = UFG::qStringHash64(v16, 0xFFFFFFFFFFFFFFFFui64);
            UFG::qReflectHandleBase::Init(&v17, v17.mTypeUID, groundObjectHandleUid);
            if ( v17.mData )
              v7 = *(_DWORD *)(v17.mData[4].mBaseNode.mUID + 104);
            UFG::qReflectHandleBase::~qReflectHandleBase(&v17);
          }
          UFG::qReflectHandleBase::~qReflectHandleBase(&v18);
        }
      }
    }
    UFG::TidoGame::RefreshSurfaceTimeout(v7, footwear);
    return v7;
  }
  return result;
}G::TidoGame::RefreshSurfaceTimeout(v7, footwear);
    return v7;
  }
  r

// File Line: 1844
// RVA: 0x5A99A0
char __fastcall UFG::TidoGame::RefreshSurfaceTimeout(unsigned int surfaceId, unsigned int footwear)
{
  bool v4; // bl
  __int64 v5; // rdx
  UFG::qWiseSymbol *v6; // rcx
  UFG::TiDo *Instance; // rax
  __int64 v9; // rdx
  UFG::qWiseSymbol *v10; // r8
  __int64 v11; // rbx
  UFG::qWiseSymbol result; // [rsp+50h] [rbp+18h] BYREF

  UFG::TidoGame::FindBankIdForSurface(&result, surfaceId, footwear);
  if ( result.mUID == -1 )
  {
    _((AMD_HD3D *)0xFFFFFFFFi64);
  }
  else
  {
    v4 = UFG::SoundBankManager::BankLoadedOrLoading(&result);
    _((AMD_HD3D *)result.mUID);
    if ( v4 )
    {
      UFG::TidoGame::FindBankIdForSurface(&result, surfaceId, footwear);
      v5 = 0i64;
      v6 = UFG::TidoGame::sm_currentSurfaceBankIds;
      while ( result.mUID != v6->mUID )
      {
        v5 = (unsigned int)(v5 + 1);
        ++v6;
        if ( (unsigned int)v5 >= 5 )
          goto LABEL_18;
      }
      UFG::TidoGame::sm_surfaceBankUpdateTimes[v5] = 0.0;
      _((AMD_HD3D *)result.mUID);
      return 1;
    }
  }
  UFG::TidoGame::FindBankIdForSurface(&result, surfaceId, footwear);
  if ( result.mUID == -1 || (Instance = UFG::TiDo::GetInstance(), Instance->vfptr->HighSpeedMode(Instance)) )
  {
LABEL_18:
    _((AMD_HD3D *)result.mUID);
    return 0;
  }
  else
  {
    v9 = 0i64;
    v10 = UFG::TidoGame::sm_currentSurfaceBankIds;
    while ( result.mUID != v10->mUID )
    {
      if ( v10->mUID == -1 )
      {
        v11 = (unsigned int)v9;
        UFG::qWiseSymbol::operator=(&UFG::TidoGame::sm_currentSurfaceBankIds[v9], &result);
        UFG::TidoGame::sm_surfaceBankUpdateTimes[v11] = 0.0;
        UFG::SoundBankManager::QueueBankForLoad(&result);
        break;
      }
      v9 = (unsigned int)(v9 + 1);
      ++v10;
      if ( (unsigned int)v9 >= 5 )
        goto LABEL_18;
    }
    _((AMD_HD3D *)result.mUID);
    return 1;
  }
}

// File Line: 1892
// RVA: 0x5B1270
void __fastcall UFG::TidoGame::UpdateSurfaceBankLoadTimes(float delta_sec)
{
  unsigned int v1; // esi
  __int64 v2; // rdi
  UFG::qWiseSymbol *null; // rax

  v1 = 0;
  v2 = 0i64;
  do
  {
    if ( UFG::TidoGame::sm_currentSurfaceBankIds[v2].mUID != -1 )
      UFG::TidoGame::sm_surfaceBankUpdateTimes[v2] = delta_sec + UFG::TidoGame::sm_surfaceBankUpdateTimes[v2];
    if ( UFG::TidoGame::sm_surfaceBankUpdateTimes[v2] > 10.0 )
    {
      UFG::TiDo::UnloadWwiseBank(&UFG::TidoGame::sm_currentSurfaceBankIds[v1]);
      null = UFG::qWiseSymbol::get_null();
      UFG::qWiseSymbol::operator=(&UFG::TidoGame::sm_currentSurfaceBankIds[v1], null);
      UFG::TidoGame::sm_surfaceBankUpdateTimes[v2] = 0.0;
    }
    ++v1;
    ++v2;
  }
  while ( v1 < 5 );
}

// File Line: 1927
// RVA: 0x59D8D0
_BOOL8 __fastcall UFG::TidoGame::GetVoiceId(UFG::SimObject *simObject, UFG::VoiceProfile **voiceProfile)
{
  bool v4; // zf
  UFG::qWiseSymbol *VoiceIdFromTrueCrowdInfo; // rax
  char *v6; // rax
  bool v7; // bl
  UFG::qWiseSymbol result; // [rsp+50h] [rbp+18h] BYREF
  UFG::qWiseSymbol v10; // [rsp+58h] [rbp+20h] BYREF

  UFG::TidoGame::GetVoiceIdFromPropSet(&result, simObject, voiceProfile);
  v4 = result.mUID == -1;
  if ( result.mUID == -1 )
  {
    VoiceIdFromTrueCrowdInfo = UFG::TidoGame::GetVoiceIdFromTrueCrowdInfo(&v10, simObject, voiceProfile);
    UFG::qWiseSymbol::operator=(&result, VoiceIdFromTrueCrowdInfo);
    _((AMD_HD3D *)v10.mUID);
    v4 = result.mUID == -1;
    if ( result.mUID == -1 )
    {
      v6 = UFG::qSymbol::as_cstr_dbg((UFG::qSymbolUC *)&simObject->m_Name);
      UFG::qPrintf("Could not assign voice to: %s\n ", v6);
      v4 = result.mUID == -1;
    }
  }
  v7 = !v4;
  _((AMD_HD3D *)result.mUID);
  return v7;
}

// File Line: 1951
// RVA: 0x59D970
UFG::qWiseSymbol *__fastcall UFG::TidoGame::GetVoiceIdFromPropSet(
        UFG::qWiseSymbol *result,
        UFG::SimObjectCharacter *simObject,
        UFG::VoiceProfile **voiceProfile)
{
  bool IsAnyLocalPlayer; // bp
  UFG::SceneObjectProperties *m_pSceneObj; // rsi
  UFG::qPropertySet *v8; // rbx
  UFG::qWiseSymbol *v9; // rsi
  UFG::VoiceProfile *v10; // rax
  UFG::VoiceProfile *v11; // rbx
  AMD_HD3D *mUID; // rcx
  AMD_HD3D *v13; // rcx

  IsAnyLocalPlayer = UFG::IsAnyLocalPlayer(simObject);
  UFG::IsFemale(simObject);
  m_pSceneObj = simObject->m_pSceneObj;
  if ( m_pSceneObj
    && (v8 = PropertyUtils::Get<char const *>(simObject->m_pSceneObj, (UFG::qArray<unsigned long,0> *)&qSymbol_Voice),
        v9 = PropertyUtils::Get<UFG::qWiseSymbol>(m_pSceneObj, (UFG::qArray<unsigned long,0> *)&qSymbol_TagVoice),
        v8)
    && (unsigned int)UFG::qStringCompareInsensitive((const char *)v8, "NOTSET", -1) )
  {
    v10 = UFG::VoiceProfileManager::AddOrGetVoiceProfile((const char *)v8, v9);
    v11 = v10;
    if ( IsAnyLocalPlayer )
      UFG::qWiseSymbol::operator=(&v10->m_wwiseTagsUid, v9);
    *voiceProfile = v11;
    mUID = (AMD_HD3D *)v11->m_wwiseVoiceUid.mUID;
    result->mUID = (unsigned int)mUID;
    _(mUID);
  }
  else
  {
    v13 = (AMD_HD3D *)UFG::qWiseSymbol::get_null()->mUID;
    result->mUID = (unsigned int)v13;
    _(v13);
  }
  return result;
}

// File Line: 1998
// RVA: 0x59DA60
UFG::qWiseSymbol *__fastcall UFG::TidoGame::GetVoiceIdFromTrueCrowdInfo(
        UFG::qWiseSymbol *result,
        UFG::SimObject *simObject,
        UFG::VoiceProfile **voice)
{
  UFG::VoiceProfile *v5; // rax
  AMD_HD3D *mUID; // rcx

  v5 = (UFG::VoiceProfile *)UFG::VoiceProfileManager::AssignVoice(simObject);
  if ( v5 )
  {
    *voice = v5;
    mUID = (AMD_HD3D *)v5->m_wwiseVoiceUid.mUID;
  }
  else
  {
    mUID = (AMD_HD3D *)UFG::qWiseSymbol::get_null()->mUID;
  }
  result->mUID = (unsigned int)mUID;
  _(mUID);
  return result;
}

// File Line: 2031
// RVA: 0x1559850
__int64 UFG::_dynamic_initializer_for___innocent__()
{
  __int64 result; // rax

  result = UFG::qStringHash32("INNOCENT", 0xFFFFFFFF);
  innocent = result;
  return result;
}

// File Line: 2034
// RVA: 0x5975B0
bool __fastcall UFG::TidoGame::CharacterIsAmbientPed(UFG::SimObjectCVBase *simObject)
{
  signed __int16 m_Flags; // dx
  UFG::SimObjectCharacterPropertiesComponent *ComponentOfTypeHK; // rax
  bool result; // al

  result = simObject
        && ((m_Flags = simObject->m_Flags, (m_Flags & 0x4000) != 0) || m_Flags < 0
          ? (ComponentOfTypeHK = UFG::SimObjectCVBase::GetComponent<UFG::SimObjectCharacterPropertiesComponent>(simObject))
          : (m_Flags & 0x2000) != 0 || (m_Flags & 0x1000) != 0
          ? (ComponentOfTypeHK = (UFG::SimObjectCharacterPropertiesComponent *)UFG::SimObjectGame::GetComponentOfTypeHK(
                                                                                 simObject,
                                                                                 UFG::SimObjectCharacterPropertiesComponent::_TypeUID))
          : (ComponentOfTypeHK = (UFG::SimObjectCharacterPropertiesComponent *)UFG::SimObject::GetComponentOfType(
                                                                                 simObject,
                                                                                 UFG::SimObjectCharacterPropertiesComponent::_TypeUID)),
            ComponentOfTypeHK)
        && ComponentOfTypeHK->m_eFactionClass == FACTION_INNOCENT;
  return result;
}

// File Line: 2075
// RVA: 0x59B6F0
void __fastcall UFG::TidoGame::EnterAudioState(UFG::TidoGame *this, UFG::eAUDIOSTATE state)
{
  unsigned int v4; // eax
  unsigned int v5; // eax
  unsigned int v6; // eax
  UFG::HudAudio *v7; // rcx
  unsigned int mUID; // edx
  unsigned int v9; // eax
  UFG::qWiseSymbol v10; // [rsp+30h] [rbp-18h] BYREF
  UFG::qWiseSymbol v11; // [rsp+34h] [rbp-14h] BYREF
  __int64 v12; // [rsp+38h] [rbp-10h]
  UFG::qWiseSymbol result; // [rsp+58h] [rbp+10h] BYREF
  UFG::qWiseSymbol v14; // [rsp+60h] [rbp+18h] BYREF
  UFG::qWiseSymbol v15; // [rsp+68h] [rbp+20h] BYREF

  v12 = -2i64;
  if ( state != UFG::TiDo::sm_audioState )
  {
    (*(void (__fastcall **)(UFG::TidoGame *))&this->vfptr[1].gap8[8])(this);
    UFG::qWiseSymbol::create_from_string(&result, "pause_game");
    UFG::qWiseSymbol::create_from_string(&v11, "insta_pause");
    UFG::qWiseSymbol::create_from_string(&v10, "resume_game");
    switch ( state )
    {
      case eAUDIOSTATE_PAUSE_MENU:
        UFG::TidoGame::LoadLoadingMusicBanks(this);
        if ( UFG::HudAudio::m_instance )
          UFG::AudioEntity::CreateAndPlayEvent(UFG::HudAudio::m_instance, result.mUID, 0i64, 0, 0i64);
        v9 = UFG::TiDo::CalcWwiseUid("mix_pause_menu");
        UFG::TidoGame::SetMix(v9);
        UFG::TidoGame::PlayDLCHudEvent("play_mus_pause");
        break;
      case eAUDIOSTATE_MAIN_MENU:
        UFG::UIHK_NISOverlay::getInstance();
        UFG::UIHK_NISOverlay::SetPostNISHideCurtainsAudioEvent(set_state_global_main_menu_0.mUID, 0);
        if ( UFG::TiDo::sm_audioState == eAUDIOSTATE_PAUSE_MENU )
        {
          UFG::qWiseSymbol::create_from_string(&v14, "stop_all_music");
          UFG::Music::MusicEvent(v14.mUID);
          UFG::TidoGame::PlayDLCHudEvent("stop_mus_pause");
          _((AMD_HD3D *)v14.mUID);
        }
        UFG::qWiseSymbol::create_from_string(&v15, "stop_mus_score");
        UFG::Music::MusicEvent(v15.mUID);
        UFG::TidoGame::sm_menuMusicPlaying = 1;
        v4 = UFG::TiDo::CalcWwiseUid("mix_main_menu");
        UFG::TidoGame::SetMix(v4);
        UFG::TidoGame::LoadLoadingMusicBanks(this);
        UFG::ConversationManager::StopAllAmbientConversations();
        _((AMD_HD3D *)v15.mUID);
        break;
      case eAUDIOSTATE_IN_GAME:
        v6 = UFG::TiDo::CalcWwiseUid("mix_ingame");
        UFG::TidoGame::SetMix(v6);
        UFG::TidoGame::PlayDLCHudEvent("stop_mus_pause");
        if ( UFG::TiDo::sm_audioState == eAUDIOSTATE_PAUSE_MENU )
        {
          v7 = UFG::HudAudio::m_instance;
          if ( UFG::HudAudio::m_instance )
          {
            mUID = v10.mUID;
            goto LABEL_18;
          }
        }
        break;
      case eAUDIOSTATE_MISSION_FAILED:
        UFG::UIHK_NISOverlay::getInstance();
        UFG::UIHK_NISOverlay::SetPostNISHideCurtainsAudioEvent(stop_mission_fail.mUID, 1);
        break;
      case eAUDIOSTATE_INSTA_PAUSE:
        v7 = UFG::HudAudio::m_instance;
        if ( UFG::HudAudio::m_instance )
        {
          mUID = v11.mUID;
          goto LABEL_18;
        }
        break;
      case eAUDIOSTATE_PAUSE_NIS:
        v7 = UFG::HudAudio::m_instance;
        if ( UFG::HudAudio::m_instance )
        {
          mUID = result.mUID;
LABEL_18:
          UFG::AudioEntity::CreateAndPlayEvent(v7, mUID, 0i64, 0, 0i64);
        }
        break;
      case eAUDIOSTATE_LOADING_SCREEN:
        v5 = UFG::TiDo::CalcWwiseUid("mix_curtains_down");
        UFG::TidoGame::SetMix(v5);
        UFG::TidoGame::sm_menuMusicPlaying = 0;
        break;
      default:
        break;
    }
    UFG::TiDo::sm_audioState = state;
    _((AMD_HD3D *)v10.mUID);
    _((AMD_HD3D *)v11.mUID);
    _((AMD_HD3D *)result.mUID);
  }
}

// File Line: 2195
// RVA: 0x59BBB0
UFG::TidoGame::ExitAudioState

// File Line: 2273
// RVA: 0x597640
void __fastcall UFG::TidoGame::CheckAndApplyEnvironment(
        UFG::TidoGame *this,
        UFG::AudioEntity *entity,
        UFG::qVector3 *pos,
        UFG::qWiseSymbol *envType)
{
  UFG::qBaseTreeRB *i; // rax
  __int64 v8; // rdi
  __int64 v9; // rbx
  int v10; // eax
  unsigned int v11; // edx

  for ( i = (UFG::qBaseTreeRB *)UFG::qTreeRB64<UFG::tOffset,UFG::tOffset,1>::GetHead((UFG::qTreeRB64<Render::SkinningCacheNode,Render::SkinningCacheNode,1> *)&UFG::AudioTriggerRegion::msAudioTriggerRegions);
        ;
        i = UFG::qBaseTreeRB::GetNext(
              &UFG::AudioTriggerRegion::msAudioTriggerRegions.mTree,
              (UFG::qBaseNodeRB *)(v8 + 608)) )
  {
    v8 = i ? (__int64)i[-9].mNULL.mChild : 0i64;
    if ( !v8 )
      break;
    if ( (*(_BYTE *)(v8 + 736) & 1) != 0 )
    {
      v9 = *(_QWORD *)(v8 + 648) - 8i64;
      if ( v9 != v8 + 632 )
      {
        while ( 1 )
        {
          if ( *(_DWORD *)(v9 + 24) == 8 )
          {
            v10 = *(_DWORD *)(v9 + 36);
            if ( (v10 == UFG::WwiseEnvironment::sm_All.mUID || envType->mUID == v10)
              && UFG::RegionComponent::IsHitPoint(*(UFG::RegionComponent **)(v8 + 216), pos) )
            {
              break;
            }
          }
          v9 = *(_QWORD *)(v9 + 16) - 8i64;
          if ( v9 == v8 + 632 )
            goto LABEL_13;
        }
        v11 = *(_DWORD *)(v9 + 28);
        if ( v11 )
          UFG::AudioEntity::ApplyEnvironment(entity, v11, 1.0, *(float *)(v9 + 44), *(float *)(v9 + 48), envType);
        return;
      }
    }
LABEL_13:
    ;
  }
}

// File Line: 2367
// RVA: 0x5A5C90
void __fastcall UFG::TidoGame::PlayFightHeadSmash(UFG::TidoGame *this, UFG::qVector3 *position)
{
  unsigned int v4; // eax
  UFG::SimObjectProp *Target; // rax
  __int16 m_Flags; // dx
  UFG::SimObjectWeaponPropertiesComponent *ComponentOfTypeHK; // rax

  v4 = _S14_3;
  if ( (_S14_3 & 1) == 0 )
  {
    _S14_3 |= 1u;
    UFG::qWiseSymbol::create_from_string(&target_mat, "body_head");
    atexit(UFG::TidoGame::PlayFightHeadSmash_::_2_::_dynamic_atexit_destructor_for__target_mat__);
    v4 = _S14_3;
  }
  if ( (v4 & 2) == 0 )
  {
    _S14_3 = v4 | 2;
    UFG::qWiseSymbol::create_from_string(&intensity, "KO");
    atexit(UFG::TidoGame::PlayFightHeadSmash_::_2_::_dynamic_atexit_destructor_for__intensity__);
  }
  Target = (UFG::SimObjectProp *)UFG::getTarget(LocalPlayer, 0x11u);
  if ( Target )
  {
    m_Flags = Target->m_Flags;
    if ( (m_Flags & 0x4000) != 0 || m_Flags < 0 )
      goto LABEL_7;
    if ( (m_Flags & 0x2000) != 0 )
    {
      ComponentOfTypeHK = UFG::SimObjectProp::GetComponent<UFG::SimObjectWeaponPropertiesComponent>(Target);
    }
    else
    {
      if ( (m_Flags & 0x1000) != 0 )
      {
LABEL_7:
        ComponentOfTypeHK = (UFG::SimObjectWeaponPropertiesComponent *)UFG::SimObjectGame::GetComponentOfTypeHK(
                                                                         Target,
                                                                         UFG::SimObjectWeaponPropertiesComponent::_TypeUID);
        goto LABEL_14;
      }
      ComponentOfTypeHK = (UFG::SimObjectWeaponPropertiesComponent *)UFG::SimObject::GetComponentOfType(
                                                                       Target,
                                                                       UFG::SimObjectWeaponPropertiesComponent::_TypeUID);
    }
LABEL_14:
    if ( ComponentOfTypeHK )
      UFG::TidoGame::PlayFightImpact(
        this,
        ComponentOfTypeHK->mWeaponTypeInfo->mFireModes[ComponentOfTypeHK->mFireMode]->mAudioWeaponType.mUID,
        target_mat.mUID,
        intensity.mUID,
        position);
  }
}

// File Line: 2395
// RVA: 0x5A5F80
void __fastcall UFG::TidoGame::PlayFightImpact(
        UFG::TidoGame *this,
        hkgpIndexedMeshDefinitions::Edge *sourceMaterialType,
        unsigned int targetMaterialType,
        unsigned int intensityType,
        UFG::qVector3 *position)
{
  float y; // xmm1_4
  float z; // xmm0_4
  UFG::qMatrix44 txform; // [rsp+30h] [rbp-48h] BYREF

  txform.v2.w = 0.0;
  txform.v1.w = 0.0;
  y = position->y;
  txform.v3.x = position->x;
  z = position->z;
  txform.v3.y = y;
  txform.v3.z = z;
  LODWORD(txform.v3.w) = (_DWORD)FLOAT_1_0;
  txform.v2.x = UFG::qVector3::msDirUp.x;
  txform.v2.y = UFG::qVector3::msDirUp.y;
  txform.v2.z = UFG::qVector3::msDirUp.z;
  txform.v1.x = UFG::qVector3::msDirLeft.x;
  txform.v1.y = UFG::qVector3::msDirLeft.y;
  txform.v1.z = UFG::qVector3::msDirLeft.z;
  UFG::TidoGame::PlayFightImpact(this, sourceMaterialType, targetMaterialType, intensityType, &txform);
}

// File Line: 2410
// RVA: 0x155A7C0
__int64 UFG::_dynamic_initializer_for__play_fight_impact__()
{
  play_fight_impact.mUID = UFG::qWiseSymbolUIDFromString("play_fight_impact", 0x811C9DC5);
  _((AMD_HD3D *)play_fight_impact.mUID);
  return atexit((int (__fastcall *)())UFG::_dynamic_atexit_destructor_for__play_fight_impact__);
}

// File Line: 2411
// RVA: 0x15599B0
__int64 UFG::_dynamic_initializer_for__attack_types_switch__()
{
  attack_types_switch.mUID = UFG::qWiseSymbolUIDFromString("attack_types_switch", 0x811C9DC5);
  _((AMD_HD3D *)attack_types_switch.mUID);
  return atexit((int (__fastcall *)())UFG::_dynamic_atexit_destructor_for__attack_types_switch__);
}

// File Line: 2412
// RVA: 0x155A170
__int64 UFG::_dynamic_initializer_for__material_2__()
{
  material_2.mUID = UFG::qWiseSymbolUIDFromString("material_2", 0x811C9DC5);
  _((AMD_HD3D *)material_2.mUID);
  return atexit((int (__fastcall *)())UFG::_dynamic_atexit_destructor_for__material_2__);
}

// File Line: 2413
// RVA: 0x1559910
__int64 UFG::_dynamic_initializer_for__attack_strength__()
{
  attack_strength.mUID = UFG::qWiseSymbolUIDFromString("attack_strength", 0x811C9DC5);
  _((AMD_HD3D *)attack_strength.mUID);
  return atexit((int (__fastcall *)())UFG::_dynamic_atexit_destructor_for__attack_strength__);
}

// File Line: 2414
// RVA: 0x1559960
__int64 UFG::_dynamic_initializer_for__attack_strength_v__()
{
  attack_strength_v.mUID = UFG::qWiseSymbolUIDFromString("attack_strength_v", 0x811C9DC5);
  _((AMD_HD3D *)attack_strength_v.mUID);
  return atexit((int (__fastcall *)())UFG::_dynamic_atexit_destructor_for__attack_strength_v__);
}

// File Line: 2415
// RVA: 0x1559AC0
__int64 UFG::_dynamic_initializer_for__damage_intensity__()
{
  damage_intensity.mUID = UFG::qWiseSymbolUIDFromString("damage_intensity", 0x811C9DC5);
  _((AMD_HD3D *)damage_intensity.mUID);
  return atexit((int (__fastcall *)())UFG::_dynamic_atexit_destructor_for__damage_intensity__);
}

// File Line: 2416
// RVA: 0x155A1F0
__int64 UFG::_dynamic_initializer_for__medium__()
{
  medium.mUID = UFG::qWiseSymbolUIDFromString("medium", 0x811C9DC5);
  _((AMD_HD3D *)medium.mUID);
  return atexit((int (__fastcall *)())UFG::_dynamic_atexit_destructor_for__medium__);
}

// File Line: 2419
// RVA: 0x5A5EB0
void __fastcall UFG::TidoGame::PlayFightImpact(
        UFG::TidoGame *this,
        hkgpIndexedMeshDefinitions::Edge *sourceMaterialType,
        unsigned int targetMaterialType,
        unsigned int intensityType,
        UFG::qMatrix44 *txform)
{
  unsigned int v7; // esi
  UFG::OneShotHandle pHandle; // [rsp+20h] [rbp-18h] BYREF
  __int64 v9; // [rsp+28h] [rbp-10h]

  v9 = -2i64;
  v7 = (unsigned int)sourceMaterialType;
  if ( !Scaleform::Render::Text::DocView::DocumentListener::View_OnLineFormat(
          (hkgpIndexedMesh::EdgeBarrier *)this,
          sourceMaterialType) )
  {
    pHandle.m_pOneShot = 0i64;
    UFG::OneShotPool::GetOneShotHandle(&pHandle, txform);
    if ( UFG::OneShotHandle::IsValid(&pHandle) )
    {
      UFG::AudioEntity::SetWwiseSwitch(pHandle.m_pOneShot, damage_intensity.mUID, medium.mUID);
      UFG::AudioEntity::SetWwiseSwitch(pHandle.m_pOneShot, attack_types_switch.mUID, v7);
      UFG::AudioEntity::SetWwiseSwitch(pHandle.m_pOneShot, material_2.mUID, targetMaterialType);
      UFG::AudioEntity::SetWwiseSwitch(pHandle.m_pOneShot, attack_strength_v.mUID, intensityType);
      UFG::OneShot::Play(pHandle.m_pOneShot, play_fight_impact.mUID);
    }
    UFG::OneShotHandle::Release(&pHandle);
  }
}

// File Line: 2483
// RVA: 0x5A1210
void __fastcall UFG::TidoGame::LoadGameSliceAudioResources(const char *slice_name, const char *script_name)
{
  int v4; // r8d
  AnimationGroupHandle *v5; // rbx
  unsigned int v6; // ecx
  unsigned int *p; // rdx
  unsigned int v8; // eax
  unsigned int *v9; // rcx
  int v10; // r8d
  unsigned int v11; // ecx
  unsigned int *v12; // rdx
  unsigned int v13; // eax
  unsigned int *v14; // rcx
  UFG::qSymbolUC *v15; // rdi
  UFG::allocator::free_link *v16; // rax
  AnimationGroupHandle *v17; // rax
  UFG::qNode<AnimationGroupHandle,AnimationGroupHandleContainer> *mPrev; // rax
  bool v19; // di
  AnimationGroupHandle *i; // rbx
  char v21; // al
  UFG::qString result; // [rsp+30h] [rbp-58h] BYREF
  UFG::qString v23; // [rsp+58h] [rbp-30h] BYREF
  UFG::qSymbol setName; // [rsp+A0h] [rbp+18h] BYREF
  UFG::allocator::free_link *v25; // [rsp+A8h] [rbp+20h] BYREF

  UFG::qPrintf("Audio: Loading resources for slice: %s   %s\n", slice_name, script_name);
  UFG::qString::FormatEx(&result, "Audio-Subtitles-English(US)-%s", slice_name);
  UFG::qSymbol::create_from_string((UFG::qSymbol *)&v25, result.mData);
  setName.mUID = (unsigned int)v25;
  UFG::SubtitleContainer::GrabParametersInstance(&setName.mUID);
  UFG::qString::~qString(&result);
  v4 = UFG::TiDo::CalcWwiseUid(slice_name);
  v5 = 0i64;
  v6 = 0;
  if ( UFG::SubtitleManager::sm_subtitleSets.size )
  {
    p = UFG::SubtitleManager::sm_subtitleSets.p;
    while ( v4 != *p )
    {
      ++v6;
      ++p;
      if ( v6 >= UFG::SubtitleManager::sm_subtitleSets.size )
        goto LABEL_7;
    }
    if ( v6 != -1 )
      goto LABEL_13;
  }
LABEL_7:
  v8 = 0;
  if ( UFG::SubtitleManager::sm_subtitleSets_LoadOnBoot.size )
  {
    v9 = UFG::SubtitleManager::sm_subtitleSets_LoadOnBoot.p;
    while ( v4 != *v9 )
    {
      ++v8;
      ++v9;
      if ( v8 >= UFG::SubtitleManager::sm_subtitleSets_LoadOnBoot.size )
        goto LABEL_14;
    }
    if ( v8 != -1 )
    {
LABEL_13:
      UFG::UIGfxTranslator::loadDictionary(UFG::UIScreenManager::s_instance->m_translator, slice_name);
      goto LABEL_28;
    }
  }
LABEL_14:
  v10 = UFG::TiDo::CalcWwiseUid(script_name);
  v11 = 0;
  if ( UFG::SubtitleManager::sm_subtitleSets.size )
  {
    v12 = UFG::SubtitleManager::sm_subtitleSets.p;
    while ( v10 != *v12 )
    {
      ++v11;
      ++v12;
      if ( v11 >= UFG::SubtitleManager::sm_subtitleSets.size )
        goto LABEL_20;
    }
    if ( v11 != -1 )
      goto LABEL_26;
  }
LABEL_20:
  v13 = 0;
  if ( UFG::SubtitleManager::sm_subtitleSets_LoadOnBoot.size )
  {
    v14 = UFG::SubtitleManager::sm_subtitleSets_LoadOnBoot.p;
    while ( v10 != *v14 )
    {
      ++v13;
      ++v14;
      if ( v13 >= UFG::SubtitleManager::sm_subtitleSets_LoadOnBoot.size )
        goto LABEL_27;
    }
    if ( v13 != -1 )
    {
LABEL_26:
      UFG::UIGfxTranslator::loadDictionary(UFG::UIScreenManager::s_instance->m_translator, script_name);
      goto LABEL_28;
    }
  }
LABEL_27:
  UFG::qPrintf("SUBTITLES: Failed to load for: %s %s\n", slice_name, script_name);
LABEL_28:
  UFG::qString::qString(&v23, "%s", script_name);
  v15 = UFG::qSymbolUC::create_from_string((UFG::qSymbolUC *)&setName, v23.mData);
  v16 = UFG::qMalloc(0x50ui64, "AnimationGroupHandle", 0i64);
  v25 = v16;
  if ( v16 )
  {
    AnimationGroupHandle::AnimationGroupHandle((AnimationGroupHandle *)v16);
    v5 = v17;
  }
  AnimationGroupHandle::Init(v5, v15, eANIM_PRIORITY_CHARACTER_FLAVOUR);
  mPrev = UFG::TidoGame::sm_animHandleContainer.m_AnimationGroupHandleList.mNode.mPrev;
  UFG::TidoGame::sm_animHandleContainer.m_AnimationGroupHandleList.mNode.mPrev->mNext = &v5->UFG::qNode<AnimationGroupHandle,AnimationGroupHandleContainer>;
  v5->UFG::qNode<AnimationGroupHandle,AnimationGroupHandleContainer>::mPrev = mPrev;
  v5->UFG::qNode<AnimationGroupHandle,AnimationGroupHandleContainer>::mNext = (UFG::qNode<AnimationGroupHandle,AnimationGroupHandleContainer> *)&UFG::TidoGame::sm_animHandleContainer;
  UFG::TidoGame::sm_animHandleContainer.m_AnimationGroupHandleList.mNode.mPrev = &v5->UFG::qNode<AnimationGroupHandle,AnimationGroupHandleContainer>;
  v19 = 1;
  for ( i = (AnimationGroupHandle *)&UFG::TidoGame::sm_animHandleContainer.m_AnimationGroupHandleList.mNode.mNext[-1];
        i != (AnimationGroupHandle *)((char *)&UFG::TidoGame::sm_animHandleContainer - 16);
        i = (AnimationGroupHandle *)&i->UFG::qNode<AnimationGroupHandle,AnimationGroupHandleContainer>::mNext[-1] )
  {
    v21 = AnimationGroupHandle::Bind(i);
    v19 = v19 && v21;
  }
  UFG::TidoGame::sm_animHandleContainer.m_bHasBeenBound = 1;
  UFG::qString::~qString(&v23);
}

// File Line: 2510
// RVA: 0x5A11B0
void __fastcall UFG::TidoGame::LoadGameSliceAudioResources(UFG::GameSlice *slice)
{
  char *mText; // rdi
  char *v3; // rbx
  UFG::qSharedString result; // [rsp+40h] [rbp+8h] BYREF

  mText = UFG::GameSlice::GetAudioName(slice, &result)->mText;
  UFG::qSharedString::~qSharedString(&result);
  v3 = slice->mScriptClassName.mText;
  UFG::TidoGame::LoadGameSliceAudioResources(mText, v3);
  UFG::qPrintf("Audio: Loading resources for script: %s\n", v3);
  UFG::TaggedDialogueStateManager::MaybeChangeState(0);
}

// File Line: 2525
// RVA: 0x5AE7B0
void __fastcall UFG::TidoGame::UnloadGameSliceAudioResources(const char *slice_name, const char *script_name)
{
  int v4; // r8d
  unsigned int v5; // ebx
  unsigned int v6; // ecx
  unsigned int *p; // rdx
  unsigned int v8; // eax
  unsigned int *v9; // rcx
  const char *v10; // rdx
  int v11; // r8d
  unsigned int v12; // ecx
  unsigned int *v13; // rdx
  unsigned int *v14; // rax
  UFG::qSymbolUC *v15; // rax
  UFG::qNode<AnimationGroupHandle,AnimationGroupHandleContainer> *v16; // rbx
  unsigned int mUID; // eax
  UFG::qNode<AnimationGroupHandle,AnimationGroupHandleContainer> *mPrev; // rcx
  UFG::qNode<AnimationGroupHandle,AnimationGroupHandleContainer> *mNext; // rax
  UFG::qString result; // [rsp+30h] [rbp-58h] BYREF
  UFG::qString v21; // [rsp+58h] [rbp-30h] BYREF
  UFG::qSymbol setName; // [rsp+A0h] [rbp+18h] BYREF
  UFG::qSymbol v23; // [rsp+A8h] [rbp+20h] BYREF

  UFG::qPrintf("Audio: Unloading resources for slice: %s\n", slice_name);
  UFG::qString::FormatEx(&result, "Audio-Subtitles-English(US)-%s", slice_name);
  UFG::qSymbol::create_from_string(&v23, result.mData);
  setName.mUID = v23.mUID;
  UFG::SubtitleContainer::GrabParametersInstance(&setName.mUID);
  UFG::qString::~qString(&result);
  v4 = UFG::TiDo::CalcWwiseUid(slice_name);
  v5 = 0;
  v6 = 0;
  if ( UFG::SubtitleManager::sm_subtitleSets.size )
  {
    p = UFG::SubtitleManager::sm_subtitleSets.p;
    while ( v4 != *p )
    {
      ++v6;
      ++p;
      if ( v6 >= UFG::SubtitleManager::sm_subtitleSets.size )
        goto LABEL_7;
    }
    if ( v6 != -1 )
      goto LABEL_13;
  }
LABEL_7:
  v8 = 0;
  if ( UFG::SubtitleManager::sm_subtitleSets_LoadOnBoot.size )
  {
    v9 = UFG::SubtitleManager::sm_subtitleSets_LoadOnBoot.p;
    while ( v4 != *v9 )
    {
      ++v8;
      ++v9;
      if ( v8 >= UFG::SubtitleManager::sm_subtitleSets_LoadOnBoot.size )
        goto LABEL_14;
    }
    if ( v8 != -1 )
    {
LABEL_13:
      v10 = slice_name;
LABEL_27:
      UFG::UIGfxTranslator::unloadDictionary(UFG::UIScreenManager::s_instance->m_translator, v10);
      goto LABEL_28;
    }
  }
LABEL_14:
  v11 = UFG::TiDo::CalcWwiseUid(script_name);
  v12 = 0;
  if ( UFG::SubtitleManager::sm_subtitleSets.size )
  {
    v13 = UFG::SubtitleManager::sm_subtitleSets.p;
    while ( v11 != *v13 )
    {
      ++v12;
      ++v13;
      if ( v12 >= UFG::SubtitleManager::sm_subtitleSets.size )
        goto LABEL_20;
    }
    if ( v12 != -1 )
    {
LABEL_26:
      v10 = script_name;
      goto LABEL_27;
    }
  }
LABEL_20:
  if ( UFG::SubtitleManager::sm_subtitleSets_LoadOnBoot.size )
  {
    v14 = UFG::SubtitleManager::sm_subtitleSets_LoadOnBoot.p;
    while ( v11 != *v14 )
    {
      ++v5;
      ++v14;
      if ( v5 >= UFG::SubtitleManager::sm_subtitleSets_LoadOnBoot.size )
        goto LABEL_28;
    }
    if ( v5 != -1 )
      goto LABEL_26;
  }
LABEL_28:
  UFG::qString::qString(&v21, "Facial\\%s", script_name);
  v15 = UFG::qSymbolUC::create_from_string((UFG::qSymbolUC *)&setName, v21.mData);
  v16 = UFG::TidoGame::sm_animHandleContainer.m_AnimationGroupHandleList.mNode.mNext - 1;
  if ( &UFG::TidoGame::sm_animHandleContainer.m_AnimationGroupHandleList.mNode.mNext[-1] != (UFG::qNode<AnimationGroupHandle,AnimationGroupHandleContainer> *)((char *)&UFG::TidoGame::sm_animHandleContainer - 16) )
  {
    mUID = v15->mUID;
    while ( LODWORD(v16[2].mPrev) != mUID )
    {
      v16 = v16[1].mNext - 1;
      if ( v16 == (UFG::qNode<AnimationGroupHandle,AnimationGroupHandleContainer> *)((char *)&UFG::TidoGame::sm_animHandleContainer
                                                                                   - 16) )
        goto LABEL_34;
    }
    AnimationGroupHandle::Unbind((AnimationGroupHandle *)v16);
    mPrev = v16[1].mPrev;
    mNext = v16[1].mNext;
    mPrev->mNext = mNext;
    mNext->mPrev = mPrev;
    v16[1].mPrev = v16 + 1;
    v16[1].mNext = v16 + 1;
    AnimationGroupHandle::~AnimationGroupHandle((AnimationGroupHandle *)v16);
    operator delete[](v16);
  }
LABEL_34:
  UFG::qString::~qString(&v21);
}tionGroupHandle((AnimationGroupHandle *)v16);
    operator del

// File Line: 2544
// RVA: 0x5AE7A0
void __fastcall UFG::TidoGame::UnloadGameSliceAudioResources(UFG::GameSlice *slice)
{
  UFG::TidoGame::UnloadGameSliceAudioResources(slice->mName.mText, slice->mScriptClassName.mText);
}

// File Line: 2579
// RVA: 0x5AC760
void __fastcall UFG::TidoGame::StartDistantTraffic(UFG::TidoGame *this)
{
  this->m_distantTrafficPlaying = 1;
}

// File Line: 2599
// RVA: 0x5B0620
void __fastcall UFG::TidoGame::UpdateDistantTraffic(UFG::TidoGame *this)
{
  if ( !this->m_distantTrafficDisabled )
  {
    if ( this->m_distantTrafficPlaying )
    {
      if ( UFG::SoundBankManager::BankLoadRequested(&amb_traffic_d) )
      {
        if ( UFG::SoundBankManager::BankLoaded(&amb_traffic_d)
          && !UFG::AudioEntity::IsPlayingId(UFG::AmbienceAudio::m_instance, play_distant_traffic.mUID) )
        {
          UFG::AmbienceAudio::PlayAmbience(UFG::AmbienceAudio::m_instance, play_distant_traffic.mUID);
        }
      }
      else
      {
        UFG::SoundBankManager::QueueBankForLoad(&amb_traffic_d);
      }
    }
    else
    {
      if ( UFG::AudioEntity::IsPlayingId(UFG::AmbienceAudio::m_instance, play_distant_traffic.mUID) )
        ((void (__fastcall *)(UFG::AmbienceAudio *, _QWORD))UFG::AmbienceAudio::m_instance->vfptr->StopAndForgetEvent)(
          UFG::AmbienceAudio::m_instance,
          play_distant_traffic.mUID);
      if ( UFG::SoundBankManager::BankLoadedOrLoading(&amb_traffic_d) )
        UFG::SoundBankManager::QueueBankForUnload(&amb_traffic_d);
    }
  }
}

// File Line: 2640
// RVA: 0x5A0610
_BOOL8 __fastcall UFG::TidoGame::IsInside()
{
  return UFG::AudioTriggerRegion::sm_interiorTransitionCount > 0;
}

// File Line: 2661
// RVA: 0x59E410
void __fastcall UFG::TidoGame::HandleDoorType(UFG::SimObjectGame *simObj, UFG::OneShotHandle *oneShot)
{
  unsigned int v3; // edi
  signed __int16 m_Flags; // r8
  UFG::SimComponent *ComponentOfTypeHK; // rax
  UFG::SimComponent *v6; // rbx
  UFG::qReflectObjectType<UFG::PhysicsObjectProperties,UFG::qReflectObject> *v7; // rcx
  const char *TypeName; // rax
  __int64 v9; // rdx
  UFG::OneShot *m_pOneShot; // rbx
  unsigned int v11; // eax
  UFG::qReflectHandleBase v12; // [rsp+28h] [rbp-30h] BYREF

  v3 = 0;
  if ( simObj )
  {
    m_Flags = simObj->m_Flags;
    if ( (m_Flags & 0x4000) != 0 || m_Flags < 0 || (m_Flags & 0x2000) != 0 || (m_Flags & 0x1000) != 0 )
      ComponentOfTypeHK = UFG::SimObjectGame::GetComponentOfTypeHK(simObj, UFG::RigidBodyComponent::_TypeUID);
    else
      ComponentOfTypeHK = UFG::SimObject::GetComponentOfType(simObj, UFG::RigidBodyComponent::_TypeUID);
    v6 = ComponentOfTypeHK;
    if ( ComponentOfTypeHK )
    {
      UFG::qReflectHandleBase::qReflectHandleBase(&v12);
      TypeName = UFG::qReflectObjectType<UFG::PhysicsObjectProperties,UFG::qReflectObject>::GetTypeName(v7);
      v12.mTypeUID = UFG::qStringHash64(TypeName, 0xFFFFFFFFFFFFFFFFui64);
      v9 = *(_QWORD *)&v6[2].m_Flags;
      if ( v9 )
        UFG::qReflectHandleBase::operator=(&v12, (UFG::qReflectHandleBase *)(v9 + 224));
      if ( v12.mData )
        v3 = *(_DWORD *)(v12.mData[4].mBaseNode.mUID + 104);
      UFG::qReflectHandleBase::~qReflectHandleBase(&v12);
    }
  }
  m_pOneShot = oneShot->m_pOneShot;
  if ( (_S8_16 & 1) != 0 )
  {
    v11 = mat1;
  }
  else
  {
    _S8_16 |= 1u;
    v11 = UFG::TiDo::CalcWwiseUid("material1");
    mat1 = v11;
  }
  UFG::TiDo::SetWwiseSwitch(UFG::TiDo::m_pInstance, v11, v3, (unsigned __int64)m_pOneShot);
}

// File Line: 2686
// RVA: 0x59F560
UFG::AudioListener *__fastcall UFG::TidoGame::HighSpeedMode(UFG::TidoGame *this)
{
  UFG::AudioListener *result; // rax

  result = UFG::AudioListener::sm_pInstance;
  if ( UFG::AudioListener::sm_pInstance )
    return (UFG::AudioListener *)(UFG::AudioListener::sm_pInstance->m_highSpeedModeEnabled
                               && UFG::AudioListener::sm_pInstance->m_highSpeedMode);
  return result;
}

// File Line: 2700
// RVA: 0x5AB010
char __fastcall UFG::TidoGame::SetNISMode(UFG::TidoGame *this, bool enable)
{
  UFG::UIGfxTranslator *m_translator; // rcx
  hkResourceHandle *v3; // rcx
  char result; // al
  hkResourceHandle *v5; // rcx

  m_translator = UFG::UIScreenManager::s_instance->m_translator;
  if ( enable )
  {
    UFG::UIGfxTranslator::unloadDictionary(m_translator, "AudioAmbient");
    UFG::UIGfxTranslator::loadDictionary(UFG::UIScreenManager::s_instance->m_translator, "NIS");
    UFG::AudioListener::sm_pInstance->m_triggerPositionAtCamera = 1;
    UFG::AudioListener::sm_pInstance->m_highSpeedModeEnabled = 0;
    TargetVisibleInAIDataCondition::CreateClone(v3);
    result = 1;
    UFG::Music::sm_musicStateChangeDelay = FLOAT_5_0;
  }
  else
  {
    UFG::UIGfxTranslator::unloadDictionary(m_translator, "NIS");
    UFG::UIGfxTranslator::loadDictionary(UFG::UIScreenManager::s_instance->m_translator, "AudioAmbient");
    UFG::AudioListener::sm_pInstance->m_triggerPositionAtCamera = 0;
    UFG::AudioListener::sm_pInstance->m_highSpeedModeEnabled = 1;
    TargetVisibleInAIDataCondition::CreateClone(v5);
    return 1;
  }
  return result;
}

// File Line: 2734
// RVA: 0x5AA670
void UFG::TidoGame::ResetTODEmitters(void)
{
  UFG::qBaseTreeRB *i; // rax
  __int64 v1; // rbx

  for ( i = (UFG::qBaseTreeRB *)UFG::qTreeRB64<UFG::tOffset,UFG::tOffset,1>::GetHead((UFG::qTreeRB64<Render::SkinningCacheNode,Render::SkinningCacheNode,1> *)&UFG::AudioEmitterMarker::msAudioEmitterMarkers);
        ;
        i = UFG::qBaseTreeRB::GetNext(
              &UFG::AudioEmitterMarker::msAudioEmitterMarkers.mTree,
              (UFG::qBaseNodeRB *)(v1 + 112)) )
  {
    v1 = i ? (__int64)&i[-2].mNULL : 0i64;
    if ( !v1 )
      break;
    if ( *(_DWORD *)(v1 + 160) != -1 && (*(_BYTE *)(v1 + 200) & 1) != 0 )
      UFG::AudioEmitterMarker::Reset((UFG::AudioEmitterMarker *)v1);
  }
}

// File Line: 2820
// RVA: 0x5A8140
void __fastcall UFG::TidoGame::PlayVisualEffectAudio(unsigned int uid)
{
  UFG::qBaseTreeRB *v1; // rax
  UFG::VisualEffectAudioTrack *p_mCount; // rax

  if ( !UFG::VisualEffectAudioManager::sm_curTrack )
  {
    if ( uid && (v1 = UFG::qBaseTreeRB::Get(&UFG::VisualEffectAudioManager::sm_visualEffectTracks.mTree, uid)) != 0i64 )
      p_mCount = (UFG::VisualEffectAudioTrack *)&v1[-1].mCount;
    else
      p_mCount = 0i64;
    UFG::VisualEffectAudioManager::sm_curTrack = p_mCount;
    if ( p_mCount )
    {
      UFG::VisualEffectAudioManager::sm_isPlaying = 1;
      UFG::VisualEffectAudioManager::sm_playTime = 0.0;
    }
  }
}

// File Line: 2825
// RVA: 0x5ACBF0
void __fastcall UFG::TidoGame::StopVisualEffectAudio(unsigned int uid)
{
  UFG::VisualEffectAudioTrack *i; // rax

  if ( UFG::VisualEffectAudioManager::sm_curTrack && UFG::VisualEffectAudioManager::sm_curTrack->mNode.mUID == uid )
  {
    for ( i = (UFG::VisualEffectAudioTrack *)&UFG::VisualEffectAudioManager::sm_curTrack->m_nodes.mNode.mNext[-1].mNext;
          i != (UFG::VisualEffectAudioTrack *)&UFG::VisualEffectAudioManager::sm_curTrack->m_visualEffect;
          i = (UFG::VisualEffectAudioTrack *)&i->mNode.mChild[0][-1].mUID )
    {
      ;
    }
    UFG::VisualEffectAudioManager::sm_isPlaying = 0;
    UFG::VisualEffectAudioManager::sm_curTrack = 0i64;
  }
}

// File Line: 2835
// RVA: 0x5B06F0
void __fastcall UFG::TidoGame::UpdateEffectInTunnel(float delta_sec)
{
  if ( !UFG::qApproach(&UFG::TidoGame::sm_effectInTunnelCurr, UFG::TidoGame::sm_effectInTunnelTarg, 1.0, delta_sec) )
  {
    if ( (_S15_4 & 1) == 0 )
    {
      _S15_4 |= 1u;
      UFG::qWiseSymbol::create_from_string(&effect_in_tunnel_0, "effect_in_tunnel");
      atexit(UFG::TidoGame::UpdateEffectInTunnel_::_5_::_dynamic_atexit_destructor_for__effect_in_tunnel__);
    }
    UFG::TiDo::SetWwiseRtpcValue(
      UFG::TiDo::m_pInstance,
      effect_in_tunnel_0.mUID,
      UFG::TidoGame::sm_effectInTunnelCurr,
      0xFFFFFFFFFFFFFFFFui64);
  }
}

// File Line: 2851
// RVA: 0x5A3190
bool __fastcall UFG::TidoGame::MajorGunBattleMode()
{
  return UFG::GunshotManager::ms_instance->m_numAiGunshots.m_currentValue >= 4.0
      && UFG::FacialActionTreeComponent::sDisableFacialAnimationUpdate;
}

// File Line: 2859
// RVA: 0x5AAFE0
void __fastcall UFG::TidoGame::SetMix(unsigned int mix_name)
{
  UFG::AudioEntity::CreateAndPlayEvent(UFG::AmbienceAudio::m_instance, mix_name, 0i64, 0, 0i64);
}

// File Line: 2912
// RVA: 0x5A58B0
void __fastcall UFG::TidoGame::PlayDLCHudEvent(const char *eventName)
{
  UFG::qPropertySet *DLCPropertyNode; // rdi
  UFG::qArray<unsigned long,0> *v3; // rax
  UFG::qWiseSymbol *v4; // rax
  UFG::qWiseSymbol *v5; // rax
  UFG::qSymbol result; // [rsp+58h] [rbp+10h] BYREF

  DLCPropertyNode = UFG::UI::GetDLCPropertyNode("UI-DLCSkins", "AudioProperties");
  if ( DLCPropertyNode
    && (v3 = (UFG::qArray<unsigned long,0> *)UFG::qSymbol::create_from_string(&result, eventName),
        (v4 = UFG::qPropertySet::Get<UFG::qWiseSymbol>(DLCPropertyNode, v3, DEPTH_RECURSE)) != 0i64) )
  {
    if ( UFG::HudAudio::m_instance )
      UFG::AudioEntity::CreateAndPlayEvent(UFG::HudAudio::m_instance, v4->mUID, 0i64, 0, 0i64);
  }
  else
  {
    UFG::qWiseSymbol::create_from_string((UFG::qWiseSymbol *)&result, eventName);
    _((AMD_HD3D *)result.mUID);
    v5 = UFG::qWiseSymbol::create_from_string((UFG::qWiseSymbol *)&result, eventName);
    if ( UFG::HudAudio::m_instance )
      UFG::AudioEntity::CreateAndPlayEvent(UFG::HudAudio::m_instance, v5->mUID, 0i64, 0, 0i64);
    _((AMD_HD3D *)result.mUID);
  }
}

