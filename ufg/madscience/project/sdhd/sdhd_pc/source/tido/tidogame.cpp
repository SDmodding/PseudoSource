// File Line: 132
// RVA: 0x1559D10
__int64 anonymous_namespace_::_dynamic_initializer_for__game_sim_time_scale__()
{
  game_sim_time_scale.mUID = UFG::qWiseSymbolUIDFromString("game_sim_time_scale", 0x811C9DC5);
  _((AMD_HD3D *)game_sim_time_scale.mUID);
  return atexit(anonymous_namespace_::_dynamic_atexit_destructor_for__game_sim_time_scale__);
}

// File Line: 133
// RVA: 0x155A030
__int64 anonymous_namespace_::_dynamic_initializer_for__loadstart__()
{
  loadstart.mUID = UFG::qWiseSymbolUIDFromString("loadstart", 0x811C9DC5);
  _((AMD_HD3D *)loadstart.mUID);
  return atexit(anonymous_namespace_::_dynamic_atexit_destructor_for__loadstart__);
}

// File Line: 134
// RVA: 0x15598C0
__int64 anonymous_namespace_::_dynamic_initializer_for__amb_traffic_d__()
{
  amb_traffic_d.mUID = UFG::qWiseSymbolUIDFromString("amb_traffic_d", 0x811C9DC5);
  _((AMD_HD3D *)amb_traffic_d.mUID);
  return atexit(anonymous_namespace_::_dynamic_atexit_destructor_for__amb_traffic_d__);
}

// File Line: 135
// RVA: 0x155A530
__int64 anonymous_namespace_::_dynamic_initializer_for__play_amb_city_2__()
{
  play_amb_city_2.mUID = UFG::qWiseSymbolUIDFromString("play_amb_city_2", 0x811C9DC5);
  _((AMD_HD3D *)play_amb_city_2.mUID);
  return atexit(anonymous_namespace_::_dynamic_atexit_destructor_for__play_amb_city_2__);
}

// File Line: 136
// RVA: 0x155A670
__int64 anonymous_namespace_::_dynamic_initializer_for__play_distant_traffic__()
{
  play_distant_traffic.mUID = UFG::qWiseSymbolUIDFromString("play_distant_traffic", 0x811C9DC5);
  _((AMD_HD3D *)play_distant_traffic.mUID);
  return atexit(anonymous_namespace_::_dynamic_atexit_destructor_for__play_distant_traffic__);
}

// File Line: 137
// RVA: 0x155CFC0
__int64 anonymous_namespace_::_dynamic_initializer_for__start_mission_fail__()
{
  start_mission_fail.mUID = UFG::qWiseSymbolUIDFromString("start_mission_fail", 0x811C9DC5);
  _((AMD_HD3D *)start_mission_fail.mUID);
  return atexit(anonymous_namespace_::_dynamic_atexit_destructor_for__start_mission_fail__);
}

// File Line: 138
// RVA: 0x155D0B0
__int64 anonymous_namespace_::_dynamic_initializer_for__stop_mission_fail__()
{
  stop_mission_fail.mUID = UFG::qWiseSymbolUIDFromString("stop_mission_fail", 0x811C9DC5);
  _((AMD_HD3D *)stop_mission_fail.mUID);
  return atexit(anonymous_namespace_::_dynamic_atexit_destructor_for__stop_mission_fail__);
}

// File Line: 139
// RVA: 0x155CDE0
__int64 anonymous_namespace_::_dynamic_initializer_for__set_state_global_generic_curtain_down__()
{
  set_state_global_generic_curtain_down.mUID = UFG::qWiseSymbolUIDFromString(
                                                 "set_state_global_generic_curtain_down",
                                                 0x811C9DC5);
  _((AMD_HD3D *)set_state_global_generic_curtain_down.mUID);
  return atexit(anonymous_namespace_::_dynamic_atexit_destructor_for__set_state_global_generic_curtain_down__);
}

// File Line: 140
// RVA: 0x155CE30
__int64 anonymous_namespace_::_dynamic_initializer_for__set_state_global_main_menu__()
{
  set_state_global_main_menu_0.mUID = UFG::qWiseSymbolUIDFromString("set_state_global_main_menu", 0x811C9DC5);
  _((AMD_HD3D *)set_state_global_main_menu_0.mUID);
  return atexit(anonymous_namespace_::_dynamic_atexit_destructor_for__set_state_global_main_menu__);
}

// File Line: 141
// RVA: 0x1559BB0
__int64 anonymous_namespace_::_dynamic_initializer_for__effect_in_tunnel__()
{
  effect_in_tunnel.mUID = UFG::qWiseSymbolUIDFromString("effect_in_tunnel", 0x811C9DC5);
  _((AMD_HD3D *)effect_in_tunnel.mUID);
  return atexit(anonymous_namespace_::_dynamic_atexit_destructor_for__effect_in_tunnel__);
}

// File Line: 143
// RVA: 0x155A290
__int64 anonymous_namespace_::_dynamic_initializer_for__mus_loading_lp_01__()
{
  mus_loading_lp_01.mUID = UFG::qWiseSymbolUIDFromString("mus_loading_lp_01", 0x811C9DC5);
  _((AMD_HD3D *)mus_loading_lp_01.mUID);
  return atexit(anonymous_namespace_::_dynamic_atexit_destructor_for__mus_loading_lp_01__);
}

// File Line: 144
// RVA: 0x155AAE0
__int64 anonymous_namespace_::_dynamic_initializer_for__play_mus_loading_lp_01a__()
{
  play_mus_loading_lp_01a.mUID = UFG::qWiseSymbolUIDFromString("play_mus_loading_lp_01a", 0x811C9DC5);
  _((AMD_HD3D *)play_mus_loading_lp_01a.mUID);
  return atexit(anonymous_namespace_::_dynamic_atexit_destructor_for__play_mus_loading_lp_01a__);
}

// File Line: 145
// RVA: 0x155A2E0
__int64 anonymous_namespace_::_dynamic_initializer_for__mus_loading_lp_02__()
{
  mus_loading_lp_02.mUID = UFG::qWiseSymbolUIDFromString("mus_loading_lp_02", 0x811C9DC5);
  _((AMD_HD3D *)mus_loading_lp_02.mUID);
  return atexit(anonymous_namespace_::_dynamic_atexit_destructor_for__mus_loading_lp_02__);
}

// File Line: 146
// RVA: 0x155AB30
__int64 anonymous_namespace_::_dynamic_initializer_for__play_mus_loading_lp_01b__()
{
  play_mus_loading_lp_01b.mUID = UFG::qWiseSymbolUIDFromString("play_mus_loading_lp_01b", 0x811C9DC5);
  _((AMD_HD3D *)play_mus_loading_lp_01b.mUID);
  return atexit(anonymous_namespace_::_dynamic_atexit_destructor_for__play_mus_loading_lp_01b__);
}

// File Line: 147
// RVA: 0x155A330
__int64 anonymous_namespace_::_dynamic_initializer_for__mus_loading_lp_03__()
{
  mus_loading_lp_03.mUID = UFG::qWiseSymbolUIDFromString("mus_loading_lp_03", 0x811C9DC5);
  _((AMD_HD3D *)mus_loading_lp_03.mUID);
  return atexit(anonymous_namespace_::_dynamic_atexit_destructor_for__mus_loading_lp_03__);
}

// File Line: 148
// RVA: 0x155AB80
__int64 anonymous_namespace_::_dynamic_initializer_for__play_mus_loading_lp_02a__()
{
  play_mus_loading_lp_02a.mUID = UFG::qWiseSymbolUIDFromString("play_mus_loading_lp_02a", 0x811C9DC5);
  _((AMD_HD3D *)play_mus_loading_lp_02a.mUID);
  return atexit(anonymous_namespace_::_dynamic_atexit_destructor_for__play_mus_loading_lp_02a__);
}

// File Line: 197
// RVA: 0x1554EB0
__int64 dynamic_initializer_for__UFG::TidoGame::sm_timeStampStr__()
{
  UFG::qString::qString(&UFG::TidoGame::sm_timeStampStr);
  return atexit(dynamic_atexit_destructor_for__UFG::TidoGame::sm_timeStampStr__);
}

// File Line: 204
// RVA: 0x1554ED0
__int64 dynamic_initializer_for__UFG::TidoGame::sm_tunnelEffectRegions__()
{
  return atexit(dynamic_atexit_destructor_for__UFG::TidoGame::sm_tunnelEffectRegions__);
}

// File Line: 207
// RVA: 0x1554C60
__int64 dynamic_initializer_for__UFG::TidoGame::sm_currentSurfaceBankIds__()
{
  `eh vector constructor iterator(
    UFG::TidoGame::sm_currentSurfaceBankIds,
    4ui64,
    5,
    (void (__fastcall *)(void *))UFG::qWiseSymbol::qWiseSymbol);
  return atexit(dynamic_atexit_destructor_for__UFG::TidoGame::sm_currentSurfaceBankIds__);
}

// File Line: 210
// RVA: 0x1554BE0
__int64 dynamic_initializer_for__UFG::TidoGame::sm_animHandleContainer__()
{
  UFG::TidoGame::sm_animHandleContainer.m_bHasBeenBound = 0;
  return atexit(dynamic_atexit_destructor_for__UFG::TidoGame::sm_animHandleContainer__);
}

// File Line: 212
// RVA: 0x1554E70
__int64 dynamic_initializer_for__UFG::TidoGame::sm_stateRequestQueue__()
{
  return atexit(dynamic_atexit_destructor_for__UFG::TidoGame::sm_stateRequestQueue__);
}

// File Line: 220
// RVA: 0x59D3F0
void __fastcall UFG::TidoGame::GetProjectSubpath(UFG::TidoGame *this, UFG::qString *path)
{
  UFG::qString::Set(path, "SD2");
}

// File Line: 230
// RVA: 0x5A8FB0
void __fastcall UFG::TidoGame::ReInit(UFG::TidoGame *this)
{
  UFG::TidoGame *v1; // rbx

  v1 = this;
  UFG::TiDo::StartSound();
  v1->vfptr->LoadAudio((UFG::TiDo *)&v1->vfptr, gCurrentLocationDirectory.mData);
}

// File Line: 241
// RVA: 0x5AC4F0
void __fastcall UFG::TidoGame::Shutdown(UFG::TidoGame *this)
{
  UFG::TidoGame *v1; // rbx
  UFG::GunshotManager *v2; // rbx

  v1 = this;
  UFG::AudioEntity::StopAllEvents(0xFFFFFFFFui64);
  ((void (__fastcall *)(UFG::TidoGame *))v1->vfptr->UpdateFrame)(v1);
  v1->vfptr->UnloadAudio((UFG::TiDo *)&v1->vfptr, gCurrentLocationDirectory.mData);
  UFG::TiDo::StopSound();
  v2 = UFG::GunshotManager::ms_instance;
  if ( UFG::GunshotManager::ms_instance )
  {
    UFG::GunshotManager::~GunshotManager(UFG::GunshotManager::ms_instance);
    operator delete[](v2);
  }
  UFG::GunshotManager::ms_instance = 0i64;
  UFG::VehicleAudioComponent::StaticDestroy();
}

// File Line: 295
// RVA: 0x59F920
void __fastcall UFG::TidoGame::Init(UFG::TidoGame *this)
{
  UFG::TidoGame *v1; // r14
  float *v2; // rbx
  UFG::qWiseSymbol *v3; // rdi
  signed __int64 v4; // rsi
  UFG::qWiseSymbol *v5; // rax
  UFG::EngineManager *v6; // rbx
  UFG::allocator::free_link *v7; // rax
  UFG::qPropertySet *v8; // rax
  UFG::qPropertyList *v9; // rsi
  unsigned int v10; // er15
  unsigned int v11; // edi
  UFG::qSymbol *v12; // rax
  UFG::allocator::free_link *v13; // rax
  UFG::Music *v14; // rax
  UFG::allocator::free_link *v15; // rax
  UFG::HudAudio *v16; // rax
  UFG::allocator::free_link *v17; // rax
  UFG::AmbienceAudio *v18; // rax
  UFG::allocator::free_link *v19; // rax
  UFG::NISAudio *v20; // rbx
  UFG::qSymbol *v21; // rax
  SimpleXML::XMLDocument *v22; // rax
  UFG::GameStatTracker *v23; // rax
  UFG::AudioEventHandler *v24; // rcx
  UFG::WorldAudioEmitterManager *v25; // rax
  UFG::allocator::free_link *v26; // rax
  UFG::RadioFullyControlled *v27; // rax
  UFG::allocator::free_link *v28; // rax
  UFG::ArgumentSequencerBase *v29; // rax
  UFG::qSymbol *v30; // rax
  _BOOL8 v31; // rdx
  void (__fastcall *v32)(fastdelegate::FastDelegate1<char const *,void> *, const char *); // rax
  hkResourceHandle *v33; // rax
  UFG::allocator::free_link *v34; // rax
  UFG::allocator::free_link *v35; // rcx
  UFG::allocator::free_link *v36; // rax
  UFG::allocator::free_link *v37; // rax
  UFG::qNode<UFG::SoundEngineDeviceSettings,UFG::SoundEngineDeviceSettings> **i; // rax
  _QWORD *v39; // rdx
  UFG::qNode<UFG::SoundEngineDeviceSettings,UFG::SoundEngineDeviceSettings> *v40; // rcx
  UFG::qNode<UFG::SoundEngineDeviceSettings,UFG::SoundEngineDeviceSettings> *v41; // rax
  UFG::qNode<UFG::SoundEngineDeviceSettings,UFG::SoundEngineDeviceSettings> *v42; // rcx
  UFG::qNode<UFG::SoundEngineDeviceSettings,UFG::SoundEngineDeviceSettings> *v43; // rax
  fastdelegate::FastDelegate1<char const *,void> v44; // [rsp+10h] [rbp-41h]
  void (__fastcall *callback)(const char *, bool, void *); // [rsp+20h] [rbp-31h]
  void *callbackParam; // [rsp+28h] [rbp-29h]
  UFG::SoundEngineInitParams initParams; // [rsp+38h] [rbp-19h]
  UFG::qSymbol result[2]; // [rsp+B8h] [rbp+67h]
  UFG::allocator::free_link *v49; // [rsp+C0h] [rbp+6Fh]

  v1 = this;
  *(_WORD *)&this->m_loadingBankLoaded = 0;
  *(_QWORD *)&this->packageId_SFX = 0i64;
  v2 = UFG::TidoGame::sm_surfaceBankUpdateTimes;
  v3 = UFG::TidoGame::sm_currentSurfaceBankIds;
  v4 = 5i64;
  do
  {
    v5 = UFG::qWiseSymbol::get_null();
    UFG::qWiseSymbol::operator=(v3, v5);
    *v2 = 0.0;
    ++v3;
    ++v2;
    --v4;
  }
  while ( v4 );
  *(_QWORD *)&result[0].mUID = (char *)&initParams + 16;
  initParams.m_devices.mNode.mPrev = &initParams.m_devices.mNode;
  initParams.m_devices.mNode.mNext = &initParams.m_devices.mNode;
  UFG::TiDo::GetInitParams((UFG::TiDo *)&v1->vfptr, &initParams);
  UFG::TiDo::Init((UFG::TiDo *)&v1->vfptr, &initParams);
  UFG::AudioListener::Create();
  UFG::StreamResourceLoader::LoadResourceFile(
    "Data\\Global\\PropertySets\\engines.bin",
    UFG::gMainMemoryPool,
    0,
    0i64,
    0i64,
    0i64);
  v6 = UFG::EngineManager::m_instance;
  if ( !UFG::EngineManager::m_instance )
  {
    v7 = UFG::qMemoryPool::Allocate(&g_AudioComponentPool, 0x10ui64, "EngineManager", 0i64, 1u);
    v6 = (UFG::EngineManager *)v7;
    *(_QWORD *)&result[0].mUID = v7;
    if ( v7 )
    {
      v49 = v7;
      v7->mNext = v7;
      v7[1].mNext = v7;
    }
    else
    {
      v6 = 0i64;
    }
    UFG::EngineManager::m_instance = v6;
  }
  v8 = UFG::PropertySetManager::GetPropertySet((UFG::qSymbol *)&UFG::gsymEngineManifest.mUID);
  if ( v8 )
  {
    v9 = UFG::qPropertySet::Get<UFG::qPropertyList>(v8, (UFG::qSymbol *)&UFG::gsymEngines.mUID, DEPTH_RECURSE);
    v10 = v9->mNumElements;
    v11 = 0;
    if ( v10 )
    {
      do
      {
        v12 = UFG::qPropertyList::Get<UFG::qSymbol>(v9, v11);
        UFG::EngineManager::FindOrCreateEngine(v6, v12, (fastdelegate::FastDelegate1<char const *,void> *)&callback);
        ++v11;
      }
      while ( v11 < v10 );
    }
  }
  UFG::StreamResourceLoader::UnloadResourceFile("Data\\Global\\PropertySets\\engines.bin");
  v13 = UFG::qMemoryPool::Allocate(&g_AudioComponentPool, 0x140ui64, "Music", 0i64, 1u);
  *(_QWORD *)&result[0].mUID = v13;
  if ( v13 )
    UFG::Music::Music((UFG::Music *)v13);
  else
    v14 = 0i64;
  UFG::Music::sm_instance = v14;
  v15 = UFG::qMemoryPool::Allocate(&g_AudioComponentPool, 0x140ui64, "HudAudio", 0i64, 1u);
  *(_QWORD *)&result[0].mUID = v15;
  if ( v15 )
    UFG::HudAudio::HudAudio((UFG::HudAudio *)v15);
  else
    v16 = 0i64;
  UFG::HudAudio::m_instance = v16;
  v17 = UFG::qMemoryPool::Allocate(&g_AudioComponentPool, 0x150ui64, "AmbienceAudio", 0i64, 1u);
  *(_QWORD *)&result[0].mUID = v17;
  if ( v17 )
    UFG::AmbienceAudio::AmbienceAudio((UFG::AmbienceAudio *)v17);
  else
    v18 = 0i64;
  UFG::AmbienceAudio::m_instance = v18;
  v19 = UFG::qMemoryPool::Allocate(&g_AudioComponentPool, 0x150ui64, "NISAudio", 0i64, 1u);
  v20 = (UFG::NISAudio *)v19;
  v49 = v19;
  if ( v19 )
  {
    UFG::AudioEntity::AudioEntity((UFG::AudioEntity *)v19);
    v20->vfptr = (UFG::AudioEntityVtbl *)&UFG::NISAudio::`vftable;
    v20->m_controller.m_pEvent = 0i64;
    v21 = UFG::qSymbol::create_from_string(result, "NIS");
    UFG::AudioEntity::Init((UFG::AudioEntity *)&v20->vfptr, v21, &UFG::qMatrix44::msIdentity);
    UFG::AudioEntity::SetShouldFollowListener((UFG::AudioEntity *)&v20->vfptr, 1);
  }
  else
  {
    v20 = 0i64;
  }
  UFG::NISAudio::m_instance = v20;
  v22 = SimpleXML::XMLDocument::Open("Data\\Audio\\AudioUI.xml", 1ui64, 0i64);
  UFG::AudioUISystem::LoadUISoundDataCallback(v22);
  UFG::AudioSurfaceTypeManager::LoadSurfaceBankInfo("Data\\Audio\\SurfaceBankMap.xml");
  v23 = UFG::GameStatTracker::Instance();
  UFG::SubtitleManager::sm_subtitleMode = (unsigned int)UFG::GameStatTracker::GetStat(v23, Subtitles);
  UFG::SubtitleManager::LoadManifest();
  UFG::VoiceProfileManager::LoadVoiceProfiles();
  UFG::UIGfxTranslator::loadDictionary(UFG::UIScreenManager::s_instance->m_translator, "AudioAmbient");
  v24 = UFG::AudioEventHandler::m_instance;
  if ( !UFG::AudioEventHandler::m_instance )
  {
    v24 = (UFG::AudioEventHandler *)UFG::qMalloc(8ui64, "AudioEventHandler", 0i64);
    *(_QWORD *)&result[0].mUID = v24;
    if ( v24 )
      v24->m_tido = (UFG::TidoGame *)UFG::TiDo::m_pInstance;
    else
      v24 = 0i64;
    UFG::AudioEventHandler::m_instance = v24;
  }
  UFG::AudioEventHandler::RegisterEventHandlers(v24);
  if ( !UFG::WorldAudioEmitterManager::mInstance )
  {
    v25 = (UFG::WorldAudioEmitterManager *)UFG::qMalloc(8ui64, "WorldAudioEmitter", 0i64);
    *(_QWORD *)&result[0].mUID = v25;
    if ( v25 )
      v25->vfptr = (UFG::WorldAudioEmitterManagerVtbl *)&UFG::WorldAudioEmitterManager::`vftable;
    else
      v25 = 0i64;
    UFG::WorldAudioEmitterManager::mInstance = v25;
  }
  UFG::AudioEventPropertyManager::Initialize();
  UFG::AudioCategoryPropertyManager::Initialize();
  UFG::Radio::LoadRadioStationData();
  if ( !UFG::RadioFullyControlled::sm_playerRadio )
  {
    v26 = UFG::qMemoryPool::Allocate(&g_AudioComponentPool, 0x180ui64, "RadioFullyControlled", 0i64, 1u);
    *(_QWORD *)&result[0].mUID = v26;
    if ( v26 )
      UFG::RadioFullyControlled::RadioFullyControlled((UFG::RadioFullyControlled *)v26);
    else
      v27 = 0i64;
    UFG::RadioFullyControlled::sm_playerRadio = v27;
  }
  if ( !UFG::ArgumentSequencerBase::ms_instance )
  {
    v28 = UFG::qMalloc(0x98ui64, "ArgumentSequencer", 0i64);
    *(_QWORD *)&result[0].mUID = v28;
    if ( v28 )
      UFG::ArgumentSequencer::ArgumentSequencer((UFG::ArgumentSequencer *)v28);
    else
      v29 = 0i64;
    UFG::ArgumentSequencerBase::ms_instance = v29;
  }
  UFG::qSymbol::create_from_string(result, "audio-DialogueRules");
  UFG::ContextualDialogueManager::sm_propertySet = UFG::PropertySetManager::GetPropertySet(result);
  UFG::ContextualDialogueManager::ReadRules();
  UFG::ContextualDialogueManager::ReadResponses();
  v30 = UFG::qSymbol::create_from_string(result, "PoliceScanner");
  UFG::AudioEntity::Init(
    (UFG::AudioEntity *)&UFG::PoliceScannerAudio::sm_Instance.vfptr,
    v30,
    &UFG::qMatrix44::msIdentity);
  UFG::qString::Set(&strBlahBlahTest, "Begin_Pursuit");
  LOBYTE(v31) = 1;
  UFG::PoliceScannerAudio::sm_Instance.vfptr->SetShouldFollowListener(
    (UFG::AudioEntity *)&UFG::PoliceScannerAudio::sm_Instance,
    v31);
  UFG::PoliceScannerAudio::LoadScenarios(&UFG::PoliceScannerAudio::sm_Instance);
  unk_14242F230 = 0i64;
  UFG::TidoGame::LoadLoadingMusicBanks(v1);
  v44 = UFG::DefaultHotSwapCallBack;
  v32 = fastdelegate::FastDelegate1<char const *,void>::InvokeStaticFunction;
  if ( !_ )
    v32 = 0i64;
  callbackParam = v32;
  callback = (void (__fastcall *)(const char *, bool, void *))_;
  v33 = (hkResourceHandle *)UFG::HotSwapFileManager::Get();
  callback = (void (__fastcall *)(const char *, bool, void *))&v44;
  TargetVisibleInAIDataCondition::CreateClone(v33);
  UFG::AmbientConversationConfigurator::LoadDefinitionFile();
  UFG::VehicleAudioComponent::StaticInit();
  UFG::TidoGame::SetUserOptions(v1);
  v34 = UFG::qMalloc(0x80ui64, "GunshotManager", 0i64);
  v35 = v34;
  *(_QWORD *)&result[0].mUID = v34;
  if ( v34 )
  {
    v34->mNext = v34;
    v34[1].mNext = v34;
    v36 = v34 + 2;
    v36->mNext = v36;
    v36[1].mNext = v36;
    v37 = v35 + 4;
    v49 = v37;
    v37->mNext = v37;
    v37[1].mNext = v37;
    v35[9].mNext = 0i64;
    LODWORD(v35[10].mNext) = 1259902592;
    *(UFG::allocator::free_link **)((char *)&v35[10].mNext + 4) = (UFG::allocator::free_link *)1259902592;
    HIDWORD(v35[11].mNext) = 0;
    LODWORD(v35[12].mNext) = 1259902592;
    HIDWORD(v35[12].mNext) = 1259902592;
    v35[13].mNext = 0i64;
    LOWORD(v35[14].mNext) = 1;
    LODWORD(v35[7].mNext) = 5;
    HIDWORD(v35[7].mNext) = 1103626240;
    LODWORD(v35[8].mNext) = 1065353216;
    HIDWORD(v35[8].mNext) = 1056964608;
    v35[6].mNext = 0i64;
    HIDWORD(v35[14].mNext) = 50;
    LODWORD(v35[15].mNext) = 50;
    HIDWORD(v35[15].mNext) = 15;
  }
  else
  {
    v35 = 0i64;
  }
  UFG::GunshotManager::ms_instance = (UFG::GunshotManager *)v35;
  UFG::qFixedAllocator::Init(&UFG::gGunshotRequestPool, 4480, 64, "GunshotRequestPool", 0i64);
  UFG::TaggedDialogueStateManager::Init();
  UFG::VisualEffectAudioManager::LoadProperties();
  *(_QWORD *)&result[0].mUID = (char *)&initParams + 16;
  for ( i = &initParams.m_devices.mNode.mNext[-1].mNext;
        (int *)&initParams.m_devices.mNode.mNext[-1].mNext != &initParams.affinityMask;
        i = &initParams.m_devices.mNode.mNext[-1].mNext )
  {
    v39 = i + 1;
    v40 = i[1];
    v41 = i[2];
    v40->mNext = v41;
    v41->mPrev = v40;
    *v39 = v39;
    v39[1] = v39;
    if ( v39 != (_QWORD *)8 )
      (*(void (__fastcall **)(_QWORD *, signed __int64))*(v39 - 1))(v39 - 1, 1i64);
  }
  v42 = initParams.m_devices.mNode.mPrev;
  v43 = initParams.m_devices.mNode.mNext;
  initParams.m_devices.mNode.mPrev->mNext = initParams.m_devices.mNode.mNext;
  v43->mPrev = v42;
}

// File Line: 379
// RVA: 0x5ABA30
void __fastcall UFG::TidoGame::SetUserOptions(UFG::TidoGame *this)
{
  UFG::TidoGame *v1; // r14
  UFG::GameStatTracker *v2; // rdi
  signed int v3; // ebx
  signed int v4; // esi
  signed int v5; // ebp
  unsigned int v6; // eax
  unsigned int v7; // eax
  unsigned int v8; // eax
  unsigned int v9; // eax

  v1 = this;
  v2 = UFG::GameStatTracker::Instance();
  v3 = UFG::GameStatTracker::GetStat(v2, VolumeSFX);
  v4 = UFG::GameStatTracker::GetStat(v2, VolumeMusic);
  v5 = UFG::GameStatTracker::GetStat(v2, VolumeDialogue);
  LODWORD(v2) = UFG::GameStatTracker::GetStat(v2, VolumeCarMusic);
  v6 = UFG::TiDo::CalcWwiseUid("master_sfx_volume");
  UFG::TiDo::SetWwiseRtpcValue((UFG::TiDo *)&v1->vfptr, v6, (float)v3, 0xFFFFFFFFFFFFFFFFui64);
  v7 = UFG::TiDo::CalcWwiseUid("master_dialog_volume");
  UFG::TiDo::SetWwiseRtpcValue((UFG::TiDo *)&v1->vfptr, v7, (float)v4, 0xFFFFFFFFFFFFFFFFui64);
  v8 = UFG::TiDo::CalcWwiseUid("master_music_volume");
  UFG::TiDo::SetWwiseRtpcValue((UFG::TiDo *)&v1->vfptr, v8, (float)v5, 0xFFFFFFFFFFFFFFFFui64);
  v9 = UFG::TiDo::CalcWwiseUid("master_radio_volume");
  UFG::TiDo::SetWwiseRtpcValue((UFG::TiDo *)&v1->vfptr, v9, (float)(signed int)v2, 0xFFFFFFFFFFFFFFFFui64);
}

// File Line: 401
// RVA: 0x599A40
void __fastcall UFG::TidoGame::CreateAudioEntityRegionData(UFG::TidoGame *this, UFG::AudioEntity *parent)
{
  UFG::AudioEntity *v2; // rdi
  UFG::allocator::free_link *v3; // rax
  UFG::allocator::free_link *v4; // rbx

  v2 = parent;
  v3 = UFG::qMemoryPool::Allocate(&g_AudioComponentPool, 0x10ui64, "AudioEntityRegionDataGame", 0i64, 1u);
  v4 = v3;
  if ( v3 )
  {
    UFG::AudioEntityRegionData::AudioEntityRegionData((UFG::AudioEntityRegionData *)v3, v2);
    v4->mNext = (UFG::allocator::free_link *)&UFG::AudioEntityRegionDataGame::`vftable;
  }
}

// File Line: 411
// RVA: 0x5B0BC0
void __fastcall UFG::TidoGame::UpdateListenerTriggerRegions(UFG::TidoGame *this, UFG::AudioListener *listener)
{
  UFG::AudioTriggerRegion::CheckListener(listener);
}

// File Line: 422
// RVA: 0x5A4730
void __fastcall UFG::TidoGame::OnOneShotFree(UFG::TidoGame *this, UFG::OneShot *oneshot)
{
  UFG::PersistentEventItem *v2; // rax

  if ( UFG::PersistentCollisionManager::sm_numPersistentEvents )
  {
    v2 = (UFG::PersistentEventItem *)UFG::PersistentCollisionManager::FindCollision(oneshot);
    if ( v2 )
      UFG::PersistentCollisionManager::RemoveCollision(v2);
  }
}

// File Line: 440
// RVA: 0x5A4B50
void __fastcall UFG::TidoGame::OnTriggerRegionEnter(UFG::TidoGame *this, UFG::AudioTriggerRegionEvent *regionEvent)
{
  if ( *(_QWORD *)&regionEvent->mAudioType == __PAIR__(effect_in_tunnel.mUID, 3) )
    UFG::TidoGame::sm_effectInTunnelTarg = regionEvent->mAudioRtpcVal;
}

// File Line: 482
// RVA: 0x5A4B70
void __fastcall UFG::TidoGame::OnTriggerRegionExit(UFG::TidoGame *this, UFG::AudioTriggerRegionEvent *regionEvent)
{
  if ( *(_QWORD *)&regionEvent->mAudioType == __PAIR__(effect_in_tunnel.mUID, 3) )
    UFG::TidoGame::sm_effectInTunnelTarg = 0.0;
}

// File Line: 525
// RVA: 0x5A9C60
void __fastcall UFG::TidoGame::RegisterUIAudioCallback(UFG::TidoGame *this)
{
  UFG::UIScreenManager::s_instance->m_audioCallback = UFG::AudioUISystem::BasicHandler;
}

// File Line: 534
// RVA: 0x599910
void __fastcall UFG::TidoGame::Create(UFG::TidoGame *this, UFG::SimObject *simObject, UFG::ModelAsset *modelAsset)
{
  UFG::SimObject *v3; // rbp
  UFG::qReflectArray<UFG::qReflectHandle<UFG::qReflectObject> > *v4; // rsi
  __int64 v5; // rdi
  unsigned __int64 v6; // rbx
  UFG::qReflectObjectType<UFG::AudioEmitterDefinition,UFG::qReflectObject> *v7; // rcx
  const char *v8; // rax
  UFG::qReflectObject *v9; // rbx
  UFG::qMemoryPool *v10; // rax
  UFG::allocator::free_link *v11; // rax
  UFG::SimComponent *v12; // rax
  UFG::SimComponent *v13; // rbx
  UFG::SimObjectModifier v14; // [rsp+38h] [rbp-60h]
  UFG::qReflectHandleBase v15; // [rsp+58h] [rbp-40h]

  v3 = simObject;
  v4 = modelAsset->mCustomDataSlotArray.mData.mItems;
  v5 = 0i64;
  if ( v4->mData.mNumItems )
  {
    do
    {
      UFG::qReflectHandleBase::qReflectHandleBase(&v15, (UFG::qReflectHandleBase *)&v4->mData.mItems[v5].mPrev);
      v6 = v15.mData->mTypeUID;
      v8 = UFG::qReflectObjectType<UFG::AudioEmitterDefinition,UFG::qReflectObject>::GetTypeName(v7);
      if ( v6 == UFG::qStringHash64(v8, 0xFFFFFFFFFFFFFFFFui64) )
      {
        v9 = v4->mData.mItems[v5].mData;
        v10 = UFG::GetSimulationMemoryPool();
        v11 = UFG::qMemoryPool::Allocate(v10, 0x88ui64, "AudioEmitterComponent", 0i64, 1u);
        if ( v11 )
        {
          UFG::AudioEmitterComponent::AudioEmitterComponent(
            (UFG::AudioEmitterComponent *)v11,
            v9->mBaseNode.mUID,
            v3->mNode.mUID);
          v13 = v12;
        }
        else
        {
          v13 = 0i64;
        }
        UFG::SimObjectModifier::SimObjectModifier(&v14, v3, 1);
        UFG::SimObjectModifier::AttachComponent(&v14, v13, 0xFFFFFFFFi64);
        UFG::SimObjectModifier::Close(&v14);
        UFG::SimObjectModifier::~SimObjectModifier(&v14);
      }
      UFG::qReflectHandleBase::~qReflectHandleBase(&v15);
      v5 = (unsigned int)(v5 + 1);
    }
    while ( (unsigned int)v5 < v4->mData.mNumItems );
  }
}

// File Line: 555
// RVA: 0x598C20
void __fastcall UFG::TidoGame::Close(UFG::TidoGame *this)
{
  UFG::TidoGame *v1; // rbx
  UFG::AudioEventHandler *v2; // rcx
  UFG::EngineManager *v3; // rax

  v1 = this;
  if ( (unsigned __int8)AK::SoundEngine::IsInitialized() )
  {
    UFG::WorldAudioEmitterManager::TurnOffAllEmitters();
    v2 = UFG::AudioEventHandler::m_instance;
    if ( !UFG::AudioEventHandler::m_instance )
    {
      v2 = (UFG::AudioEventHandler *)UFG::qMalloc(8ui64, "AudioEventHandler", 0i64);
      if ( v2 )
        v2->m_tido = (UFG::TidoGame *)UFG::TiDo::m_pInstance;
      else
        v2 = 0i64;
      UFG::AudioEventHandler::m_instance = v2;
    }
    UFG::AudioEventHandler::UnregisterEventHandlers(v2);
    UFG::Radio::ClearRadioStationData();
    if ( UFG::RadioFullyControlled::sm_playerRadio )
      UFG::RadioFullyControlled::sm_playerRadio->vfptr->__vecDelDtor(
        (UFG::AudioEntity *)UFG::RadioFullyControlled::sm_playerRadio,
        1u);
    UFG::ConversationManager::Destroy();
    UFG::AmbienceAudio::Shutdown(UFG::HudAudio::m_instance);
    UFG::AudioEntity::Shutdown((UFG::AudioEntity *)&UFG::Music::sm_instance->vfptr);
    UFG::AmbienceAudio::Shutdown((UFG::HudAudio *)UFG::AmbienceAudio::m_instance);
    UFG::AudioEntity::Shutdown((UFG::AudioEntity *)&UFG::NISAudio::m_instance->vfptr);
    UFG::ArgumentSequencerBase::Destroy(UFG::ArgumentSequencerBase::ms_instance);
    v3 = UFG::EngineManager::GetInstance();
    UFG::qList<UFG::EngineCurve,UFG::EngineCurve,1,0>::DeleteNodes(&v3->m_engineList);
    UFG::AudioEntity::StopAllEvents(0xFFFFFFFFFFFFFFFFui64);
    AK::SoundEngine::RenderAudio();
    UFG::TiDo::Close((UFG::TiDo *)&v1->vfptr);
    UFG::AudioEventPropertyManager::Shutdown();
    UFG::AudioCategoryPropertyManager::Shutdown();
  }
}

// File Line: 591
// RVA: 0x5A1130
void __fastcall UFG::TidoGame::LoadFilePackage(UFG::TidoGame *this)
{
  UFG::qSymbol *v1; // rax
  UFG::qSymbol *v2; // rax
  UFG::qSymbol result; // [rsp+48h] [rbp+10h]
  UFG::qSymbol *v4; // [rsp+50h] [rbp+18h]

  v4 = &result;
  v1 = UFG::qSymbol::create_from_string(&result, "Optical");
  UFG::TiDo::LoadFilePackage("SFX.pck", (__int64)v1, 0, 0);
  v4 = &result;
  v2 = UFG::qSymbol::create_from_string(&result, "HDD");
  UFG::TiDo::LoadFilePackage("English(US).pck", (__int64)v2, 0, 0);
}

// File Line: 669
// RVA: 0x5AE6E0
void __fastcall UFG::TidoGame::UnloadFilePackage(UFG::TidoGame *this)
{
  UFG::TidoGame *v1; // rbx
  UFG::qString v2; // [rsp+28h] [rbp-60h]
  UFG::qString v3; // [rsp+50h] [rbp-38h]

  v1 = this;
  if ( UFG::BigFileLogic::IsBigFileEnabled(UFG::BigFileLogic::SYSTEM_AUDIO, 0i64) )
  {
    if ( !UFG::gNoAudioPCK )
    {
      UFG::qString::qString(&v3, "hk_project.pck");
      UFG::qString::qString(&v2);
      v1->vfptr->LookupLocalisedLanguage((UFG::TiDo *)&v1->vfptr, &v2);
      UFG::qString::operator+=(&v2, ".pck");
      UFG::qPrintf("\nUnloading File Package.... %s\n", v3.mData);
      UFG::qPrintf("\nUnloading File Package.... %s\n", v2.mData);
      UFG::qString::~qString(&v2);
      UFG::qString::~qString(&v3);
    }
  }
}

// File Line: 695
// RVA: 0x5A14A0
void __fastcall UFG::TidoGame::LoadLoadingMusicBanks(UFG::TidoGame *this, int a2, int a3)
{
  UFG::TidoGame *v3; // rbx
  float v4; // xmm0_4
  UFG::qStaticWiseSymbol *v5; // rdx

  v3 = this;
  if ( !this->m_loadingBankLoaded
    && Track<TriggerRecoilPostEffectTask>::DeleteTaskWhenItReturnsFalse((hkGeometryUtils::IVertices *)this, a2, a3) )
  {
    v4 = UFG::qRandom(3.0, &UFG::qDefaultSeed);
    if ( v4 > 1.0 )
    {
      if ( v4 > 2.0 )
      {
        if ( v4 > 3.0 )
        {
LABEL_10:
          v3->m_loadOnce = 1;
          UFG::TiDo::LoadWwiseBank(&v3->m_loadingBankName);
          v3->m_loadingBankLoaded = 1;
          return;
        }
        UFG::qWiseSymbol::operator=(&v3->m_loadingBankName, (UFG::qWiseSymbol *)&mus_loading_lp_03.mUID);
        v5 = &play_mus_loading_lp_02a;
      }
      else
      {
        UFG::qWiseSymbol::operator=(&v3->m_loadingBankName, (UFG::qWiseSymbol *)&mus_loading_lp_02.mUID);
        v5 = &play_mus_loading_lp_01b;
      }
    }
    else
    {
      UFG::qWiseSymbol::operator=(&v3->m_loadingBankName, (UFG::qWiseSymbol *)&mus_loading_lp_01.mUID);
      v5 = &play_mus_loading_lp_01a;
    }
    UFG::qWiseSymbol::operator=(&v3->m_loadingEventName, (UFG::qWiseSymbol *)&v5->mUID);
    goto LABEL_10;
  }
}

// File Line: 751
// RVA: 0x59A570
void __fastcall UFG::TidoGame::CreateInstance(hkGeometryUtils::IVertices *a1, int a2, int a3)
{
  bool v3; // al
  unsigned int v4; // ecx
  UFG::allocator::free_link *v5; // rax

  v3 = Track<TriggerRecoilPostEffectTask>::DeleteTaskWhenItReturnsFalse(a1, a2, a3);
  v4 = g_HK_AudioMemoryPoolSize;
  if ( !v3 )
    v4 = g_HK_AudioMemoryPoolSize - g_HK_DisabledAudioReserveSize;
  UFG::InitAudioMemPool(v4);
  if ( !UFG::TiDo::m_pInstance )
  {
    v5 = UFG::qMemoryPool::Allocate(&g_AudioComponentPool, 0x28ui64, "TidoGame", 0i64, 1u);
    if ( v5 )
      UFG::TidoGame::TidoGame((UFG::TidoGame *)v5);
    UFG::TiDo::m_pInstance = (UFG::TiDo *)v5;
  }
}

// File Line: 797
// RVA: 0x5B1640
void __fastcall UFG::TidoGame::UpdateWwiseStateQueue(float delta_sec)
{
  UFG::qNode<UFG::WwiseStateRequest,UFG::WwiseStateRequest> **v1; // rbx
  char *v2; // rdi
  float *v3; // rax
  int v4; // esi
  UFG::qNode<UFG::WwiseStateRequest,UFG::WwiseStateRequest> **v5; // rcx
  UFG::qNode<UFG::WwiseStateRequest,UFG::WwiseStateRequest> *v6; // rdx
  UFG::qNode<UFG::WwiseStateRequest,UFG::WwiseStateRequest> *v7; // rax
  UFG::qNode<UFG::WwiseStateRequest,UFG::WwiseStateRequest> *v8; // rbx
  _QWORD *v9; // r8

  v1 = &UFG::TidoGame::sm_stateRequestQueue.mNode.mNext[-1].mNext;
  v2 = (char *)&UFG::TidoGame::sm_stateRequestQueue - 8;
  v3 = (float *)&UFG::TidoGame::sm_stateRequestQueue.mNode.mNext[-1].mNext;
  if ( &UFG::TidoGame::sm_stateRequestQueue.mNode.mNext[-1].mNext != (UFG::qNode<UFG::WwiseStateRequest,UFG::WwiseStateRequest> **)((char *)&UFG::TidoGame::sm_stateRequestQueue - 8) )
  {
    do
    {
      v3[8] = delta_sec + v3[8];
      v3 = (float *)(*((_QWORD *)v3 + 2) - 8i64);
    }
    while ( v3 != (float *)v2 );
    if ( v1 != (UFG::qNode<UFG::WwiseStateRequest,UFG::WwiseStateRequest> **)v2 && *((float *)v1 + 8) > 0.1 )
    {
      UFG::WwiseInterface::SetWwiseState(*((_DWORD *)v1 + 6), *((_DWORD *)v1 + 7));
      v4 = *((_DWORD *)v1 + 6);
      v5 = &UFG::TidoGame::sm_stateRequestQueue.mNode.mNext[-1].mNext;
      if ( UFG::TidoGame::sm_stateRequestQueue.mNode.mNext != (UFG::qNode<UFG::WwiseStateRequest,UFG::WwiseStateRequest> *)8 )
      {
        do
        {
          if ( v5 == (UFG::qNode<UFG::WwiseStateRequest,UFG::WwiseStateRequest> **)v2 )
            break;
          if ( *((_DWORD *)v5 + 6) == v4 )
          {
            v6 = v5[1];
            v7 = v5[2];
            v8 = v5[2];
            v6->mNext = v7;
            v9 = v5 + 1;
            v7->mPrev = v6;
            *v9 = v9;
            v9[1] = v9;
            ((void (__fastcall *)(UFG::qNode<UFG::WwiseStateRequest,UFG::WwiseStateRequest> **, signed __int64))(*v5)->mPrev)(
              v5,
              1i64);
            v5 = &v8[-1].mNext;
          }
          else
          {
            v5 = &v5[2][-1].mNext;
          }
        }
        while ( v5 );
      }
    }
  }
}

// File Line: 846
// RVA: 0x5B0780
void __fastcall UFG::TidoGame::UpdateFrame(UFG::TidoGame *this, float delta_sec)
{
  UFG::TidoGame *v2; // rbx
  float v3; // xmm7_4
  char v4; // cl
  UFG::AudioEventHandler *v5; // rax

  v2 = this;
  if ( !UFG::TiDo::sm_shuttingDown )
  {
    UFG::TidoGame::UpdateWwiseStateQueue(delta_sec);
    if ( !UFG::WwiseInterface::smLoadScreen )
      UFG::WorldAudioEmitterManager::Update();
    v3 = *(float *)&FLOAT_1_0;
    if ( UFG::TiDo::sm_audioState == 4 )
    {
      UFG::qApproach(
        &UFG::TidoGame::sm_smoothedGameSimTimeScale,
        UFG::Metrics::msInstance.mSimTimeScaleInGame,
        delta_sec,
        2.0);
      if ( last_time_scale != UFG::TidoGame::sm_smoothedGameSimTimeScale )
      {
        UFG::TiDo::SetWwiseRtpcValue(
          (UFG::TiDo *)&v2->vfptr,
          game_sim_time_scale.mUID,
          UFG::TidoGame::sm_smoothedGameSimTimeScale,
          0xFFFFFFFFFFFFFFFFui64);
        last_time_scale = UFG::TidoGame::sm_smoothedGameSimTimeScale;
      }
      UFG::VisualEffectAudioManager::Update(UFG::Metrics::msInstance.mSimTimeDelta);
      UFG::VehicleAudioComponent::StaticUpdate();
      v4 = byte_14242F9AC;
      if ( !byte_14242F9AC )
        v4 = 1;
      byte_14242F9AC = v4;
      UFG::ConversationManager::UpdateConversations(delta_sec);
      UFG::TidoGame::UpdateDistantTraffic(v2);
      UFG::TidoGame::UpdateAmbiences(v2, delta_sec);
      UFG::TidoGame::UpdateWeather(v2, delta_sec);
      UFG::TidoGame::UpdateEffectInTunnel(delta_sec);
      UFG::AudioVFXManager::Update(delta_sec);
      if ( UFG::RadioFullyControlled::sm_playerRadio )
        UFG::Radio::UpdateTrackTimers((UFG::Radio *)&UFG::RadioFullyControlled::sm_playerRadio->vfptr, delta_sec);
      if ( UFG::VendorDialogueUtils::sm_instance && !UFG::VendorDialogueUtils::sm_controller.m_pEvent )
        UFG::VendorDialogueUtils::Cleanup();
      UFG::qGetTicks();
      if ( UFG::AudioTriggerRegion::sm_hierarchyIsDirty )
        UFG::AudioTriggerRegion::UpdateContainmentHierarchy();
      v5 = UFG::AudioEventHandler::GetInstance();
      UFG::AudioEventHandler::Update(v5, delta_sec);
      UFG::AudioEventHandler::ClearCollisionEventList();
      UFG::TidoGame::UpdateSurfaceBankLoadTimes(delta_sec);
      _((AMD_HD3D *)v2);
      UFG::ActorAudioComponent::sm_numNearbyPeds = 0.0;
      UFG::AudioEventHandler::sm_numCollisions = 0;
      UFG::ActorAudioComponent::sm_numPerFrameFootsteps = 0;
      UFG::ActorAudioComponent::sm_numActivePeds = 0.0;
      UFG::ActorAudioComponent::sm_numInCarPeds = 0.0;
      UFG::ActorAudioComponent::sm_numIndoorPeds = 0.0;
      UFG::ActorAudioComponent::sm_numOutdoorPeds = 0.0;
      UFG::ActorAudioComponent::sm_numNearbyNonAmbientPeds = 0.0;
    }
    else
    {
      UFG::TidoGame::sm_smoothedGameSimTimeScale = 1.0;
      UFG::TiDo::SetWwiseRtpcValue((UFG::TiDo *)&v2->vfptr, game_sim_time_scale.mUID, 1.0, 0xFFFFFFFFFFFFFFFFui64);
    }
    UFG::GunshotManager::Update(UFG::GunshotManager::ms_instance, delta_sec);
    if ( UFG::GunshotManager::ms_instance->m_numAiGunshots.m_currentValue < 4.0
      || !UFG::FacialActionTreeComponent::sDisableFacialAnimationUpdate )
    {
      v3 = 0.0;
    }
    if ( last_gun_battle_rptc != v3 )
    {
      UFG::TiDo::SetWwiseRtpcValue((UFG::TiDo *)&v2->vfptr, 0xDD53F496, v3, 0xFFFFFFFFFFFFFFFFui64);
      last_gun_battle_rptc = v3;
    }
    UFG::TiDo::UpdateFrame((UFG::TiDo *)&v2->vfptr, delta_sec);
  }
}

// File Line: 1096
// RVA: 0x155A420
__int64 UFG::_dynamic_initializer_for__num_nearby_peds__()
{
  UFG::qWiseSymbol::create_from_string(&num_nearby_peds, "num_nearby_peds");
  return atexit(UFG::_dynamic_atexit_destructor_for__num_nearby_peds__);
}

// File Line: 1097
// RVA: 0x155A3C0
__int64 UFG::_dynamic_initializer_for__num_indoor_peds__()
{
  UFG::qWiseSymbol::create_from_string(&num_indoor_peds, "num_indoor_peds");
  return atexit(UFG::_dynamic_atexit_destructor_for__num_indoor_peds__);
}

// File Line: 1098
// RVA: 0x155A480
__int64 UFG::_dynamic_initializer_for__num_outdoor_peds__()
{
  UFG::qWiseSymbol::create_from_string(&num_outdoor_peds, "num_outdoor_peds");
  return atexit(UFG::_dynamic_atexit_destructor_for__num_outdoor_peds__);
}

// File Line: 1099
// RVA: 0x155A4B0
__int64 UFG::_dynamic_initializer_for__panic_level__()
{
  UFG::qWiseSymbol::create_from_string(&panic_level, "panic_level");
  return atexit(UFG::_dynamic_atexit_destructor_for__panic_level__);
}

// File Line: 1100
// RVA: 0x155CC40
__int64 UFG::_dynamic_initializer_for__random_approach__()
{
  UFG::qWiseSymbol::create_from_string(&random_approach, "random_approach");
  return atexit(UFG::_dynamic_atexit_destructor_for__random_approach__);
}

// File Line: 1101
// RVA: 0x155CC70
__int64 UFG::_dynamic_initializer_for__random_rate__()
{
  UFG::qWiseSymbol::create_from_string(&random_rate, "random_rate");
  return atexit(UFG::_dynamic_atexit_destructor_for__random_rate__);
}

// File Line: 1102
// RVA: 0x155D160
__int64 UFG::_dynamic_initializer_for__time_of_day__()
{
  UFG::qWiseSymbol::create_from_string(&time_of_day, "time_of_day");
  return atexit(UFG::_dynamic_atexit_destructor_for__time_of_day__);
}

// File Line: 1103
// RVA: 0x155A3F0
__int64 UFG::_dynamic_initializer_for__num_nearby_cars__()
{
  UFG::qWiseSymbol::create_from_string(&num_nearby_cars, "num_nearby_cars");
  return atexit(UFG::_dynamic_atexit_destructor_for__num_nearby_cars__);
}

// File Line: 1104
// RVA: 0x155A450
__int64 UFG::_dynamic_initializer_for__num_nearby_thugs__()
{
  UFG::qWiseSymbol::create_from_string(&num_nearby_thugs, "num_nearby_thugs");
  return atexit(UFG::_dynamic_atexit_destructor_for__num_nearby_thugs__);
}

// File Line: 1107
// RVA: 0x5AFC70
void __fastcall UFG::TidoGame::UpdateAmbiences(UFG::TidoGame *this, float delta_sec)
{
  UFG::TidoGame *v2; // rbx
  float v3; // xmm6_4
  float v4; // xmm6_4
  float v5; // xmm6_4
  float v6; // xmm6_4
  float v7; // xmm6_4
  float v8; // xmm6_4
  float v9; // [rsp+20h] [rbp-38h]
  float value; // [rsp+70h] [rbp+18h]
  float v11; // [rsp+78h] [rbp+20h]

  v2 = this;
  v3 = UFG::TimeOfDayManager::GetInstance()->m_SecondsSinceMidnight * 0.00027777778;
  if ( v3 != last_tod )
  {
    UFG::TiDo::SetWwiseRtpcValue((UFG::TiDo *)&v2->vfptr, time_of_day.mUID, v3, 0xFFFFFFFFFFFFFFFFui64);
    last_tod = v3;
  }
  if ( last_num_nearby_cars != UFG::VehicleAudioComponent::sm_numCarsNearby )
  {
    UFG::AudioEntity::SetRtpcValue(
      (UFG::AudioEntity *)&UFG::AmbienceAudio::m_instance->vfptr,
      num_nearby_cars.mUID,
      UFG::VehicleAudioComponent::sm_numCarsNearby);
    last_num_nearby_cars = UFG::VehicleAudioComponent::sm_numCarsNearby;
  }
  value = UFG::ActorAudioComponent::sm_lastNumNearbyPeds;
  UFG::qApproach(
    &value,
    UFG::ActorAudioComponent::sm_numNearbyPeds,
    UFG::ActorAudioComponent::gActorRateLimit,
    delta_sec);
  v4 = value;
  if ( value != last_num_nearby_peds )
  {
    UFG::AudioEntity::SetRtpcValue(
      (UFG::AudioEntity *)&UFG::AmbienceAudio::m_instance->vfptr,
      num_nearby_peds.mUID,
      value);
    UFG::TiDo::SetWwiseRtpcValue((UFG::TiDo *)&v2->vfptr, num_nearby_peds.mUID, v4, 0xFFFFFFFFFFFFFFFFui64);
    UFG::ActorAudioComponent::sm_lastNumNearbyPeds = v4;
    last_num_nearby_peds = v4;
  }
  v11 = UFG::ActorAudioComponent::sm_lastNumIndoorPeds;
  UFG::qApproach(&v11, UFG::ActorAudioComponent::sm_numIndoorPeds, UFG::ActorAudioComponent::gActorRateLimit, delta_sec);
  v5 = v11;
  if ( v11 != last_num_indoor_peds )
  {
    UFG::AudioEntity::SetRtpcValue(
      (UFG::AudioEntity *)&UFG::AmbienceAudio::m_instance->vfptr,
      num_indoor_peds.mUID,
      v11);
    UFG::ActorAudioComponent::sm_lastNumIndoorPeds = v5;
    last_num_indoor_peds = v5;
  }
  v9 = UFG::ActorAudioComponent::sm_lastNumOutdoorPeds;
  UFG::qApproach(&v9, UFG::ActorAudioComponent::sm_numOutdoorPeds, UFG::ActorAudioComponent::gActorRateLimit, delta_sec);
  v6 = v9;
  if ( v9 != last_num_outdoor_peds )
  {
    UFG::AudioEntity::SetRtpcValue(
      (UFG::AudioEntity *)&UFG::AmbienceAudio::m_instance->vfptr,
      num_outdoor_peds.mUID,
      v9);
    UFG::ActorAudioComponent::sm_lastNumOutdoorPeds = v6;
    last_num_outdoor_peds = v6;
  }
  v7 = dword_14242E484;
  if ( dword_14242E484 != last_panic_value )
  {
    UFG::AudioEntity::SetRtpcValue(
      (UFG::AudioEntity *)&UFG::AmbienceAudio::m_instance->vfptr,
      panic_level.mUID,
      dword_14242E484);
    last_panic_value = v7;
  }
  v8 = UFG::ActorAudioComponent::sm_numNearbyNonAmbientPeds;
  if ( UFG::ActorAudioComponent::sm_numNearbyNonAmbientPeds != last_num_thugs )
  {
    UFG::TiDo::SetWwiseRtpcValue(
      (UFG::TiDo *)&v2->vfptr,
      num_nearby_thugs.mUID,
      UFG::ActorAudioComponent::sm_numNearbyNonAmbientPeds,
      0xFFFFFFFFFFFFFFFFui64);
    last_num_thugs = v8;
  }
}

// File Line: 1188
// RVA: 0x5B1340
void __fastcall UFG::TidoGame::UpdateWeather(UFG::TidoGame *this, float delta_sec)
{
  UFG::TidoGame *v2; // rdi
  unsigned int v3; // eax
  bool v4; // bl
  float v5; // xmm6_4
  float v6; // xmm0_4

  v2 = this;
  v3 = _S7_15;
  if ( !(_S7_15 & 1) )
  {
    _S7_15 |= 1u;
    UFG::qWiseSymbol::create_from_string(&amb_rain_d, "amb_rain_d");
    atexit(UFG::TidoGame::UpdateWeather_::_2_::_dynamic_atexit_destructor_for__amb_rain_d__);
    v3 = _S7_15;
  }
  if ( !(v3 & 2) )
  {
    _S7_15 = v3 | 2;
    UFG::qWiseSymbol::create_from_string(&sur_wet_d, "sur_wet_d");
    atexit(UFG::TidoGame::UpdateWeather_::_2_::_dynamic_atexit_destructor_for__sur_wet_d__);
    v3 = _S7_15;
  }
  if ( !(v3 & 4) )
  {
    _S7_15 = v3 | 4;
    UFG::qWiseSymbol::create_from_string(&play_rain, "play_rain");
    atexit(UFG::TidoGame::UpdateWeather_::_2_::_dynamic_atexit_destructor_for__play_rain__);
    v3 = _S7_15;
  }
  if ( !(v3 & 8) )
  {
    _S7_15 = v3 | 8;
    UFG::qWiseSymbol::create_from_string(&fade_rain, "fade_rain");
    atexit(UFG::TidoGame::UpdateWeather_::_2_::_dynamic_atexit_destructor_for__fade_rain__);
    v3 = _S7_15;
  }
  if ( !(v3 & 0x10) )
  {
    _S7_15 = v3 | 0x10;
    UFG::qWiseSymbol::create_from_string(&stop_rain, "stop_rain");
    atexit(UFG::TidoGame::UpdateWeather_::_2_::_dynamic_atexit_destructor_for__stop_rain__);
  }
  v4 = 1.0 < UFG::TimeOfDayManager::GetInstance()->m_WeatherState;
  v5 = UFG::TimeOfDayManager::GetInstance()->m_WeatherState;
  if ( COERCE_FLOAT(COERCE_UNSIGNED_INT(v5 - old_wet_level) & _xmm) > 0.000099999997 )
  {
    if ( !(_S7_15 & 0x20) )
    {
      _S7_15 |= 0x20u;
      UFG::qWiseSymbol::create_from_string(&wet_level_rtpc, "wet_level");
      atexit(UFG::TidoGame::UpdateWeather_::_5_::_dynamic_atexit_destructor_for__wet_level_rtpc__);
    }
    UFG::TiDo::SetWwiseRtpcValue((UFG::TiDo *)&v2->vfptr, wet_level_rtpc.mUID, v5, 0xFFFFFFFFFFFFFFFFui64);
    old_wet_level = v5;
  }
  if ( v4
    && (UFG::AudioTriggerRegion::sm_interiorTransitionCount <= 0
     || UFG::DoorStateManager::sm_active && UFG::DoorStateManager::sm_open
     || UFG::AudioTriggerRegion::sm_rainDrawOverride > 0) )
  {
    if ( !banks_loaded )
    {
      UFG::TiDo::LoadWwiseBank(&amb_rain_d);
      UFG::TiDo::LoadWwiseBank(&sur_wet_d);
      banks_loaded = 1;
    }
    if ( !rain_is_playing && UFG::SoundBankManager::BankLoaded(&amb_rain_d) )
    {
      UFG::AudioEntity::CreateAndPlayEvent(
        (UFG::AudioEntity *)&UFG::AmbienceAudio::m_instance->vfptr,
        play_rain.mUID,
        0i64,
        0,
        0i64);
      rain_is_playing = 1;
    }
    rain_timeout = 0.0;
  }
  else
  {
    if ( rain_is_playing )
    {
      UFG::AudioEntity::CreateAndPlayEvent(
        (UFG::AudioEntity *)&UFG::AmbienceAudio::m_instance->vfptr,
        fade_rain.mUID,
        0i64,
        0,
        0i64);
      rain_is_playing = 0;
    }
    v6 = rain_timeout + delta_sec;
    rain_timeout = rain_timeout + delta_sec;
    if ( banks_loaded && v6 > 10.0 )
    {
      UFG::AudioEntity::CreateAndPlayEvent(
        (UFG::AudioEntity *)&UFG::AmbienceAudio::m_instance->vfptr,
        stop_rain.mUID,
        0i64,
        0,
        0i64);
      UFG::TiDo::UnloadWwiseBank(&amb_rain_d);
      UFG::TiDo::UnloadWwiseBank(&sur_wet_d);
      banks_loaded = 0;
    }
  }
}

// File Line: 1332
// RVA: 0x59BD50
UFG::qWiseSymbol *__fastcall UFG::TidoGame::FindBankIdForSurface(UFG::qWiseSymbol *result, unsigned int surfaceUid, unsigned int footwear)
{
  UFG::qWiseSymbol *v3; // rbx

  v3 = result;
  UFG::AudioSurfaceTypeManager::GetSurfaceBankId(result, surfaceUid, footwear);
  return v3;
}

// File Line: 1405
// RVA: 0x5A0930
void __fastcall UFG::TidoGame::LoadAudio(UFG::TidoGame *this, const char *name)
{
  const char *v2; // rbx
  UFG::TidoGame *v3; // rdi

  v2 = name;
  v3 = this;
  if ( !Scaleform::Render::Text::DocView::DocumentListener::View_OnLineFormat(
          (hkgpIndexedMesh::EdgeBarrier *)this,
          (hkgpIndexedMeshDefinitions::Edge *)name) )
    UFG::TiDo::LoadAudio((UFG::TiDo *)&v3->vfptr, v2);
}

// File Line: 1418
// RVA: 0x5A2EB0
void __fastcall UFG::TidoGame::LoadingGameStart(UFG::TidoGame *this, UFG::qWiseSymbol *loadingMixState)
{
  UFG::qWiseSymbol *v2; // rdi
  UFG::TidoGame *v3; // rbx
  UFG::allocator::free_link *v4; // rax
  UFG::allocator::free_link *v5; // rdx
  signed __int64 v6; // ST38_8
  __int64 v7; // [rsp+50h] [rbp-38h]
  UFG::AudioEventInitParams pInitParams; // [rsp+58h] [rbp-30h]
  UFG::qWiseSymbol result; // [rsp+A0h] [rbp+18h]
  UFG::allocator::free_link *v10; // [rsp+A8h] [rbp+20h]

  v2 = loadingMixState;
  v3 = this;
  if ( !Scaleform::Render::Text::DocView::DocumentListener::View_OnLineFormat(
          (hkgpIndexedMesh::EdgeBarrier *)this,
          (hkgpIndexedMeshDefinitions::Edge *)loadingMixState) )
  {
    v3->m_loadScreen = 1;
    UFG::AudioEntity::CreateAndPlayEvent(
      (UFG::AudioEntity *)&UFG::AmbienceAudio::m_instance->vfptr,
      v2->mUID,
      0i64,
      0,
      0i64);
    UFG::qWiseSymbol::create_from_string(&result, "stop_mus_fe_lic");
    UFG::Music::MusicEvent(result.mUID);
    if ( v3->m_loadOnce )
    {
      v4 = UFG::qMalloc(0x58ui64, "WwiseEventCallbackData", 0i64);
      v5 = v4;
      v10 = v4;
      if ( v4 )
      {
        v4->mNext = (UFG::allocator::free_link *)&UFG::WwiseEventCallbackData::`vftable;
        v4[1].mNext = 0i64;
        LOBYTE(v4[2].mNext) = 0;
        v6 = (signed __int64)&v4[3];
        *(_QWORD *)v6 = &UFG::WwiseCallbackOperation::`vftable;
        *(_QWORD *)(v6 + 16) = &UFG::AudioEventInfo::`vftable;
        *(_DWORD *)(v6 + 24) = 0;
        *(_QWORD *)(v6 + 32) = 0i64;
        *(_DWORD *)(v6 + 40) = 0;
        *(_QWORD *)(v6 + 48) = 0i64;
        *(_QWORD *)(v6 + 56) = 0i64;
        v4[4].mNext = 0i64;
      }
      else
      {
        v5 = 0i64;
      }
      LODWORD(v5[4].mNext) = 2;
      HIDWORD(v5[4].mNext) = v3->m_loadingBankName.mUID;
      LODWORD(v7) = 0;
      pInitParams.m_EventPlayEndCallback = (void (__fastcall *)(UFG::AudioEntity *, UFG::eAudioEventCallbackType, UFG::AudioEvent *, void *))UFG::Music::MusicCallback;
      *(_QWORD *)pInitParams.gap8 = 0i64;
      *(_QWORD *)&pInitParams.gap8[8] = v7;
      pInitParams.m_EventCallbackUserData = v5;
      UFG::AudioEntity::CreateAndPlayEvent(
        (UFG::AudioEntity *)&UFG::Music::sm_instance->vfptr,
        v3->m_loadingEventName.mUID,
        &UFG::Music::sm_controller,
        &pInitParams,
        0,
        0i64);
      v3->m_loadOnce = 0;
    }
    UFG::TiDo::LoadingGameStart((UFG::TiDo *)&v3->vfptr, v2);
    UFG::TiDo::UpdateFrame((UFG::TiDo *)&v3->vfptr, 0.0099999998);
    _((AMD_HD3D *)result.mUID);
  }
}

// File Line: 1458
// RVA: 0x5A2D90
char __fastcall UFG::TidoGame::LoadingGameEnd(UFG::TidoGame *this, UFG::qWiseSymbol *endLoadMixState)
{
  UFG::qWiseSymbol *v2; // rsi
  UFG::TidoGame *v3; // rbx
  char v4; // di
  UFG::Controller *v5; // rcx

  v2 = endLoadMixState;
  v3 = this;
  if ( Scaleform::Render::Text::DocView::DocumentListener::View_OnLineFormat(
         (hkgpIndexedMesh::EdgeBarrier *)this,
         (hkgpIndexedMeshDefinitions::Edge *)endLoadMixState)
    || !v3->m_loadScreen )
  {
    return 1;
  }
  v3->m_loadScreen = 0;
  v3->m_distantTrafficDisabled = 0;
  v4 = UFG::TiDo::LoadingGameEnd((UFG::TiDo *)&v3->vfptr, v2);
  if ( v4 )
  {
    if ( UFG::Music::sm_controller.m_pEvent && (*((_BYTE *)UFG::Music::sm_controller.m_pEvent + 144) >> 6) & 1 )
      UFG::AudioEvent::StopAndForget(UFG::Music::sm_controller.m_pEvent, 0xFAu);
    v3->m_loadingBankLoaded = 0;
    if ( !(unsigned int)UFG::qStringCompare("HKAudioSandbox", gCurrentLocationDirectory.mData, -1) )
    {
      ((void (__fastcall *)(UFG::TidoGame *, const char *, const char *))v3->vfptr[1].UpdateListenerTriggerRegions)(
        v3,
        "gunshot",
        "wet");
      v3->m_distantTrafficDisabled = 1;
    }
    UFG::AmbienceAudio::PlayAmbience(UFG::AmbienceAudio::m_instance, play_amb_city_2.mUID);
    v3->m_distantTrafficPlaying = 1;
    UFG::AudioListener::sm_pInstance->m_lockListenerPosition = 0;
    v5 = UFG::gInputSystem->mControllers[0];
    if ( !v5 || !v5->m_IsKeyboardController )
      UFG::TiDo::RegisterControllerForEvents((UFG::TiDo *)&v3->vfptr, 0);
    UFG::UIHK_NISOverlay::getInstance();
    UFG::UIHK_NISOverlay::SetPostNISHideCurtainsAudioEvent(v2->mUID, 0);
  }
  return v4;
}

// File Line: 1534
// RVA: 0x5AE690
void __fastcall UFG::TidoGame::UnloadAudio(UFG::TidoGame *this, const char *name)
{
  const char *v2; // rdi
  UFG::TidoGame *v3; // rbx

  v2 = name;
  v3 = this;
  if ( !Scaleform::Render::Text::DocView::DocumentListener::View_OnLineFormat(
          (hkgpIndexedMesh::EdgeBarrier *)this,
          (hkgpIndexedMeshDefinitions::Edge *)name) )
  {
    ((void (*)(void))UFG::AmbienceAudio::m_instance->vfptr->DestroyAllEvents)();
    UFG::TiDo::UnloadAudio((UFG::TiDo *)&v3->vfptr, v2);
    ((void (__fastcall *)(UFG::TidoGame *))v3->vfptr->UpdateFrame)(v3);
  }
}

// File Line: 1609
// RVA: 0x5AAF00
void __fastcall UFG::TidoGame::SetMaterial1(unsigned __int64 objectId, unsigned int material)
{
  unsigned int v2; // ebx
  unsigned __int64 v3; // rdi
  unsigned int v4; // eax

  v2 = material;
  v3 = objectId;
  if ( _S8_16 & 1 )
  {
    v4 = mat1;
  }
  else
  {
    _S8_16 |= 1u;
    v4 = UFG::TiDo::CalcWwiseUid("material1");
    mat1 = v4;
  }
  UFG::TiDo::SetWwiseSwitch(UFG::TiDo::m_pInstance, v4, v2, v3);
}

// File Line: 1621
// RVA: 0x5AAF70
void __fastcall UFG::TidoGame::SetMaterial2(unsigned __int64 objectId, unsigned int material)
{
  unsigned int v2; // ebx
  unsigned __int64 v3; // rdi
  unsigned int v4; // eax

  v2 = material;
  v3 = objectId;
  if ( _S9_17 & 1 )
  {
    v4 = mat2;
  }
  else
  {
    _S9_17 |= 1u;
    v4 = UFG::TiDo::CalcWwiseUid("material2");
    mat2 = v4;
  }
  UFG::TiDo::SetWwiseSwitch(UFG::TiDo::m_pInstance, v4, v2, v3);
}

// File Line: 1630
// RVA: 0x5ABBC0
char __fastcall UFG::TidoGame::SetWwiseState(UFG::TidoGame *this, const char *name, const char *modeName)
{
  UFG::TidoGame *v3; // rsi
  const char *v4; // rdi
  unsigned int v5; // ebx
  unsigned int v6; // eax

  v3 = this;
  v4 = name;
  v5 = UFG::TiDo::CalcWwiseUid(modeName);
  v6 = UFG::TiDo::CalcWwiseUid(v4);
  return UFG::TidoGame::SetWwiseState(v3, v6, v5);
}

// File Line: 1637
// RVA: 0x5ABB50
char __fastcall UFG::TidoGame::SetWwiseState(UFG::TidoGame *this, unsigned int stateId, unsigned int stateMode)
{
  unsigned int v3; // ebx
  unsigned int v4; // edi
  UFG::TidoGame *v5; // rsi
  unsigned int v6; // eax

  v3 = stateMode;
  v4 = stateId;
  v5 = this;
  if ( _S10_12 & 1 )
  {
    v6 = vehicleStateGroup;
  }
  else
  {
    _S10_12 |= 1u;
    v6 = UFG::TiDo::CalcWwiseUid("ms_vehicle");
    vehicleStateGroup = v6;
  }
  if ( v4 == v6 )
    v5->m_vehicleMixState = v3;
  UFG::WwiseInterface::SetWwiseState(v4, v3);
  return 1;
}

// File Line: 1665
// RVA: 0x59A750
bool __fastcall UFG::TidoGame::Debug_GetWwiseState(UFG::TidoGame *this, unsigned int stateId, unsigned int *state)
{
  unsigned int *v3; // rbx
  unsigned int v4; // esi
  UFG::TidoGame *v5; // rdi
  unsigned int v6; // eax

  v3 = state;
  v4 = stateId;
  v5 = this;
  if ( _S11_9 & 1 )
  {
    v6 = vehicleStateGroup_0;
  }
  else
  {
    _S11_9 |= 1u;
    v6 = UFG::TiDo::CalcWwiseUid("ms_vehicle");
    vehicleStateGroup_0 = v6;
  }
  if ( v4 != v6 )
    return UFG::TiDo::Debug_GetWwiseState((UFG::TiDo *)&v5->vfptr, v4, v3);
  *v3 = v5->m_vehicleMixState;
  return 1;
}

// File Line: 1686
// RVA: 0x5AB2C0
void __fastcall UFG::TidoGame::SetSurfaceMaterial(unsigned __int64 objectId, unsigned int material)
{
  unsigned int v2; // ebx
  unsigned __int64 v3; // rdi
  unsigned int v4; // eax

  v2 = material;
  v3 = objectId;
  if ( _S12_10 & 1 )
  {
    v4 = surf_mat;
  }
  else
  {
    _S12_10 |= 1u;
    v4 = UFG::TiDo::CalcWwiseUid("Surface_material");
    surf_mat = v4;
  }
  UFG::TiDo::SetWwiseSwitch(UFG::TiDo::m_pInstance, v4, v2, v3);
}

// File Line: 1756
// RVA: 0x59C500
signed __int64 __fastcall UFG::TidoGame::FindLatchedParkourObjectMaterial(UFG::SimObject *simObj)
{
  unsigned __int16 v1; // dx
  UFG::SimComponent *v2; // rax
  UFG::ParkourHandle *v3; // rbx
  unsigned int v4; // ebx
  UFG::qReflectObjectType<UFG::PhysicsObjectProperties,UFG::qReflectObject> *v5; // rcx
  const char *v6; // rax
  unsigned int v7; // ebx
  UFG::qReflectHandleBase v9; // [rsp+28h] [rbp-30h]

  if ( !simObj )
    return 0xFFFFFFFFi64;
  v1 = simObj->m_Flags;
  if ( (v1 >> 14) & 1 )
  {
    v2 = simObj->m_Components.p[28].m_pComponent;
  }
  else if ( (v1 & 0x8000u) == 0 )
  {
    if ( (v1 >> 13) & 1 )
      v2 = UFG::SimObjectGame::GetComponentOfTypeHK((UFG::SimObjectGame *)simObj, UFG::WorldContextComponent::_TypeUID);
    else
      v2 = (v1 >> 12) & 1 ? UFG::SimObjectGame::GetComponentOfTypeHK(
                              (UFG::SimObjectGame *)simObj,
                              UFG::WorldContextComponent::_TypeUID) : UFG::SimObject::GetComponentOfType(
                                                                        simObj,
                                                                        UFG::WorldContextComponent::_TypeUID);
  }
  else
  {
    v2 = UFG::SimObjectGame::GetComponentOfTypeHK((UFG::SimObjectGame *)simObj, UFG::WorldContextComponent::_TypeUID);
  }
  if ( !v2 )
    return 0xFFFFFFFFi64;
  if ( !BYTE1(v2[4].m_SafePointerList.mNode.mNext) )
    return 0xFFFFFFFFi64;
  v3 = *(UFG::ParkourHandle **)&v2[5].m_TypeUID;
  if ( !v3 )
  {
    v3 = (UFG::ParkourHandle *)v2[5].vfptr;
    if ( !v3 )
      return 0xFFFFFFFFi64;
  }
  if ( !UFG::ParkourHandle::IsEnabled(v3) )
    return 0xFFFFFFFFi64;
  v4 = TargetVisibleInAIDataCondition::CreateClone((hkResourceHandle *)v3);
  UFG::qReflectHandleBase::qReflectHandleBase(&v9);
  v6 = UFG::qReflectObjectType<UFG::PhysicsObjectProperties,UFG::qReflectObject>::GetTypeName(v5);
  v9.mTypeUID = UFG::qStringHash64(v6, 0xFFFFFFFFFFFFFFFFui64);
  UFG::PhysicsPropertyManager::GetObjectProperties((UFG::qReflectHandle<UFG::PhysicsObjectProperties> *)&v9, v4, 1);
  v7 = *(_DWORD *)(v9.mData[4].mBaseNode.mUID + 104);
  UFG::qReflectHandleBase::~qReflectHandleBase(&v9);
  return v7;
}

// File Line: 1786
// RVA: 0x59C0D0
unsigned int __fastcall UFG::TidoGame::FindGroundSurfaceMaterial(UFG::SimObject *simObj, unsigned int footwear)
{
  unsigned int v2; // ebp
  UFG::SimObjectCharacter *v3; // rbx
  unsigned __int16 v4; // cx
  UFG::CharacterSubjectComponent *v5; // rax
  unsigned int result; // eax
  unsigned int v7; // edi
  unsigned __int16 v8; // cx
  UFG::CharacterPhysicsComponent *v9; // rbx
  UFG::SimComponent *v10; // rax
  unsigned __int64 v11; // rsi
  unsigned __int64 v12; // rbx
  UFG::qReflectObjectType<UFG::PhysicsSurfaceProperties,UFG::qReflectObject> *v13; // rcx
  const char *v14; // rax
  UFG::qReflectObjectType<UFG::PhysicsObjectProperties,UFG::qReflectObject> *v15; // rcx
  const char *v16; // rax
  UFG::qReflectHandleBase v17; // [rsp+28h] [rbp-60h]
  UFG::qReflectHandleBase v18; // [rsp+50h] [rbp-38h]

  v2 = footwear;
  v3 = (UFG::SimObjectCharacter *)simObj;
  if ( simObj )
  {
    v4 = simObj->m_Flags;
    if ( (v4 >> 14) & 1 )
    {
      v5 = UFG::SimObjectCharacter::GetComponent<UFG::CharacterSubjectComponent>(v3);
    }
    else if ( (v4 & 0x8000u) == 0 )
    {
      if ( (v4 >> 13) & 1 )
        v5 = (UFG::CharacterSubjectComponent *)UFG::SimObjectGame::GetComponentOfTypeHK(
                                                 (UFG::SimObjectGame *)&v3->vfptr,
                                                 UFG::CharacterSubjectComponent::_TypeUID);
      else
        v5 = (UFG::CharacterSubjectComponent *)((v4 >> 12) & 1 ? UFG::SimObjectGame::GetComponentOfTypeHK(
                                                                   (UFG::SimObjectGame *)&v3->vfptr,
                                                                   UFG::CharacterSubjectComponent::_TypeUID) : UFG::SimObject::GetComponentOfType((UFG::SimObject *)&v3->vfptr, UFG::CharacterSubjectComponent::_TypeUID));
    }
    else
    {
      v5 = (UFG::CharacterSubjectComponent *)UFG::SimObjectGame::GetComponentOfTypeHK(
                                               (UFG::SimObjectGame *)&v3->vfptr,
                                               UFG::CharacterSubjectComponent::_TypeUID);
    }
    if ( v5 && ((unsigned __int8 (__fastcall *)(UFG::CharacterSubjectComponent *))v5->vfptr[42].__vecDelDtor)(v5) )
      return -1793093012;
  }
  result = UFG::TidoGame::FindLatchedParkourObjectMaterial((UFG::SimObject *)&v3->vfptr);
  v7 = result;
  if ( result == -1 )
  {
    if ( v3 )
    {
      v8 = v3->m_Flags;
      if ( (v8 >> 14) & 1 )
      {
        v9 = (UFG::CharacterPhysicsComponent *)v3->m_Components.p[27].m_pComponent;
      }
      else
      {
        if ( (v8 & 0x8000u) == 0 )
        {
          if ( (v8 >> 13) & 1 )
            v10 = UFG::SimObjectGame::GetComponentOfTypeHK(
                    (UFG::SimObjectGame *)&v3->vfptr,
                    UFG::CharacterPhysicsComponent::_TypeUID);
          else
            v10 = (v8 >> 12) & 1 ? UFG::SimObjectGame::GetComponentOfTypeHK(
                                     (UFG::SimObjectGame *)&v3->vfptr,
                                     UFG::CharacterPhysicsComponent::_TypeUID) : UFG::SimObject::GetComponentOfType(
                                                                                   (UFG::SimObject *)&v3->vfptr,
                                                                                   UFG::CharacterPhysicsComponent::_TypeUID);
        }
        else
        {
          v10 = UFG::SimObjectGame::GetComponentOfTypeHK(
                  (UFG::SimObjectGame *)&v3->vfptr,
                  UFG::CharacterPhysicsComponent::_TypeUID);
        }
        v9 = (UFG::CharacterPhysicsComponent *)v10;
      }
      if ( v9 )
      {
        if ( UFG::CharacterPhysicsComponent::IsInWater(v9) )
        {
          v7 = -1046736518;
        }
        else
        {
          v11 = v9->mGroundProperties.groundObjectHandleUid;
          v12 = v9->mGroundProperties.groundSurfaceHandleUid;
          UFG::qReflectHandleBase::qReflectHandleBase(&v18);
          v14 = UFG::qReflectObjectType<UFG::PhysicsSurfaceProperties,UFG::qReflectObject>::GetTypeName(v13);
          v18.mTypeUID = UFG::qStringHash64(v14, 0xFFFFFFFFFFFFFFFFui64);
          UFG::qReflectHandleBase::Init(&v18, v18.mTypeUID, v12);
          if ( v18.mData )
          {
            v7 = (unsigned int)v18.mData[1].mBaseNode.mChildren[0];
          }
          else
          {
            UFG::qReflectHandleBase::qReflectHandleBase(&v17);
            v16 = UFG::qReflectObjectType<UFG::PhysicsObjectProperties,UFG::qReflectObject>::GetTypeName(v15);
            v17.mTypeUID = UFG::qStringHash64(v16, 0xFFFFFFFFFFFFFFFFui64);
            UFG::qReflectHandleBase::Init(&v17, v17.mTypeUID, v11);
            if ( v17.mData )
              v7 = *(_DWORD *)(v17.mData[4].mBaseNode.mUID + 104);
            UFG::qReflectHandleBase::~qReflectHandleBase(&v17);
          }
          UFG::qReflectHandleBase::~qReflectHandleBase(&v18);
        }
      }
    }
    UFG::TidoGame::RefreshSurfaceTimeout(v7, v2);
    result = v7;
  }
  return result;
}

// File Line: 1844
// RVA: 0x5A99A0
bool __fastcall UFG::TidoGame::RefreshSurfaceTimeout(unsigned int surfaceId, unsigned int footwear)
{
  unsigned int v2; // edi
  unsigned int v3; // esi
  bool v4; // bl
  __int64 v5; // rdx
  UFG::qWiseSymbol *v6; // rcx
  bool v7; // al
  UFG::TiDo *v8; // rax
  __int64 v9; // rdx
  UFG::qWiseSymbol *v10; // r8
  __int64 v11; // rbx
  UFG::qWiseSymbol result; // [rsp+50h] [rbp+18h]

  v2 = footwear;
  v3 = surfaceId;
  UFG::TidoGame::FindBankIdForSurface(&result, surfaceId, footwear);
  if ( result.mUID == -1 )
  {
    _((AMD_HD3D *)0xFFFFFFFFi64);
  }
  else
  {
    v4 = UFG::SoundBankManager::BankLoadedOrLoading(&result);
    _((AMD_HD3D *)result.mUID);
    if ( v4 )
    {
      UFG::TidoGame::FindBankIdForSurface(&result, v3, v2);
      v5 = 0i64;
      v6 = UFG::TidoGame::sm_currentSurfaceBankIds;
      while ( result.mUID != v6->mUID )
      {
        v5 = (unsigned int)(v5 + 1);
        ++v6;
        if ( (unsigned int)v5 >= 5 )
          goto LABEL_18;
      }
      UFG::TidoGame::sm_surfaceBankUpdateTimes[v5] = 0.0;
      _((AMD_HD3D *)result.mUID);
      return 1;
    }
  }
  UFG::TidoGame::FindBankIdForSurface(&result, v3, v2);
  if ( result.mUID == -1 || (v8 = UFG::TiDo::GetInstance(), v8->vfptr->HighSpeedMode(v8)) )
  {
LABEL_18:
    _((AMD_HD3D *)result.mUID);
    v7 = 0;
  }
  else
  {
    v9 = 0i64;
    v10 = UFG::TidoGame::sm_currentSurfaceBankIds;
    while ( result.mUID != v10->mUID )
    {
      if ( v10->mUID == -1 )
      {
        v11 = (unsigned int)v9;
        UFG::qWiseSymbol::operator=(&UFG::TidoGame::sm_currentSurfaceBankIds[v9], &result);
        UFG::TidoGame::sm_surfaceBankUpdateTimes[v11] = 0.0;
        UFG::SoundBankManager::QueueBankForLoad(&result);
        break;
      }
      v9 = (unsigned int)(v9 + 1);
      ++v10;
      if ( (unsigned int)v9 >= 5 )
        goto LABEL_18;
    }
    _((AMD_HD3D *)result.mUID);
    v7 = 1;
  }
  return v7;
}

// File Line: 1892
// RVA: 0x5B1270
void __fastcall UFG::TidoGame::UpdateSurfaceBankLoadTimes(float delta_sec)
{
  unsigned int v1; // esi
  __int64 v2; // rdi
  UFG::qWiseSymbol *v3; // rax

  v1 = 0;
  v2 = 0i64;
  do
  {
    if ( *(_DWORD *)(v2 + 5406651136i64) != -1 )
      *(float *)(v2 + 5406647448i64) = delta_sec + *(float *)(v2 + 5406647448i64);
    if ( *(float *)(v2 + 5406647448i64) > 10.0 )
    {
      UFG::TiDo::UnloadWwiseBank(&UFG::TidoGame::sm_currentSurfaceBankIds[v1]);
      v3 = UFG::qWiseSymbol::get_null();
      UFG::qWiseSymbol::operator=(&UFG::TidoGame::sm_currentSurfaceBankIds[v1], v3);
      *(_DWORD *)(v2 + 5406647448i64) = 0;
    }
    ++v1;
    v2 += 4i64;
  }
  while ( v1 < 5 );
}

// File Line: 1927
// RVA: 0x59D8D0
_BOOL8 __fastcall UFG::TidoGame::GetVoiceId(UFG::SimObject *simObject, UFG::VoiceProfile **voiceProfile)
{
  UFG::VoiceProfile **v2; // rdi
  UFG::SimObject *v3; // rbx
  bool v4; // zf
  UFG::qWiseSymbol *v5; // rax
  char *v6; // rax
  bool v7; // bl
  UFG::qWiseSymbol result; // [rsp+50h] [rbp+18h]
  UFG::qWiseSymbol v10; // [rsp+58h] [rbp+20h]

  v2 = voiceProfile;
  v3 = simObject;
  UFG::TidoGame::GetVoiceIdFromPropSet(&result, simObject, voiceProfile);
  v4 = result.mUID == -1;
  if ( result.mUID == -1 )
  {
    v5 = UFG::TidoGame::GetVoiceIdFromTrueCrowdInfo(&v10, v3, v2);
    UFG::qWiseSymbol::operator=(&result, v5);
    _((AMD_HD3D *)v10.mUID);
    v4 = result.mUID == -1;
    if ( result.mUID == -1 )
    {
      v6 = UFG::qSymbol::as_cstr_dbg((UFG::qSymbolUC *)&v3->m_Name);
      UFG::qPrintf("Could not assign voice to: %s\n ", v6);
      v4 = result.mUID == -1;
    }
  }
  v7 = !v4;
  _((AMD_HD3D *)result.mUID);
  return v7;
}

// File Line: 1951
// RVA: 0x59D970
UFG::qWiseSymbol *__fastcall UFG::TidoGame::GetVoiceIdFromPropSet(UFG::qWiseSymbol *result, UFG::SimObject *simObject, UFG::VoiceProfile **voiceProfile)
{
  UFG::VoiceProfile **v3; // r14
  UFG::SimObject *v4; // rbx
  UFG::qWiseSymbol *v5; // rdi
  bool v6; // bp
  UFG::SceneObjectProperties *v7; // rsi
  UFG::qPropertySet *v8; // rbx
  UFG::qWiseSymbol *v9; // rsi
  UFG::VoiceProfile *v10; // rax
  UFG::VoiceProfile *v11; // rbx
  AMD_HD3D *v12; // rcx
  AMD_HD3D *v13; // rcx

  v3 = voiceProfile;
  v4 = simObject;
  v5 = result;
  v6 = UFG::IsAnyLocalPlayer(simObject);
  UFG::IsFemale(v4);
  v7 = v4->m_pSceneObj;
  if ( v7
    && (v8 = PropertyUtils::Get<char const *>(v4->m_pSceneObj, (UFG::qSymbol *)&qSymbol_Voice.mUID),
        v9 = (UFG::qWiseSymbol *)PropertyUtils::Get<UFG::qWiseSymbol>(v7, (UFG::qSymbol *)&qSymbol_TagVoice.mUID),
        v8)
    && (unsigned int)UFG::qStringCompareInsensitive((const char *)v8, "NOTSET", -1) )
  {
    v10 = UFG::VoiceProfileManager::AddOrGetVoiceProfile((const char *)v8, v9);
    v11 = v10;
    if ( v6 )
      UFG::qWiseSymbol::operator=(&v10->m_wwiseTagsUid, v9);
    *v3 = v11;
    v12 = (AMD_HD3D *)v11->m_wwiseVoiceUid.mUID;
    v5->mUID = (unsigned int)v12;
    _(v12);
  }
  else
  {
    v13 = (AMD_HD3D *)UFG::qWiseSymbol::get_null()->mUID;
    v5->mUID = (unsigned int)v13;
    _(v13);
  }
  return v5;
}

// File Line: 1998
// RVA: 0x59DA60
UFG::qWiseSymbol *__fastcall UFG::TidoGame::GetVoiceIdFromTrueCrowdInfo(UFG::qWiseSymbol *result, UFG::SimObject *simObject, UFG::VoiceProfile **voice)
{
  UFG::VoiceProfile **v3; // rdi
  UFG::qWiseSymbol *v4; // rbx
  UFG::VoiceProfile *v5; // rax
  AMD_HD3D *v6; // rcx

  v3 = voice;
  v4 = result;
  v5 = (UFG::VoiceProfile *)UFG::VoiceProfileManager::AssignVoice(simObject);
  if ( v5 )
  {
    *v3 = v5;
    v6 = (AMD_HD3D *)v5->m_wwiseVoiceUid.mUID;
  }
  else
  {
    v6 = (AMD_HD3D *)UFG::qWiseSymbol::get_null()->mUID;
  }
  v4->mUID = (unsigned int)v6;
  _(v6);
  return v4;
}

// File Line: 2031
// RVA: 0x1559850
__int64 UFG::_dynamic_initializer_for___innocent__()
{
  __int64 result; // rax

  result = UFG::qStringHash32("INNOCENT", 0xFFFFFFFF);
  innocent = result;
  return result;
}

// File Line: 2034
// RVA: 0x5975B0
bool __fastcall UFG::TidoGame::CharacterIsAmbientPed(UFG::SimObject *simObject)
{
  unsigned __int16 v1; // dx
  UFG::SimObjectCharacterPropertiesComponent *v2; // rax
  bool result; // al

  if ( simObject
    && ((v1 = simObject->m_Flags, !((v1 >> 14) & 1)) ? ((v1 & 0x8000u) == 0 ? (!((v1 >> 13) & 1) ? (!((v1 >> 12) & 1) ? (v2 = (UFG::SimObjectCharacterPropertiesComponent *)UFG::SimObject::GetComponentOfType(simObject, UFG::SimObjectCharacterPropertiesComponent::_TypeUID)) : (v2 = (UFG::SimObjectCharacterPropertiesComponent *)UFG::SimObjectGame::GetComponentOfTypeHK((UFG::SimObjectGame *)simObject, UFG::SimObjectCharacterPropertiesComponent::_TypeUID))) : (v2 = (UFG::SimObjectCharacterPropertiesComponent *)UFG::SimObjectGame::GetComponentOfTypeHK((UFG::SimObjectGame *)simObject, UFG::SimObjectCharacterPropertiesComponent::_TypeUID))) : (v2 = UFG::SimObjectCVBase::GetComponent<UFG::SimObjectCharacterPropertiesComponent>((UFG::SimObjectCVBase *)simObject))) : (v2 = UFG::SimObjectCVBase::GetComponent<UFG::SimObjectCharacterPropertiesComponent>((UFG::SimObjectCVBase *)simObject)),
        v2) )
  {
    result = v2->m_eFactionClass == 17;
  }
  else
  {
    result = 0;
  }
  return result;
}

// File Line: 2075
// RVA: 0x59B6F0
void __fastcall UFG::TidoGame::EnterAudioState(UFG::TidoGame *this, UFG::eAUDIOSTATE state)
{
  UFG::eAUDIOSTATE v2; // edi
  UFG::TidoGame *v3; // rbx
  unsigned int v4; // eax
  unsigned int v5; // eax
  unsigned int v6; // eax
  UFG::HudAudio *v7; // rcx
  unsigned int v8; // edx
  unsigned int v9; // eax
  UFG::qWiseSymbol v10; // [rsp+30h] [rbp-18h]
  UFG::qWiseSymbol v11; // [rsp+34h] [rbp-14h]
  __int64 v12; // [rsp+38h] [rbp-10h]
  UFG::qWiseSymbol result; // [rsp+58h] [rbp+10h]
  UFG::qWiseSymbol v14; // [rsp+60h] [rbp+18h]
  UFG::qWiseSymbol v15; // [rsp+68h] [rbp+20h]

  v12 = -2i64;
  v2 = state;
  v3 = this;
  if ( state != UFG::TiDo::sm_audioState )
  {
    (*(void (**)(void))&this->vfptr[1].gap8[8])();
    UFG::qWiseSymbol::create_from_string(&result, "pause_game");
    UFG::qWiseSymbol::create_from_string(&v11, "insta_pause");
    UFG::qWiseSymbol::create_from_string(&v10, "resume_game");
    switch ( v2 )
    {
      case 1:
        UFG::TidoGame::LoadLoadingMusicBanks(v3);
        if ( UFG::HudAudio::m_instance )
          UFG::AudioEntity::CreateAndPlayEvent(
            (UFG::AudioEntity *)&UFG::HudAudio::m_instance->vfptr,
            result.mUID,
            0i64,
            0,
            0i64);
        v9 = UFG::TiDo::CalcWwiseUid("mix_pause_menu");
        UFG::TidoGame::SetMix(v9);
        UFG::TidoGame::PlayDLCHudEvent("play_mus_pause");
        break;
      case 2:
        UFG::UIHK_NISOverlay::getInstance();
        UFG::UIHK_NISOverlay::SetPostNISHideCurtainsAudioEvent(set_state_global_main_menu_0.mUID, 0);
        if ( UFG::TiDo::sm_audioState == 1 )
        {
          UFG::qWiseSymbol::create_from_string(&v14, "stop_all_music");
          UFG::Music::MusicEvent(v14.mUID);
          UFG::TidoGame::PlayDLCHudEvent("stop_mus_pause");
          _((AMD_HD3D *)v14.mUID);
        }
        UFG::qWiseSymbol::create_from_string(&v15, "stop_mus_score");
        UFG::Music::MusicEvent(v15.mUID);
        UFG::TidoGame::sm_menuMusicPlaying = 1;
        v4 = UFG::TiDo::CalcWwiseUid("mix_main_menu");
        UFG::TidoGame::SetMix(v4);
        UFG::TidoGame::LoadLoadingMusicBanks(v3);
        UFG::ConversationManager::StopAllAmbientConversations();
        _((AMD_HD3D *)v15.mUID);
        break;
      case 4:
        v6 = UFG::TiDo::CalcWwiseUid("mix_ingame");
        UFG::TidoGame::SetMix(v6);
        UFG::TidoGame::PlayDLCHudEvent("stop_mus_pause");
        if ( UFG::TiDo::sm_audioState == 1 )
        {
          v7 = UFG::HudAudio::m_instance;
          if ( UFG::HudAudio::m_instance )
          {
            v8 = v10.mUID;
            goto LABEL_18;
          }
        }
        break;
      case 6:
        UFG::UIHK_NISOverlay::getInstance();
        UFG::UIHK_NISOverlay::SetPostNISHideCurtainsAudioEvent(stop_mission_fail.mUID, 1);
        break;
      case 9:
        v7 = UFG::HudAudio::m_instance;
        if ( UFG::HudAudio::m_instance )
        {
          v8 = v11.mUID;
          goto LABEL_18;
        }
        break;
      case 10:
        v7 = UFG::HudAudio::m_instance;
        if ( UFG::HudAudio::m_instance )
        {
          v8 = result.mUID;
LABEL_18:
          UFG::AudioEntity::CreateAndPlayEvent((UFG::AudioEntity *)&v7->vfptr, v8, 0i64, 0, 0i64);
        }
        break;
      case 11:
        v5 = UFG::TiDo::CalcWwiseUid("mix_curtains_down");
        UFG::TidoGame::SetMix(v5);
        UFG::TidoGame::sm_menuMusicPlaying = 0;
        break;
      default:
        break;
    }
    UFG::TiDo::sm_audioState = v2;
    _((AMD_HD3D *)v10.mUID);
    _((AMD_HD3D *)v11.mUID);
    _((AMD_HD3D *)result.mUID);
  }
}

// File Line: 2195
// RVA: 0x59BBB0
UFG::TidoGame::ExitAudioState

// File Line: 2273
// RVA: 0x597640
void __fastcall UFG::TidoGame::CheckAndApplyEnvironment(UFG::TidoGame *this, UFG::AudioEntity *entity, UFG::qVector3 *pos, UFG::qWiseSymbol *envType)
{
  UFG::qWiseSymbol *v4; // rbp
  UFG::qVector3 *v5; // r14
  UFG::AudioEntity *v6; // r15
  UFG::qBaseTreeRB *i; // rax
  signed __int64 v8; // rdi
  signed __int64 v9; // rbx
  int v10; // eax
  unsigned int v11; // edx

  v4 = envType;
  v5 = pos;
  v6 = entity;
  for ( i = (UFG::qBaseTreeRB *)UFG::qTreeRB64<UFG::tOffset,UFG::tOffset,1>::GetHead((UFG::qTreeRB64<Render::SkinningCacheNode,Render::SkinningCacheNode,1> *)&UFG::AudioTriggerRegion::msAudioTriggerRegions);
        ;
        i = UFG::qBaseTreeRB::GetNext(
              &UFG::AudioTriggerRegion::msAudioTriggerRegions.mTree,
              (UFG::qBaseNodeRB *)(v8 + 608)) )
  {
    v8 = (signed __int64)(i ? i[-9].mNULL.mChild : 0i64);
    if ( !v8 )
      break;
    if ( *(_BYTE *)(v8 + 736) & 1 )
    {
      v9 = *(_QWORD *)(v8 + 648) - 8i64;
      if ( v9 != v8 + 632 )
      {
        while ( 1 )
        {
          if ( *(_DWORD *)(v9 + 24) == 8 )
          {
            v10 = *(_DWORD *)(v9 + 36);
            if ( (v10 == UFG::WwiseEnvironment::sm_All.mUID || v4->mUID == v10)
              && UFG::RegionComponent::IsHitPoint(*(UFG::RegionComponent **)(v8 + 216), v5) )
            {
              break;
            }
          }
          v9 = *(_QWORD *)(v9 + 16) - 8i64;
          if ( v9 == v8 + 632 )
            goto LABEL_13;
        }
        v11 = *(_DWORD *)(v9 + 28);
        if ( v11 )
          UFG::AudioEntity::ApplyEnvironment(v6, v11, 1.0, *(float *)(v9 + 44), *(float *)(v9 + 48), v4);
        return;
      }
    }
LABEL_13:
    ;
  }
}

// File Line: 2367
// RVA: 0x5A5C90
void __fastcall UFG::TidoGame::PlayFightHeadSmash(UFG::TidoGame *this, UFG::qVector3 *position)
{
  UFG::qVector3 *v2; // rbx
  UFG::TidoGame *v3; // rdi
  unsigned int v4; // eax
  UFG::SimObjectProp *v5; // rax
  unsigned __int16 v6; // dx
  UFG::SimObjectWeaponPropertiesComponent *v7; // rax

  v2 = position;
  v3 = this;
  v4 = _S14_3;
  if ( !(_S14_3 & 1) )
  {
    _S14_3 |= 1u;
    UFG::qWiseSymbol::create_from_string(&target_mat, "body_head");
    atexit(UFG::TidoGame::PlayFightHeadSmash_::_2_::_dynamic_atexit_destructor_for__target_mat__);
    v4 = _S14_3;
  }
  if ( !(v4 & 2) )
  {
    _S14_3 = v4 | 2;
    UFG::qWiseSymbol::create_from_string(&intensity, "KO");
    atexit(UFG::TidoGame::PlayFightHeadSmash_::_2_::_dynamic_atexit_destructor_for__intensity__);
  }
  v5 = (UFG::SimObjectProp *)UFG::getTarget((UFG::SimObject *)&LocalPlayer->vfptr, eTARGET_TYPE_EQUIPPED);
  if ( v5 )
  {
    v6 = v5->m_Flags;
    if ( (v6 >> 14) & 1 )
    {
      v7 = (UFG::SimObjectWeaponPropertiesComponent *)UFG::SimObjectGame::GetComponentOfTypeHK(
                                                        (UFG::SimObjectGame *)&v5->vfptr,
                                                        UFG::SimObjectWeaponPropertiesComponent::_TypeUID);
    }
    else if ( (v6 & 0x8000u) == 0 )
    {
      if ( (v6 >> 13) & 1 )
      {
        v7 = UFG::SimObjectProp::GetComponent<UFG::SimObjectWeaponPropertiesComponent>(v5);
      }
      else if ( (v6 >> 12) & 1 )
      {
        v7 = (UFG::SimObjectWeaponPropertiesComponent *)UFG::SimObjectGame::GetComponentOfTypeHK(
                                                          (UFG::SimObjectGame *)&v5->vfptr,
                                                          UFG::SimObjectWeaponPropertiesComponent::_TypeUID);
      }
      else
      {
        v7 = (UFG::SimObjectWeaponPropertiesComponent *)UFG::SimObject::GetComponentOfType(
                                                          (UFG::SimObject *)&v5->vfptr,
                                                          UFG::SimObjectWeaponPropertiesComponent::_TypeUID);
      }
    }
    else
    {
      v7 = (UFG::SimObjectWeaponPropertiesComponent *)UFG::SimObjectGame::GetComponentOfTypeHK(
                                                        (UFG::SimObjectGame *)&v5->vfptr,
                                                        UFG::SimObjectWeaponPropertiesComponent::_TypeUID);
    }
    if ( v7 )
      UFG::TidoGame::PlayFightImpact(
        v3,
        v7->mWeaponTypeInfo->mFireModes[v7->mFireMode]->mAudioWeaponType.mUID,
        target_mat.mUID,
        intensity.mUID,
        v2);
  }
}

// File Line: 2395
// RVA: 0x5A5F80
void __fastcall UFG::TidoGame::PlayFightImpact(UFG::TidoGame *this, __int64 sourceMaterialType, unsigned int targetMaterialType, unsigned int intensityType, UFG::qVector3 *position)
{
  float v5; // xmm1_4
  float v6; // xmm0_4
  UFG::qMatrix44 txform; // [rsp+30h] [rbp-48h]

  txform.v2.w = 0.0;
  txform.v1.w = 0.0;
  v5 = position->y;
  txform.v3.x = position->x;
  v6 = position->z;
  txform.v3.y = v5;
  txform.v3.z = v6;
  LODWORD(txform.v3.w) = (_DWORD)FLOAT_1_0;
  *(UFG::qVector3 *)&txform.v2.x = UFG::qVector3::msDirUp;
  *(UFG::qVector3 *)&txform.v1.x = UFG::qVector3::msDirLeft;
  UFG::TidoGame::PlayFightImpact(this, sourceMaterialType, targetMaterialType, intensityType, &txform);
}

// File Line: 2410
// RVA: 0x155A7C0
__int64 UFG::_dynamic_initializer_for__play_fight_impact__()
{
  play_fight_impact.mUID = UFG::qWiseSymbolUIDFromString("play_fight_impact", 0x811C9DC5);
  _((AMD_HD3D *)play_fight_impact.mUID);
  return atexit(UFG::_dynamic_atexit_destructor_for__play_fight_impact__);
}

// File Line: 2411
// RVA: 0x15599B0
__int64 UFG::_dynamic_initializer_for__attack_types_switch__()
{
  attack_types_switch.mUID = UFG::qWiseSymbolUIDFromString("attack_types_switch", 0x811C9DC5);
  _((AMD_HD3D *)attack_types_switch.mUID);
  return atexit(UFG::_dynamic_atexit_destructor_for__attack_types_switch__);
}

// File Line: 2412
// RVA: 0x155A170
__int64 UFG::_dynamic_initializer_for__material_2__()
{
  material_2.mUID = UFG::qWiseSymbolUIDFromString("material_2", 0x811C9DC5);
  _((AMD_HD3D *)material_2.mUID);
  return atexit(UFG::_dynamic_atexit_destructor_for__material_2__);
}

// File Line: 2413
// RVA: 0x1559910
__int64 UFG::_dynamic_initializer_for__attack_strength__()
{
  attack_strength.mUID = UFG::qWiseSymbolUIDFromString("attack_strength", 0x811C9DC5);
  _((AMD_HD3D *)attack_strength.mUID);
  return atexit(UFG::_dynamic_atexit_destructor_for__attack_strength__);
}

// File Line: 2414
// RVA: 0x1559960
__int64 UFG::_dynamic_initializer_for__attack_strength_v__()
{
  attack_strength_v.mUID = UFG::qWiseSymbolUIDFromString("attack_strength_v", 0x811C9DC5);
  _((AMD_HD3D *)attack_strength_v.mUID);
  return atexit(UFG::_dynamic_atexit_destructor_for__attack_strength_v__);
}

// File Line: 2415
// RVA: 0x1559AC0
__int64 UFG::_dynamic_initializer_for__damage_intensity__()
{
  damage_intensity.mUID = UFG::qWiseSymbolUIDFromString("damage_intensity", 0x811C9DC5);
  _((AMD_HD3D *)damage_intensity.mUID);
  return atexit(UFG::_dynamic_atexit_destructor_for__damage_intensity__);
}

// File Line: 2416
// RVA: 0x155A1F0
__int64 UFG::_dynamic_initializer_for__medium__()
{
  medium.mUID = UFG::qWiseSymbolUIDFromString("medium", 0x811C9DC5);
  _((AMD_HD3D *)medium.mUID);
  return atexit(UFG::_dynamic_atexit_destructor_for__medium__);
}

// File Line: 2419
// RVA: 0x5A5EB0
void __fastcall UFG::TidoGame::PlayFightImpact(UFG::TidoGame *this, __int64 sourceMaterialType, unsigned int targetMaterialType, unsigned int intensityType, UFG::qMatrix44 *txform)
{
  unsigned int v5; // ebx
  unsigned int v6; // edi
  unsigned int v7; // esi
  UFG::OneShotHandle pHandle; // [rsp+20h] [rbp-18h]
  __int64 v9; // [rsp+28h] [rbp-10h]

  v9 = -2i64;
  v5 = intensityType;
  v6 = targetMaterialType;
  v7 = sourceMaterialType;
  if ( !Scaleform::Render::Text::DocView::DocumentListener::View_OnLineFormat(
          (hkgpIndexedMesh::EdgeBarrier *)this,
          (hkgpIndexedMeshDefinitions::Edge *)sourceMaterialType) )
  {
    pHandle.m_pOneShot = 0i64;
    UFG::OneShotPool::GetOneShotHandle(&pHandle, txform);
    if ( UFG::OneShotHandle::IsValid(&pHandle) )
    {
      UFG::AudioEntity::SetWwiseSwitch(
        (UFG::AudioEntity *)&pHandle.m_pOneShot->vfptr,
        damage_intensity.mUID,
        medium.mUID);
      UFG::AudioEntity::SetWwiseSwitch((UFG::AudioEntity *)&pHandle.m_pOneShot->vfptr, attack_types_switch.mUID, v7);
      UFG::AudioEntity::SetWwiseSwitch((UFG::AudioEntity *)&pHandle.m_pOneShot->vfptr, material_2.mUID, v6);
      UFG::AudioEntity::SetWwiseSwitch((UFG::AudioEntity *)&pHandle.m_pOneShot->vfptr, attack_strength_v.mUID, v5);
      UFG::OneShot::Play(pHandle.m_pOneShot, play_fight_impact.mUID);
    }
    UFG::OneShotHandle::Release(&pHandle);
  }
}

// File Line: 2483
// RVA: 0x5A1210
void __fastcall UFG::TidoGame::LoadGameSliceAudioResources(const char *slice_name, const char *script_name)
{
  const char *v2; // rdi
  const char *v3; // rsi
  int v4; // er8
  AnimationGroupHandle *v5; // rbx
  unsigned int v6; // ecx
  unsigned int *v7; // rdx
  unsigned int v8; // eax
  unsigned int *v9; // rcx
  int v10; // er8
  unsigned int v11; // ecx
  unsigned int *v12; // rdx
  unsigned int v13; // eax
  unsigned int *v14; // rcx
  UFG::qSymbolUC *v15; // rdi
  UFG::allocator::free_link *v16; // rax
  AnimationGroupHandle *v17; // rax
  UFG::qNode<AnimationGroupHandle,AnimationGroupHandleContainer> *v18; // rcx
  UFG::qNode<AnimationGroupHandle,AnimationGroupHandleContainer> *v19; // rax
  bool v20; // di
  AnimationGroupHandle *i; // rbx
  char v22; // al
  UFG::qString result; // [rsp+30h] [rbp-58h]
  UFG::qString v24; // [rsp+58h] [rbp-30h]
  UFG::qSymbol setName; // [rsp+A0h] [rbp+18h]
  UFG::qSymbol v26; // [rsp+A8h] [rbp+20h]

  v2 = script_name;
  v3 = slice_name;
  UFG::qPrintf("Audio: Loading resources for slice: %s   %s\n", slice_name, script_name);
  UFG::qString::FormatEx(&result, "Audio-Subtitles-English(US)-%s", v3);
  UFG::qSymbol::create_from_string(&v26, result.mData);
  setName.mUID = v26.mUID;
  UFG::SubtitleContainer::GrabParametersInstance((__int64)&setName);
  UFG::qString::~qString(&result);
  v4 = UFG::TiDo::CalcWwiseUid(v3);
  v5 = 0i64;
  v6 = 0;
  if ( UFG::SubtitleManager::sm_subtitleSets.size )
  {
    v7 = UFG::SubtitleManager::sm_subtitleSets.p;
    while ( v4 != *v7 )
    {
      ++v6;
      ++v7;
      if ( v6 >= UFG::SubtitleManager::sm_subtitleSets.size )
        goto LABEL_7;
    }
    if ( v6 != -1 )
      goto LABEL_13;
  }
LABEL_7:
  v8 = 0;
  if ( UFG::SubtitleManager::sm_subtitleSets_LoadOnBoot.size )
  {
    v9 = UFG::SubtitleManager::sm_subtitleSets_LoadOnBoot.p;
    while ( v4 != *v9 )
    {
      ++v8;
      ++v9;
      if ( v8 >= UFG::SubtitleManager::sm_subtitleSets_LoadOnBoot.size )
        goto LABEL_14;
    }
    if ( v8 != -1 )
    {
LABEL_13:
      UFG::UIGfxTranslator::loadDictionary(UFG::UIScreenManager::s_instance->m_translator, v3);
      goto LABEL_28;
    }
  }
LABEL_14:
  v10 = UFG::TiDo::CalcWwiseUid(v2);
  v11 = 0;
  if ( UFG::SubtitleManager::sm_subtitleSets.size )
  {
    v12 = UFG::SubtitleManager::sm_subtitleSets.p;
    while ( v10 != *v12 )
    {
      ++v11;
      ++v12;
      if ( v11 >= UFG::SubtitleManager::sm_subtitleSets.size )
        goto LABEL_20;
    }
    if ( v11 != -1 )
      goto LABEL_26;
  }
LABEL_20:
  v13 = 0;
  if ( UFG::SubtitleManager::sm_subtitleSets_LoadOnBoot.size )
  {
    v14 = UFG::SubtitleManager::sm_subtitleSets_LoadOnBoot.p;
    while ( v10 != *v14 )
    {
      ++v13;
      ++v14;
      if ( v13 >= UFG::SubtitleManager::sm_subtitleSets_LoadOnBoot.size )
        goto LABEL_27;
    }
    if ( v13 != -1 )
    {
LABEL_26:
      UFG::UIGfxTranslator::loadDictionary(UFG::UIScreenManager::s_instance->m_translator, v2);
      goto LABEL_28;
    }
  }
LABEL_27:
  UFG::qPrintf("SUBTITLES: Failed to load for: %s %s\n", v3, v2);
LABEL_28:
  UFG::qString::qString(&v24, "%s", v2);
  v15 = UFG::qSymbolUC::create_from_string((UFG::qSymbolUC *)&setName, v24.mData);
  v16 = UFG::qMalloc(0x50ui64, "AnimationGroupHandle", 0i64);
  *(_QWORD *)&v26.mUID = v16;
  if ( v16 )
  {
    AnimationGroupHandle::AnimationGroupHandle((AnimationGroupHandle *)v16);
    v5 = v17;
  }
  AnimationGroupHandle::Init(v5, v15, eANIM_PRIORITY_CHARACTER_FLAVOUR);
  v18 = (UFG::qNode<AnimationGroupHandle,AnimationGroupHandleContainer> *)&v5->mPrev;
  v19 = UFG::TidoGame::sm_animHandleContainer.m_AnimationGroupHandleList.mNode.mPrev;
  UFG::TidoGame::sm_animHandleContainer.m_AnimationGroupHandleList.mNode.mPrev->mNext = (UFG::qNode<AnimationGroupHandle,AnimationGroupHandleContainer> *)&v5->mPrev;
  v18->mPrev = v19;
  v18->mNext = (UFG::qNode<AnimationGroupHandle,AnimationGroupHandleContainer> *)&UFG::TidoGame::sm_animHandleContainer;
  UFG::TidoGame::sm_animHandleContainer.m_AnimationGroupHandleList.mNode.mPrev = (UFG::qNode<AnimationGroupHandle,AnimationGroupHandleContainer> *)&v5->mPrev;
  v20 = 1;
  for ( i = (AnimationGroupHandle *)&UFG::TidoGame::sm_animHandleContainer.m_AnimationGroupHandleList.mNode.mNext[-1];
        i != (AnimationGroupHandle *)((char *)&UFG::TidoGame::sm_animHandleContainer - 16);
        i = (AnimationGroupHandle *)&i->mNext[-1] )
  {
    v22 = AnimationGroupHandle::Bind(i);
    v20 = v20 && v22;
  }
  UFG::TidoGame::sm_animHandleContainer.m_bHasBeenBound = 1;
  UFG::qString::~qString(&v24);
}

// File Line: 2510
// RVA: 0x5A11B0
void __fastcall UFG::TidoGame::LoadGameSliceAudioResources(UFG::GameSlice *slice)
{
  UFG::GameSlice *v1; // rbx
  char *v2; // rdi
  const char *v3; // rbx
  UFG::qSharedString result; // [rsp+40h] [rbp+8h]

  v1 = slice;
  v2 = UFG::GameSlice::GetAudioName(slice, &result)->mText;
  UFG::qSharedString::~qSharedString(&result);
  v3 = v1->mScriptClassName.mText;
  UFG::TidoGame::LoadGameSliceAudioResources(v2, v3);
  UFG::qPrintf("Audio: Loading resources for script: %s\n", v3);
  UFG::TaggedDialogueStateManager::MaybeChangeState(0);
}

// File Line: 2525
// RVA: 0x5AE7B0
void __fastcall UFG::TidoGame::UnloadGameSliceAudioResources(const char *slice_name, const char *script_name)
{
  const char *v2; // rdi
  const char *v3; // rsi
  int v4; // er8
  unsigned int v5; // ebx
  unsigned int v6; // ecx
  unsigned int *v7; // rdx
  unsigned int v8; // eax
  unsigned int *v9; // rcx
  const char *v10; // rdx
  int v11; // er8
  unsigned int v12; // ecx
  unsigned int *v13; // rdx
  unsigned int *v14; // rax
  UFG::qSymbolUC *v15; // rax
  UFG::qNode<AnimationGroupHandle,AnimationGroupHandleContainer> *v16; // rbx
  unsigned int v17; // eax
  UFG::qNode<AnimationGroupHandle,AnimationGroupHandleContainer> *v18; // rdx
  UFG::qNode<AnimationGroupHandle,AnimationGroupHandleContainer> *v19; // rcx
  UFG::qNode<AnimationGroupHandle,AnimationGroupHandleContainer> *v20; // rax
  UFG::qString result; // [rsp+30h] [rbp-58h]
  UFG::qString v22; // [rsp+58h] [rbp-30h]
  UFG::qSymbol setName; // [rsp+A0h] [rbp+18h]
  UFG::qSymbol v24; // [rsp+A8h] [rbp+20h]

  v2 = script_name;
  v3 = slice_name;
  UFG::qPrintf("Audio: Unloading resources for slice: %s\n", slice_name);
  UFG::qString::FormatEx(&result, "Audio-Subtitles-English(US)-%s", v3);
  UFG::qSymbol::create_from_string(&v24, result.mData);
  setName.mUID = v24.mUID;
  UFG::SubtitleContainer::GrabParametersInstance((__int64)&setName);
  UFG::qString::~qString(&result);
  v4 = UFG::TiDo::CalcWwiseUid(v3);
  v5 = 0;
  v6 = 0;
  if ( UFG::SubtitleManager::sm_subtitleSets.size )
  {
    v7 = UFG::SubtitleManager::sm_subtitleSets.p;
    while ( v4 != *v7 )
    {
      ++v6;
      ++v7;
      if ( v6 >= UFG::SubtitleManager::sm_subtitleSets.size )
        goto LABEL_7;
    }
    if ( v6 != -1 )
      goto LABEL_13;
  }
LABEL_7:
  v8 = 0;
  if ( UFG::SubtitleManager::sm_subtitleSets_LoadOnBoot.size )
  {
    v9 = UFG::SubtitleManager::sm_subtitleSets_LoadOnBoot.p;
    while ( v4 != *v9 )
    {
      ++v8;
      ++v9;
      if ( v8 >= UFG::SubtitleManager::sm_subtitleSets_LoadOnBoot.size )
        goto LABEL_14;
    }
    if ( v8 != -1 )
    {
LABEL_13:
      v10 = v3;
LABEL_27:
      UFG::UIGfxTranslator::unloadDictionary(UFG::UIScreenManager::s_instance->m_translator, v10);
      goto LABEL_28;
    }
  }
LABEL_14:
  v11 = UFG::TiDo::CalcWwiseUid(v2);
  v12 = 0;
  if ( UFG::SubtitleManager::sm_subtitleSets.size )
  {
    v13 = UFG::SubtitleManager::sm_subtitleSets.p;
    while ( v11 != *v13 )
    {
      ++v12;
      ++v13;
      if ( v12 >= UFG::SubtitleManager::sm_subtitleSets.size )
        goto LABEL_20;
    }
    if ( v12 != -1 )
    {
LABEL_26:
      v10 = v2;
      goto LABEL_27;
    }
  }
LABEL_20:
  if ( UFG::SubtitleManager::sm_subtitleSets_LoadOnBoot.size )
  {
    v14 = UFG::SubtitleManager::sm_subtitleSets_LoadOnBoot.p;
    while ( v11 != *v14 )
    {
      ++v5;
      ++v14;
      if ( v5 >= UFG::SubtitleManager::sm_subtitleSets_LoadOnBoot.size )
        goto LABEL_28;
    }
    if ( v5 != -1 )
      goto LABEL_26;
  }
LABEL_28:
  UFG::qString::qString(&v22, "Facial\\%s", v2);
  v15 = UFG::qSymbolUC::create_from_string((UFG::qSymbolUC *)&setName, v22.mData);
  v16 = UFG::TidoGame::sm_animHandleContainer.m_AnimationGroupHandleList.mNode.mNext - 1;
  if ( &UFG::TidoGame::sm_animHandleContainer.m_AnimationGroupHandleList.mNode.mNext[-1] != (UFG::qNode<AnimationGroupHandle,AnimationGroupHandleContainer> *)((char *)&UFG::TidoGame::sm_animHandleContainer - 16) )
  {
    v17 = v15->mUID;
    while ( LODWORD(v16[2].mPrev) != v17 )
    {
      v16 = v16[1].mNext - 1;
      if ( v16 == (UFG::qNode<AnimationGroupHandle,AnimationGroupHandleContainer> *)((char *)&UFG::TidoGame::sm_animHandleContainer
                                                                                   - 16) )
        goto LABEL_34;
    }
    AnimationGroupHandle::Unbind((AnimationGroupHandle *)v16);
    v18 = v16 + 1;
    v19 = v16[1].mPrev;
    v20 = v16[1].mNext;
    v19->mNext = v20;
    v20->mPrev = v19;
    v18->mPrev = v18;
    v18->mNext = v18;
    AnimationGroupHandle::~AnimationGroupHandle((AnimationGroupHandle *)v16);
    operator delete[](v16);
  }
LABEL_34:
  UFG::qString::~qString(&v22);
}

// File Line: 2544
// RVA: 0x5AE7A0
void __fastcall UFG::TidoGame::UnloadGameSliceAudioResources(UFG::GameSlice *slice)
{
  UFG::TidoGame::UnloadGameSliceAudioResources(slice->mName.mText, slice->mScriptClassName.mText);
}

// File Line: 2579
// RVA: 0x5AC760
void __fastcall UFG::TidoGame::StartDistantTraffic(UFG::TidoGame *this)
{
  this->m_distantTrafficPlaying = 1;
}

// File Line: 2599
// RVA: 0x5B0620
void __fastcall UFG::TidoGame::UpdateDistantTraffic(UFG::TidoGame *this)
{
  if ( !this->m_distantTrafficDisabled )
  {
    if ( this->m_distantTrafficPlaying )
    {
      if ( UFG::SoundBankManager::BankLoadRequested((UFG::qWiseSymbol *)&amb_traffic_d.mUID) )
      {
        if ( UFG::SoundBankManager::BankLoaded((UFG::qWiseSymbol *)&amb_traffic_d.mUID)
          && !UFG::AudioEntity::IsPlayingId(
                (UFG::AudioEntity *)&UFG::AmbienceAudio::m_instance->vfptr,
                play_distant_traffic.mUID) )
        {
          UFG::AmbienceAudio::PlayAmbience(UFG::AmbienceAudio::m_instance, play_distant_traffic.mUID);
        }
      }
      else
      {
        UFG::SoundBankManager::QueueBankForLoad((UFG::qWiseSymbol *)&amb_traffic_d.mUID);
      }
    }
    else
    {
      if ( UFG::AudioEntity::IsPlayingId(
             (UFG::AudioEntity *)&UFG::AmbienceAudio::m_instance->vfptr,
             play_distant_traffic.mUID) )
      {
        ((void (__fastcall *)(UFG::AmbienceAudio *, _QWORD))UFG::AmbienceAudio::m_instance->vfptr->StopAndForgetEvent)(
          UFG::AmbienceAudio::m_instance,
          play_distant_traffic.mUID);
      }
      if ( UFG::SoundBankManager::BankLoadedOrLoading((UFG::qWiseSymbol *)&amb_traffic_d.mUID) )
        UFG::SoundBankManager::QueueBankForUnload((UFG::qWiseSymbol *)&amb_traffic_d.mUID);
    }
  }
}

// File Line: 2640
// RVA: 0x5A0610
bool __fastcall UFG::TidoGame::IsInside()
{
  return UFG::AudioTriggerRegion::sm_interiorTransitionCount > 0;
}

// File Line: 2661
// RVA: 0x59E410
void __fastcall UFG::TidoGame::HandleDoorType(UFG::SimObject *simObj, UFG::OneShotHandle *oneShot)
{
  UFG::OneShotHandle *v2; // rsi
  unsigned int v3; // edi
  unsigned __int16 v4; // r8
  UFG::SimComponent *v5; // rax
  UFG::SimComponent *v6; // rbx
  UFG::qReflectObjectType<UFG::PhysicsObjectProperties,UFG::qReflectObject> *v7; // rcx
  const char *v8; // rax
  __int64 v9; // rdx
  unsigned __int64 v10; // rbx
  unsigned int v11; // eax
  UFG::qReflectHandleBase v12; // [rsp+28h] [rbp-30h]

  v2 = oneShot;
  v3 = 0;
  if ( simObj )
  {
    v4 = simObj->m_Flags;
    if ( (v4 >> 14) & 1 )
    {
      v5 = UFG::SimObjectGame::GetComponentOfTypeHK((UFG::SimObjectGame *)simObj, UFG::RigidBodyComponent::_TypeUID);
    }
    else if ( (v4 & 0x8000u) == 0 )
    {
      if ( (v4 >> 13) & 1 )
        v5 = UFG::SimObjectGame::GetComponentOfTypeHK((UFG::SimObjectGame *)simObj, UFG::RigidBodyComponent::_TypeUID);
      else
        v5 = (v4 >> 12) & 1 ? UFG::SimObjectGame::GetComponentOfTypeHK(
                                (UFG::SimObjectGame *)simObj,
                                UFG::RigidBodyComponent::_TypeUID) : UFG::SimObject::GetComponentOfType(
                                                                       simObj,
                                                                       UFG::RigidBodyComponent::_TypeUID);
    }
    else
    {
      v5 = UFG::SimObjectGame::GetComponentOfTypeHK((UFG::SimObjectGame *)simObj, UFG::RigidBodyComponent::_TypeUID);
    }
    v6 = v5;
    if ( v5 )
    {
      UFG::qReflectHandleBase::qReflectHandleBase(&v12);
      v8 = UFG::qReflectObjectType<UFG::PhysicsObjectProperties,UFG::qReflectObject>::GetTypeName(v7);
      v12.mTypeUID = UFG::qStringHash64(v8, 0xFFFFFFFFFFFFFFFFui64);
      v9 = *(_QWORD *)&v6[2].m_Flags;
      if ( v9 )
        UFG::qReflectHandleBase::operator=(&v12, (UFG::qReflectHandleBase *)(v9 + 224));
      if ( v12.mData )
        v3 = *(_DWORD *)(v12.mData[4].mBaseNode.mUID + 104);
      UFG::qReflectHandleBase::~qReflectHandleBase(&v12);
    }
  }
  v10 = (unsigned __int64)v2->m_pOneShot;
  if ( _S8_16 & 1 )
  {
    v11 = mat1;
  }
  else
  {
    _S8_16 |= 1u;
    v11 = UFG::TiDo::CalcWwiseUid("material1");
    mat1 = v11;
  }
  UFG::TiDo::SetWwiseSwitch(UFG::TiDo::m_pInstance, v11, v3, v10);
}

// File Line: 2686
// RVA: 0x59F560
UFG::AudioListener *__fastcall UFG::TidoGame::HighSpeedMode(UFG::TidoGame *this)
{
  UFG::AudioListener *result; // rax

  result = UFG::AudioListener::sm_pInstance;
  if ( UFG::AudioListener::sm_pInstance )
    result = (UFG::AudioListener *)(UFG::AudioListener::sm_pInstance->m_highSpeedModeEnabled
                                 && UFG::AudioListener::sm_pInstance->m_highSpeedMode);
  return result;
}

// File Line: 2700
// RVA: 0x5AB010
char __fastcall UFG::TidoGame::SetNISMode(UFG::TidoGame *this, bool enable)
{
  UFG::UIGfxTranslator *v2; // rcx
  hkResourceHandle *v3; // rcx
  char result; // al
  hkResourceHandle *v5; // rcx

  v2 = UFG::UIScreenManager::s_instance->m_translator;
  if ( enable )
  {
    UFG::UIGfxTranslator::unloadDictionary(v2, "AudioAmbient");
    UFG::UIGfxTranslator::loadDictionary(UFG::UIScreenManager::s_instance->m_translator, "NIS");
    UFG::AudioListener::sm_pInstance->m_triggerPositionAtCamera = 1;
    UFG::AudioListener::sm_pInstance->m_highSpeedModeEnabled = 0;
    TargetVisibleInAIDataCondition::CreateClone(v3);
    result = 1;
    UFG::Music::sm_musicStateChangeDelay = FLOAT_5_0;
  }
  else
  {
    UFG::UIGfxTranslator::unloadDictionary(v2, "NIS");
    UFG::UIGfxTranslator::loadDictionary(UFG::UIScreenManager::s_instance->m_translator, "AudioAmbient");
    UFG::AudioListener::sm_pInstance->m_triggerPositionAtCamera = 0;
    UFG::AudioListener::sm_pInstance->m_highSpeedModeEnabled = 1;
    TargetVisibleInAIDataCondition::CreateClone(v5);
    result = 1;
  }
  return result;
}

// File Line: 2734
// RVA: 0x5AA670
void UFG::TidoGame::ResetTODEmitters(void)
{
  UFG::qBaseTreeRB *i; // rax
  signed __int64 v1; // rbx

  for ( i = (UFG::qBaseTreeRB *)UFG::qTreeRB64<UFG::tOffset,UFG::tOffset,1>::GetHead((UFG::qTreeRB64<Render::SkinningCacheNode,Render::SkinningCacheNode,1> *)&UFG::AudioEmitterMarker::msAudioEmitterMarkers);
        ;
        i = UFG::qBaseTreeRB::GetNext(
              &UFG::AudioEmitterMarker::msAudioEmitterMarkers.mTree,
              (UFG::qBaseNodeRB *)(v1 + 112)) )
  {
    v1 = (signed __int64)(i ? &i[-2].mNULL : 0i64);
    if ( !v1 )
      break;
    if ( *(_DWORD *)(v1 + 160) != -1 )
    {
      if ( *(_BYTE *)(v1 + 200) & 1 )
        UFG::AudioEmitterMarker::Reset((UFG::AudioEmitterMarker *)v1);
    }
  }
}

// File Line: 2820
// RVA: 0x5A8140
void __fastcall UFG::TidoGame::PlayVisualEffectAudio(unsigned int uid)
{
  UFG::qBaseTreeRB *v1; // rax
  UFG::VisualEffectAudioTrack *v2; // rax

  if ( !UFG::VisualEffectAudioManager::sm_curTrack )
  {
    if ( uid && (v1 = UFG::qBaseTreeRB::Get(&UFG::VisualEffectAudioManager::sm_visualEffectTracks.mTree, uid)) != 0i64 )
      v2 = (UFG::VisualEffectAudioTrack *)&v1[-1].mCount;
    else
      v2 = 0i64;
    UFG::VisualEffectAudioManager::sm_curTrack = v2;
    if ( v2 )
    {
      UFG::VisualEffectAudioManager::sm_isPlaying = 1;
      UFG::VisualEffectAudioManager::sm_playTime = 0.0;
    }
  }
}

// File Line: 2825
// RVA: 0x5ACBF0
void __fastcall UFG::TidoGame::StopVisualEffectAudio(unsigned int uid)
{
  UFG::VisualEffectAudioTrack *i; // rax

  if ( UFG::VisualEffectAudioManager::sm_curTrack && UFG::VisualEffectAudioManager::sm_curTrack->mNode.mUID == uid )
  {
    for ( i = (UFG::VisualEffectAudioTrack *)&UFG::VisualEffectAudioManager::sm_curTrack->m_nodes.mNode.mNext[-1].mNext;
          i != (UFG::VisualEffectAudioTrack *)&UFG::VisualEffectAudioManager::sm_curTrack->m_visualEffect;
          i = (UFG::VisualEffectAudioTrack *)&i->mNode.mChild[0][-1].mUID )
    {
      ;
    }
    UFG::VisualEffectAudioManager::sm_isPlaying = 0;
    UFG::VisualEffectAudioManager::sm_curTrack = 0i64;
  }
}

// File Line: 2835
// RVA: 0x5B06F0
void __fastcall UFG::TidoGame::UpdateEffectInTunnel(float delta_sec)
{
  if ( !UFG::qApproach(&UFG::TidoGame::sm_effectInTunnelCurr, UFG::TidoGame::sm_effectInTunnelTarg, 1.0, delta_sec) )
  {
    if ( !(_S15_4 & 1) )
    {
      _S15_4 |= 1u;
      UFG::qWiseSymbol::create_from_string(&effect_in_tunnel_0, "effect_in_tunnel");
      atexit(UFG::TidoGame::UpdateEffectInTunnel_::_5_::_dynamic_atexit_destructor_for__effect_in_tunnel__);
    }
    UFG::TiDo::SetWwiseRtpcValue(
      UFG::TiDo::m_pInstance,
      effect_in_tunnel_0.mUID,
      UFG::TidoGame::sm_effectInTunnelCurr,
      0xFFFFFFFFFFFFFFFFui64);
  }
}

// File Line: 2851
// RVA: 0x5A3190
bool __fastcall UFG::TidoGame::MajorGunBattleMode()
{
  return UFG::GunshotManager::ms_instance->m_numAiGunshots.m_currentValue >= 4.0
      && UFG::FacialActionTreeComponent::sDisableFacialAnimationUpdate;
}

// File Line: 2859
// RVA: 0x5AAFE0
void __fastcall UFG::TidoGame::SetMix(unsigned int mix_name)
{
  UFG::AudioEntity::CreateAndPlayEvent(
    (UFG::AudioEntity *)&UFG::AmbienceAudio::m_instance->vfptr,
    mix_name,
    0i64,
    0,
    0i64);
}

// File Line: 2912
// RVA: 0x5A58B0
void __fastcall UFG::TidoGame::PlayDLCHudEvent(const char *eventName)
{
  const char *v1; // rbx
  UFG::qPropertySet *v2; // rdi
  UFG::qSymbol *v3; // rax
  UFG::qWiseSymbol *v4; // rax
  UFG::qWiseSymbol *v5; // rax
  UFG::qSymbol result; // [rsp+58h] [rbp+10h]

  v1 = eventName;
  v2 = UFG::UI::GetDLCPropertyNode("UI-DLCSkins", "AudioProperties");
  if ( v2
    && (v3 = UFG::qSymbol::create_from_string(&result, v1),
        (v4 = UFG::qPropertySet::Get<UFG::qWiseSymbol>(v2, v3, DEPTH_RECURSE)) != 0i64) )
  {
    if ( UFG::HudAudio::m_instance )
      UFG::AudioEntity::CreateAndPlayEvent(
        (UFG::AudioEntity *)&UFG::HudAudio::m_instance->vfptr,
        v4->mUID,
        0i64,
        0,
        0i64);
  }
  else
  {
    UFG::qWiseSymbol::create_from_string((UFG::qWiseSymbol *)&result, v1);
    _((AMD_HD3D *)result.mUID);
    v5 = UFG::qWiseSymbol::create_from_string((UFG::qWiseSymbol *)&result, v1);
    if ( UFG::HudAudio::m_instance )
      UFG::AudioEntity::CreateAndPlayEvent(
        (UFG::AudioEntity *)&UFG::HudAudio::m_instance->vfptr,
        v5->mUID,
        0i64,
        0,
        0i64);
    _((AMD_HD3D *)result.mUID);
  }
}

