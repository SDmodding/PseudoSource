// File Line: 38
// RVA: 0x77B070
void __fastcall Scaleform::GFx::AS3::AvmSprite::AvmSprite(
        Scaleform::GFx::AS3::AvmSprite *this,
        Scaleform::GFx::Sprite *psprite)
{
  unsigned int v3; // eax
  unsigned int v4; // ebx
  char *v5; // rax
  Scaleform::GFx::AvmSpriteBase *v6; // [rsp+60h] [rbp+18h] BYREF
  Scaleform::FixedBitSetLH<323> *p_InitActionsExecuted; // [rsp+68h] [rbp+20h]

  Scaleform::GFx::AS3::AvmInteractiveObj::AvmInteractiveObj(this, psprite);
  this->Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AvmDisplayObjContainerBase::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr = (Scaleform::GFx::AvmDisplayObjBaseVtbl *)&Scaleform::GFx::AvmDisplayObjBase::`vftable;
  this->Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AvmDisplayObjContainerBase::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr = (Scaleform::GFx::AvmDisplayObjBaseVtbl *)&Scaleform::GFx::AvmInteractiveObjBase::`vftable;
  this->Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AvmDisplayObjContainerBase::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr = (Scaleform::GFx::AvmDisplayObjBaseVtbl *)&Scaleform::GFx::AvmDisplayObjContainerBase::`vftable;
  this->Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AS3::AvmInteractiveObj::Scaleform::GFx::AS3::AvmDisplayObj::Scaleform::GFx::AvmDisplayObjBase::vfptr = (Scaleform::GFx::AvmDisplayObjBaseVtbl *)&Scaleform::GFx::AS3::AvmDisplayObjContainer::`vftable{for `Scaleform::GFx::AS3::AvmDisplayObj};
  this->Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AS3::AvmInteractiveObj::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr = (Scaleform::GFx::AvmDisplayObjBaseVtbl *)&Scaleform::GFx::AS3::AvmDisplayObjContainer::`vftable{for `Scaleform::GFx::AvmInteractiveObjBase};
  this->Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AvmDisplayObjContainerBase::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr = (Scaleform::GFx::AvmDisplayObjBaseVtbl *)&Scaleform::GFx::AS3::AvmDisplayObjContainer::`vftable;
  v6 = &this->Scaleform::GFx::AvmSpriteBase;
  this->Scaleform::GFx::AvmSpriteBase::Scaleform::GFx::AvmDisplayObjContainerBase::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr = (Scaleform::GFx::AvmDisplayObjBaseVtbl *)&Scaleform::GFx::AvmDisplayObjBase::`vftable;
  this->Scaleform::GFx::AvmSpriteBase::Scaleform::GFx::AvmDisplayObjContainerBase::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr = (Scaleform::GFx::AvmDisplayObjBaseVtbl *)&Scaleform::GFx::AvmInteractiveObjBase::`vftable;
  this->Scaleform::GFx::AvmSpriteBase::Scaleform::GFx::AvmDisplayObjContainerBase::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr = (Scaleform::GFx::AvmDisplayObjBaseVtbl *)&Scaleform::GFx::AvmDisplayObjContainerBase::`vftable;
  this->Scaleform::GFx::AvmSpriteBase::Scaleform::GFx::AvmDisplayObjContainerBase::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr = (Scaleform::GFx::AvmDisplayObjBaseVtbl *)&Scaleform::GFx::AvmSpriteBase::`vftable;
  this->Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AS3::AvmInteractiveObj::Scaleform::GFx::AS3::AvmDisplayObj::Scaleform::GFx::AvmDisplayObjBase::vfptr = (Scaleform::GFx::AvmDisplayObjBaseVtbl *)&Scaleform::GFx::AS3::AvmSprite::`vftable{for `Scaleform::GFx::AS3::AvmDisplayObj};
  this->Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AS3::AvmInteractiveObj::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr = (Scaleform::GFx::AvmDisplayObjBaseVtbl *)&Scaleform::GFx::AS3::AvmSprite::`vftable{for `Scaleform::GFx::AvmInteractiveObjBase};
  this->Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AvmDisplayObjContainerBase::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr = (Scaleform::GFx::AvmDisplayObjBaseVtbl *)&Scaleform::GFx::AS3::AvmSprite::`vftable{for `Scaleform::GFx::AS3::AvmDisplayObjContainer};
  this->Scaleform::GFx::AvmSpriteBase::Scaleform::GFx::AvmDisplayObjContainerBase::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr = (Scaleform::GFx::AvmDisplayObjBaseVtbl *)&Scaleform::GFx::AS3::AvmSprite::`vftable{for `Scaleform::GFx::AvmSpriteBase};
  v3 = (*(__int64 (__fastcall **)(Scaleform::GFx::DisplayObject::ScrollRectInfo *))(*(_QWORD *)&this->pDispObj[1].pScrollRect->Rectangle.x1
                                                                                  + 80i64))(this->pDispObj[1].pScrollRect);
  p_InitActionsExecuted = &this->InitActionsExecuted;
  this->InitActionsExecuted.BitsCount = v3;
  v4 = (v3 + 7) >> 3;
  LODWORD(v6) = 323;
  v5 = (char *)((__int64 (__fastcall *)(Scaleform::MemoryHeap *, Scaleform::FixedBitSetLH<323> *, _QWORD, Scaleform::GFx::AvmSpriteBase **, __int64))Scaleform::Memory::pGlobalHeap->vfptr->AllocAutoHeap)(
                 Scaleform::Memory::pGlobalHeap,
                 &this->InitActionsExecuted,
                 v4,
                 &v6,
                 -2i64);
  this->InitActionsExecuted.pData = v5;
  memset(v5, 0, v4);
  this->Flags = 0;
  LOBYTE(this->pDispObj[2].Scaleform::GFx::DisplayObjectBase::Scaleform::GFx::LogBase<Scaleform::GFx::DisplayObjectBase>::vfptr) &= ~0x20u;
}

// File Line: 44
// RVA: 0x789A00
void __fastcall Scaleform::GFx::AS3::AvmSprite::~AvmSprite(Scaleform::GFx::AS3::AvmSprite *this)
{
  Scaleform::GFx::AvmSpriteBase *v2; // rbx

  this->Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AS3::AvmInteractiveObj::Scaleform::GFx::AS3::AvmDisplayObj::Scaleform::GFx::AvmDisplayObjBase::vfptr = (Scaleform::GFx::AvmDisplayObjBaseVtbl *)&Scaleform::GFx::AS3::AvmSprite::`vftable{for `Scaleform::GFx::AS3::AvmDisplayObj};
  this->Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AS3::AvmInteractiveObj::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr = (Scaleform::GFx::AvmDisplayObjBaseVtbl *)&Scaleform::GFx::AS3::AvmSprite::`vftable{for `Scaleform::GFx::AvmInteractiveObjBase};
  this->Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AvmDisplayObjContainerBase::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr = (Scaleform::GFx::AvmDisplayObjBaseVtbl *)&Scaleform::GFx::AS3::AvmSprite::`vftable{for `Scaleform::GFx::AS3::AvmDisplayObjContainer};
  v2 = &this->Scaleform::GFx::AvmSpriteBase;
  this->Scaleform::GFx::AvmSpriteBase::Scaleform::GFx::AvmDisplayObjContainerBase::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr = (Scaleform::GFx::AvmDisplayObjBaseVtbl *)&Scaleform::GFx::AS3::AvmSprite::`vftable{for `Scaleform::GFx::AvmSpriteBase};
  Scaleform::Memory::pGlobalHeap->vfptr->Free(Scaleform::Memory::pGlobalHeap, this->InitActionsExecuted.pData);
  v2->vfptr = (Scaleform::GFx::AvmDisplayObjBaseVtbl *)&Scaleform::GFx::AvmDisplayObjBase::`vftable;
  Scaleform::GFx::AS3::AvmDisplayObjContainer::~AvmDisplayObjContainer(this);
}

// File Line: 49
// RVA: 0x7F87A0
_BOOL8 __fastcall Scaleform::GFx::AS3::AvmSprite::IsLevelMovie(Scaleform::GFx::AS3::AvmSprite *this)
{
  return this->pDispObj->pParent == 0i64;
}

// File Line: 54
// RVA: 0x7D7680
void __fastcall Scaleform::GFx::AS3::AvmSprite::ForceShutdown(Scaleform::GFx::AS3::AvmSprite *this)
{
  Scaleform::GFx::AS3::Instances::fl_display::DisplayObject *pObject; // rcx
  unsigned int RefCount; // eax
  Scaleform::GFx::AS3::Instances::fl_display::DisplayObject *v4; // rbx
  Scaleform::GFx::AS3::Instances::fl_display::LoaderInfo *v5; // rcx
  unsigned int v6; // eax
  unsigned int v7; // eax

  pObject = this->pAS3CollectiblePtr.pObject;
  if ( pObject )
  {
    if ( ((unsigned __int8)pObject & 1) != 0 )
    {
      this->pAS3CollectiblePtr.pObject = (Scaleform::GFx::AS3::Instances::fl_display::DisplayObject *)((char *)pObject - 1);
    }
    else
    {
      RefCount = pObject->RefCount;
      if ( (RefCount & 0x3FFFFF) != 0 )
      {
        pObject->RefCount = RefCount - 1;
        Scaleform::GFx::AS3::RefCountBaseGC<328>::ReleaseInternal(pObject);
      }
    }
    this->pAS3CollectiblePtr.pObject = 0i64;
  }
  this->pAS3RawPtr = 0i64;
  v4 = this->pAS3CollectiblePtr.pObject;
  if ( v4 )
  {
    if ( ((unsigned __int8)v4 & 1) != 0 )
      v4 = (Scaleform::GFx::AS3::Instances::fl_display::DisplayObject *)((char *)v4 - 1);
    if ( v4 )
      v4->RefCount = (v4->RefCount + 1) & 0x8FBFFFFF;
    v5 = v4->pLoaderInfo.pObject;
    if ( v5 )
    {
      if ( ((unsigned __int8)v5 & 1) != 0 )
      {
        v4->pLoaderInfo.pObject = (Scaleform::GFx::AS3::Instances::fl_display::LoaderInfo *)((char *)v5 - 1);
      }
      else
      {
        v6 = v5->RefCount;
        if ( (v6 & 0x3FFFFF) != 0 )
        {
          v5->RefCount = v6 - 1;
          Scaleform::GFx::AS3::RefCountBaseGC<328>::ReleaseInternal(v5);
        }
      }
      v4->pLoaderInfo.pObject = 0i64;
    }
    if ( ((unsigned __int8)v4 & 1) == 0 )
    {
      v7 = v4->RefCount;
      if ( (v7 & 0x3FFFFF) != 0 )
      {
        v4->RefCount = v7 - 1;
        Scaleform::GFx::AS3::RefCountBaseGC<328>::ReleaseInternal(v4);
      }
    }
  }
}

// File Line: 68
// RVA: 0x801F80
char __fastcall Scaleform::GFx::AS3::AvmSprite::MustBeInPlaylist(Scaleform::GFx::AS3::AvmSprite *this)
{
  const char *pClassName; // rax
  char result; // al
  __int64 v3; // [rsp+20h] [rbp-28h] BYREF
  int v4; // [rsp+28h] [rbp-20h]
  char v5; // [rsp+2Ch] [rbp-1Ch]
  int v6; // [rsp+30h] [rbp-18h]

  if ( ((__int64)this->pDispObj & 2) != 0 )
    return 1;
  pClassName = this[-1].pClassName;
  v3 = 2i64;
  v4 = 0;
  v5 = 0;
  v6 = 65280;
  result = (*((__int64 (__fastcall **)(const char **, __int64 *))pClassName + 7))(&this[-1].pClassName, &v3);
  if ( result )
    return 1;
  return result;
}

// File Line: 73
// RVA: 0x7BC570
void __fastcall Scaleform::GFx::AS3::AvmSprite::CreateChildren(Scaleform::GFx::AS3::AvmSprite *this)
{
  Scaleform::GFx::Sprite *pDispObj; // rbx
  Scaleform::GFx::InteractiveObject *pParent; // rcx
  Scaleform::GFx::AS3::AvmInteractiveObj *AvmParent; // rax
  __int64 v5; // rdx
  unsigned __int8 AvmObjOffset; // al
  __int64 v7; // rax

  if ( (this->Flags & 4) == 0 )
  {
    pDispObj = (Scaleform::GFx::Sprite *)this->pDispObj;
    if ( !Scaleform::GFx::InteractiveObject::IsInPlayList(pDispObj) )
    {
      pParent = pDispObj->pParent;
      if ( pParent )
      {
        if ( Scaleform::GFx::InteractiveObject::IsInPlayList(pParent) )
        {
          if ( pDispObj->pParent )
          {
            AvmParent = Scaleform::GFx::AS3::AvmDisplayObj::GetAvmParent(this);
            Scaleform::GFx::AS3::AvmInteractiveObj::InsertChildToPlayList(AvmParent, pDispObj);
          }
          else
          {
            Scaleform::GFx::InteractiveObject::AddToPlayList(pDispObj);
          }
          Scaleform::GFx::InteractiveObject::ModifyOptimizedPlayList(pDispObj, v5);
        }
      }
    }
    if ( (pDispObj->Flags & 8) == 0 )
      Scaleform::GFx::Sprite::DefaultOnEventLoad(pDispObj);
    AvmObjOffset = pDispObj->AvmObjOffset;
    if ( AvmObjOffset )
    {
      v7 = ((__int64 (__fastcall *)(__int64))(*(Scaleform::RefCountNTSImplCoreVtbl **)((char *)&pDispObj->Scaleform::GFx::DisplayObjContainer::Scaleform::GFx::InteractiveObject::Scaleform::GFx::DisplayObject::Scaleform::GFx::DisplayObjectBase::Scaleform::RefCountBaseWeakSupport<Scaleform::GFx::DisplayObjectBase,322>::Scaleform::RefCountBaseStatImpl<Scaleform::RefCountWeakSupportImpl,322>::Scaleform::RefCountWeakSupportImpl::Scaleform::RefCountNTSImpl::Scaleform::RefCountNTSImplCore::vfptr
                                                                                     + 4 * AvmObjOffset))[2].__vecDelDtor)((__int64)pDispObj + 4 * AvmObjOffset);
      (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v7 + 224i64))(v7, 0i64);
    }
    this->Flags |= 4u;
  }
}

// File Line: 135
// RVA: 0x7ABB00
Scaleform::GFx::DisplayObjectBase *__fastcall Scaleform::GFx::AS3::AvmSprite::AddDisplayObject(
        Scaleform::GFx::AS3::AvmSprite *this,
        Scaleform::GFx::CharPosInfo *pos,
        Scaleform::GFx::ASString *name,
        Scaleform::ArrayLH<Scaleform::GFx::SwfEvent *,260,Scaleform::ArrayDefaultPolicy> *__formal)
{
  Scaleform::GFx::AS3::AvmSprite *v5; // r13
  Scaleform::GFx::MovieDefImpl *pObject; // rsi
  __int64 v7; // rdi
  __int64 *CharacterCreateInfo; // rax
  unsigned __int64 v9; // rdx
  Scaleform::GFx::AS3::Value::V2U v10; // rcx
  bool ExportedResource; // r14
  Scaleform::GFx::DisplayObjContainer *v13; // r14
  Scaleform::GFx::DisplayObjectBase *DisplayObjectAtDepth; // rsi
  int v15; // r12d
  __int64 v16; // rdx
  Scaleform::GFx::ASStringNode *v17; // rbx
  Scaleform::GFx::ASString *OriginalName; // rax
  __int64 pNode; // r14
  bool v20; // zf
  Scaleform::GFx::ASStringNode *v21; // rcx
  Scaleform::Render::Cxform *Cxform; // rax
  Scaleform::GFx::AS3::AvmDisplayObj *v23; // r15
  Scaleform::GFx::AS3::Instances::fl_display::DisplayObject *AS3Parent; // rax
  Scaleform::GFx::AS3::Instances::fl_display::DisplayObject *v25; // r12
  char v26; // si
  Scaleform::GFx::ASStringNode *v27; // r14
  Scaleform::GFx::AS3::Value::V2U v28; // rdx
  Scaleform::GFx::AS3::Value::V1U pAS3RawPtr; // rax
  Scaleform::GFx::AS3::GASRefCountBase *v30; // rcx
  int v31; // r15d
  const char *pData; // rax
  Scaleform::GFx::ASString *v33; // rax
  Scaleform::GFx::ASStringNode *v34; // rcx
  Scaleform::GFx::ASStringNode *v35; // rcx
  Scaleform::GFx::ASStringNode *v36; // rcx
  char v37; // si
  Scaleform::GFx::AvmDisplayObjBaseVtbl *v38; // rdx
  __int64 v39; // rcx
  __int64 v40; // rax
  __int64 v41; // r14
  __int16 v42; // dx
  Scaleform::GFx::Sprite *v43; // r12
  Scaleform::GFx::DisplayObjectBase *i; // rbx
  Scaleform::Render::Rect<float> *Scale9Grid; // rax
  unsigned int v46; // ebx
  Scaleform::GFx::Sprite *v47; // rbx
  Scaleform::GFx::AS3::AvmDisplayObj *v48; // rax
  Scaleform::GFx::AS3::AvmDisplayObj *v49; // rbx
  char v50; // si
  Scaleform::GFx::ASStringNode *v51; // r15
  Scaleform::GFx::AS3::Value::V2U v52; // rdx
  Scaleform::GFx::AS3::VMAppDomain *AppDomain; // rbx
  Scaleform::GFx::AS3::Value::V1U v54; // rax
  Scaleform::GFx::AS3::GASRefCountBase *v55; // rcx
  int v56; // r13d
  const char *v57; // rax
  Scaleform::GFx::ASString *v58; // rax
  Scaleform::GFx::ASStringNode *v59; // rcx
  Scaleform::GFx::ASStringNode *v60; // rcx
  Scaleform::GFx::AvmTextFieldBase *(__fastcall *ToAvmTextFieldBase)(Scaleform::GFx::AvmDisplayObjBase *); // rcx
  char v62; // al
  char *v63; // rcx
  __int64 v64; // rax
  __int64 v65; // rdx
  unsigned int v66; // [rsp+20h] [rbp-A8h]
  bool pisMarkedForRemove; // [rsp+31h] [rbp-97h] BYREF
  char v68[6]; // [rsp+32h] [rbp-96h] BYREF
  Scaleform::GFx::AS3::AvmDisplayObj *v69; // [rsp+38h] [rbp-90h] BYREF
  Scaleform::GFx::DisplayObjContainer *vfptr; // [rsp+40h] [rbp-88h]
  __int64 v71; // [rsp+48h] [rbp-80h]
  Scaleform::GFx::ASString v72; // [rsp+50h] [rbp-78h] BYREF
  Scaleform::GFx::ResourceId rid[2]; // [rsp+58h] [rbp-70h] BYREF
  Scaleform::GFx::ResourceBindData presBindData; // [rsp+60h] [rbp-68h] BYREF
  Scaleform::GFx::ASString v75; // [rsp+70h] [rbp-58h] BYREF
  Scaleform::GFx::AS3::Value v76; // [rsp+78h] [rbp-50h] BYREF
  Scaleform::GFx::AS3::Value v77; // [rsp+98h] [rbp-30h] BYREF
  Scaleform::GFx::AS3::Value v78; // [rsp+B8h] [rbp-10h] BYREF
  Scaleform::GFx::AS3::Multiname v79; // [rsp+D8h] [rbp+10h] BYREF
  Scaleform::GFx::AS3::Multiname v80; // [rsp+108h] [rbp+40h] BYREF
  Scaleform::String symbol; // [rsp+138h] [rbp+70h] BYREF
  Scaleform::GFx::ASString v82; // [rsp+140h] [rbp+78h] BYREF
  __int64 v83; // [rsp+148h] [rbp+80h]
  Scaleform::GFx::ASString v84; // [rsp+150h] [rbp+88h] BYREF
  Scaleform::GFx::ASString v85; // [rsp+158h] [rbp+90h] BYREF
  Scaleform::GFx::ASString v86; // [rsp+160h] [rbp+98h] BYREF
  __int64 v87[6]; // [rsp+168h] [rbp+A0h] BYREF
  Scaleform::GFx::CharPosInfo posa; // [rsp+198h] [rbp+D0h] BYREF
  Scaleform::GFx::AS3::Value::V2U v89; // [rsp+210h] [rbp+148h]
  Scaleform::Render::Rect<float> v90; // [rsp+218h] [rbp+150h] BYREF
  Scaleform::GFx::AS3::Value::V2U v91; // [rsp+230h] [rbp+168h]
  Scaleform::GFx::CharacterCreateInfo result; // [rsp+238h] [rbp+170h] BYREF
  Scaleform::GFx::AS3::AvmSprite *v93; // [rsp+298h] [rbp+1D0h]
  Scaleform::GFx::ASString *namea; // [rsp+2A8h] [rbp+1E0h]
  int vars0; // [rsp+2C0h] [rbp+1F8h]
  void *retaddr; // [rsp+2C8h] [rbp+200h]
  Scaleform::GFx::AS3::AvmSprite *v97; // [rsp+2D0h] [rbp+208h] BYREF
  __int64 v98; // [rsp+2D8h] [rbp+210h]
  Scaleform::GFx::ASString *v99; // [rsp+2E0h] [rbp+218h]

  v99 = name;
  v97 = this;
  v87[3] = -2i64;
  v5 = this;
  vfptr = (Scaleform::GFx::DisplayObjContainer *)this[-1].Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AS3::AvmInteractiveObj::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr;
  pObject = vfptr->pDefImpl.pObject;
  v7 = 0i64;
  LODWORD(v71) = 0;
  if ( this )
  {
    v87[0] = (__int64)this->Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AS3::AvmInteractiveObj::Scaleform::GFx::AS3::AvmDisplayObj::Scaleform::GFx::AvmDisplayObjBase::vfptr;
    v87[1] = (__int64)this->pAS3CollectiblePtr.pObject;
    v87[2] = (__int64)this->pAS3RawPtr;
    CharacterCreateInfo = v87;
  }
  else
  {
    rid[0] = pos->CharacterId;
    CharacterCreateInfo = (__int64 *)Scaleform::GFx::MovieDefImpl::GetCharacterCreateInfo(
                                       pObject,
                                       &result,
                                       (Scaleform::GFx::ResourceId)rid);
  }
  v9 = *CharacterCreateInfo;
  v76.Bonus.pWeakProxy = (Scaleform::GFx::AS3::WeakProxy *)v9;
  v76.value.VS._1.VStr = (Scaleform::GFx::ASStringNode *)CharacterCreateInfo[1];
  v10.VObj = (Scaleform::GFx::AS3::Object *)CharacterCreateInfo[2];
  v76.value.VS._2 = v10;
  if ( v9 )
    goto LABEL_23;
  if ( (pos->Flags.Flags & 0x100) != 0 )
  {
    presBindData.pResource.pObject = 0i64;
    presBindData.pBinding = 0i64;
    Scaleform::String::String(&symbol, pos->ClassName);
    ExportedResource = Scaleform::GFx::MovieImpl::FindExportedResource(
                         *((Scaleform::GFx::MovieImpl **)v5[-1].Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AS3::AvmInteractiveObj::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr->ToAvmTextFieldBase
                         + 2),
                         pObject,
                         &presBindData,
                         &symbol);
    v9 = symbol.HeapTypeBits & 0xFFFFFFFFFFFFFFFCui64;
    if ( !_InterlockedDecrement((volatile signed __int32 *)((symbol.HeapTypeBits & 0xFFFFFFFFFFFFFFFCui64) + 8)) )
      ((void (__fastcall *)(Scaleform::MemoryHeap *))Scaleform::Memory::pGlobalHeap->vfptr->Free)(Scaleform::Memory::pGlobalHeap);
    if ( ExportedResource )
    {
      if ( (((__int64 (__fastcall *)(Scaleform::GFx::Resource *))presBindData.pResource.pObject->vfptr->GetResourceTypeCode)(presBindData.pResource.pObject) & 0x8000) != 0 )
        v76.Bonus.pWeakProxy = (Scaleform::GFx::AS3::WeakProxy *)presBindData.pResource.pObject;
      else
        v76.value.VS._2.VObj = (Scaleform::GFx::AS3::Object *)presBindData.pResource.pObject;
      v76.value.VS._1.VStr = (Scaleform::GFx::ASStringNode *)presBindData.pBinding->pOwnerDefRes;
    }
    if ( presBindData.pResource.pObject )
      Scaleform::GFx::Resource::Release(presBindData.pResource.pObject);
    if ( v76.Bonus.pWeakProxy )
      goto LABEL_23;
    v10.VObj = (Scaleform::GFx::AS3::Object *)v76.value.VS._2;
  }
  if ( !v10.VObj
    || (((__int64 (__fastcall *)(Scaleform::GFx::AS3::Value::V2U, unsigned __int64, Scaleform::GFx::ASString *, Scaleform::ArrayLH<Scaleform::GFx::SwfEvent *,260,Scaleform::ArrayDefaultPolicy> *))v10.VObj->vfptr->Finalize_GC)(
          v10,
          v9,
          name,
          __formal) & 0xFF00) != 256 )
  {
    Scaleform::GFx::LogBase<Scaleform::GFx::DisplayObjectBase>::LogError(
      (Scaleform::GFx::LogBase<Scaleform::GFx::DisplayObjectBase> *)&v5[-1].Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AS3::AvmInteractiveObj::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr->ToAvmButttonBase,
      "Sprite::AddDisplayObject(): unknown cid = %d\n",
      LOWORD(pos->CharacterId.Id));
    return 0i64;
  }
  LODWORD(v71) = 8;
  if ( !v76.value.VS._1.VStr )
    v76.value.VS._1.VStr = (Scaleform::GFx::ASStringNode *)pObject;
LABEL_23:
  pisMarkedForRemove = 0;
  v13 = vfptr;
  DisplayObjectAtDepth = Scaleform::GFx::DisplayList::GetDisplayObjectAtDepth(
                           &vfptr->mDisplayList,
                           pos->Depth,
                           &pisMarkedForRemove);
  v15 = vars0;
  if ( vars0 == -1 )
  {
    v15 = ((__int64 (__fastcall *)(Scaleform::GFx::DisplayObjContainer *))v13->Scaleform::GFx::InteractiveObject::Scaleform::GFx::DisplayObject::Scaleform::GFx::DisplayObjectBase::Scaleform::RefCountBaseWeakSupport<Scaleform::GFx::DisplayObjectBase,322>::Scaleform::RefCountBaseStatImpl<Scaleform::RefCountWeakSupportImpl,322>::Scaleform::RefCountWeakSupportImpl::Scaleform::RefCountNTSImpl::Scaleform::RefCountNTSImplCore::vfptr[107].__vecDelDtor)(v13);
    vars0 = v15;
  }
  if ( ((unsigned __int8)retaddr & 4) == 0 )
  {
    v37 = 1;
    goto LABEL_110;
  }
  if ( DisplayObjectAtDepth
    && !((unsigned __int8 (__fastcall *)(Scaleform::GFx::DisplayObjectBase *))DisplayObjectAtDepth->Scaleform::RefCountBaseWeakSupport<Scaleform::GFx::DisplayObjectBase,322>::Scaleform::RefCountBaseStatImpl<Scaleform::RefCountWeakSupportImpl,322>::Scaleform::RefCountWeakSupportImpl::Scaleform::RefCountNTSImpl::Scaleform::RefCountNTSImplCore::vfptr[51].__vecDelDtor)(DisplayObjectAtDepth)
    && ((unsigned __int8 (__fastcall *)(Scaleform::GFx::DisplayObjectBase *))DisplayObjectAtDepth->Scaleform::RefCountBaseWeakSupport<Scaleform::GFx::DisplayObjectBase,322>::Scaleform::RefCountBaseStatImpl<Scaleform::RefCountWeakSupportImpl,322>::Scaleform::RefCountWeakSupportImpl::Scaleform::RefCountNTSImpl::Scaleform::RefCountNTSImplCore::vfptr[52].__vecDelDtor)(DisplayObjectAtDepth) )
  {
    LOBYTE(v16) = 1;
    DisplayObjectAtDepth->Scaleform::RefCountBaseWeakSupport<Scaleform::GFx::DisplayObjectBase,322>::Scaleform::RefCountBaseStatImpl<Scaleform::RefCountWeakSupportImpl,322>::Scaleform::RefCountWeakSupportImpl::Scaleform::RefCountNTSImpl::Scaleform::RefCountNTSImplCore::vfptr[53].__vecDelDtor(
      DisplayObjectAtDepth,
      v16);
  }
  if ( !pisMarkedForRemove )
  {
    if ( !DisplayObjectAtDepth )
    {
LABEL_109:
      v37 = (unsigned __int8)retaddr & 1;
      goto LABEL_110;
    }
    if ( !((unsigned __int8 (__fastcall *)(Scaleform::GFx::DisplayObjectBase *))DisplayObjectAtDepth->Scaleform::RefCountBaseWeakSupport<Scaleform::GFx::DisplayObjectBase,322>::Scaleform::RefCountBaseStatImpl<Scaleform::RefCountWeakSupportImpl,322>::Scaleform::RefCountWeakSupportImpl::Scaleform::RefCountNTSImpl::Scaleform::RefCountNTSImplCore::vfptr[51].__vecDelDtor)(DisplayObjectAtDepth) )
      return 0i64;
  }
  if ( !DisplayObjectAtDepth || DisplayObjectAtDepth->Depth < -1 || DisplayObjectAtDepth->Id.Id != pos->CharacterId.Id )
    goto LABEL_109;
  v17 = (Scaleform::GFx::ASStringNode *)*((_QWORD *)v5[-1].Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AS3::AvmInteractiveObj::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr->ToAvmTextFieldBase
                                        + 45);
  v83 = (__int64)v17;
  ++v17->RefCount;
  if ( SLOBYTE(DisplayObjectAtDepth->Flags) < 0 )
  {
    OriginalName = Scaleform::GFx::DisplayObject::GetOriginalName(
                     (Scaleform::GFx::DisplayObject *)DisplayObjectAtDepth,
                     &v85);
    pNode = (__int64)OriginalName->pNode;
    ++OriginalName->pNode->RefCount;
    v20 = v17->RefCount-- == 1;
    if ( v20 )
      Scaleform::GFx::ASStringNode::ReleaseNode(v17);
    v17 = (Scaleform::GFx::ASStringNode *)pNode;
    v83 = pNode;
    v21 = v85.pNode;
    v20 = v85.pNode->RefCount-- == 1;
    if ( v20 )
      Scaleform::GFx::ASStringNode::ReleaseNode(v21);
    v13 = vfptr;
  }
  if ( SLOBYTE(DisplayObjectAtDepth->Flags) >= 0 )
    goto LABEL_48;
  if ( !namea->pNode->Size )
  {
    if ( v17->Size
      && ((__int64)DisplayObjectAtDepth[1].Scaleform::GFx::LogBase<Scaleform::GFx::DisplayObjectBase>::vfptr & 2) == 0 )
    {
      goto LABEL_105;
    }
    goto LABEL_48;
  }
  if ( v17 == namea->pNode )
  {
LABEL_48:
    if ( DisplayObjectAtDepth->CreateFrame != v15 )
    {
      v37 = 1;
      goto LABEL_106;
    }
    Scaleform::GFx::CharPosInfo::CharPosInfo(&posa, pos);
    if ( SLOBYTE(pos->Flags.Flags) >= 0
      && ((unsigned int (__fastcall *)(Scaleform::GFx::DisplayObjectBase *))DisplayObjectAtDepth->Scaleform::RefCountBaseWeakSupport<Scaleform::GFx::DisplayObjectBase,322>::Scaleform::RefCountBaseStatImpl<Scaleform::RefCountWeakSupportImpl,322>::Scaleform::RefCountWeakSupportImpl::Scaleform::RefCountNTSImpl::Scaleform::RefCountNTSImplCore::vfptr[15].__vecDelDtor)(DisplayObjectAtDepth) )
    {
      posa.Flags.Flags |= 0x80u;
      posa.BlendMode = 0;
    }
    if ( (pos->Flags.Flags & 8) == 0 )
    {
      Cxform = Scaleform::GFx::DisplayObjectBase::GetCxform(DisplayObjectAtDepth);
      if ( !Scaleform::Render::Cxform::IsIdentity(Cxform) )
      {
        posa.Flags.Flags |= 8u;
        Scaleform::Render::Cxform::SetIdentity(&posa.ColorTransform);
      }
    }
    Scaleform::GFx::DisplayObjContainer::MoveDisplayObject(v13, &posa);
    if ( (DisplayObjectAtDepth->Flags & 0x100) != 0 )
    {
      v23 = (Scaleform::GFx::AS3::AvmDisplayObj *)((char *)DisplayObjectAtDepth
                                                 + 4 * (unsigned __int8)DisplayObjectAtDepth->AvmObjOffset);
      AS3Parent = Scaleform::GFx::AS3::AvmDisplayObj::GetAS3Parent(v23);
      v25 = AS3Parent;
      if ( ((__int64)DisplayObjectAtDepth[1].Scaleform::GFx::LogBase<Scaleform::GFx::DisplayObjectBase>::vfptr & 2) == 0 )
      {
        if ( AS3Parent )
        {
          Scaleform::GFx::DisplayObject::GetName((Scaleform::GFx::DisplayObject *)DisplayObjectAtDepth, &v82);
          v26 = 10;
          v76.Flags = 10;
          v71 = 0i64;
          v27 = v82.pNode;
          v72.pNode = v82.pNode;
          if ( v82.pNode == &v82.pNode->pManager->NullStringNode )
          {
            v27 = 0i64;
            v72.pNode = 0i64;
            v28.VObj = v89.VObj;
            *(Scaleform::GFx::AS3::Value::V2U *)&rid[0].Id = v89;
            v26 = 12;
            v76.Flags = 12;
          }
          else
          {
            ++v82.pNode->RefCount;
            v28.VObj = *(Scaleform::GFx::AS3::Object **)&rid[0].Id;
          }
          pAS3RawPtr = (Scaleform::GFx::AS3::Value::V1U)v23->pAS3RawPtr;
          if ( !pAS3RawPtr.VStr )
            pAS3RawPtr = (Scaleform::GFx::AS3::Value::V1U)v23->pAS3CollectiblePtr.pObject;
          if ( pAS3RawPtr.VBool )
            --pAS3RawPtr.VStr;
          v78.Flags = 12;
          v78.Bonus.pWeakProxy = 0i64;
          v78.value.VS._1 = pAS3RawPtr;
          if ( pAS3RawPtr.VStr )
            pAS3RawPtr.VStr->Size = (pAS3RawPtr.VStr->Size + 1) & 0x8FBFFFFF;
          v30 = *(Scaleform::GFx::AS3::GASRefCountBase **)(*((_QWORD *)v5[-1].Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AS3::AvmInteractiveObj::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr->ToAvmTextFieldBase
                                                           + 10)
                                                         + 424i64);
          v80.Kind = MN_QName;
          v80.Obj.pObject = v30;
          if ( v30 )
            v30->RefCount = (v30->RefCount + 1) & 0x8FBFFFFF;
          v80.Name.Flags = 0;
          v80.Name.Bonus.pWeakProxy = 0i64;
          v31 = v26 & 0x1F;
          if ( (unsigned int)(v31 - 12) <= 3
            && v27
            && (pData = v27[1].pData, *((_DWORD *)pData + 30) == 17)
            && (pData[112] & 0x20) == 0 )
          {
            Scaleform::GFx::AS3::Value::Assign(&v80.Name, (Scaleform::GFx::ASString *)&v27[1].16);
            Scaleform::GFx::AS3::SPtr<Scaleform::GFx::AS3::Instances::fl_geom::Vector3D>::SetPtr(
              (Scaleform::GFx::AS3::SPtr<Scaleform::GFx::AS3::Instances::fl::XMLList> *)&v80.Obj,
              *(Scaleform::GFx::AS3::Instances::fl::XMLList **)&v27[1].RefCount);
            v80.Kind &= 0xFFFFFFF9;
          }
          else
          {
            _mm_prefetch((const char *)&v76, 2);
            *(_QWORD *)&v80.Name.Flags = *(_QWORD *)&v76.Flags;
            v80.Name.Bonus.pWeakProxy = 0i64;
            v80.Name.value.VS._1.VStr = v27;
            v80.Name.value.VS._2 = v28;
            if ( (v26 & 0x1Fu) > 9 )
            {
              if ( v31 == 10 )
              {
                ++v27->RefCount;
              }
              else if ( (v26 & 0x1Fu) <= 0xF )
              {
                if ( v27 )
                  v27->Size = (v27->Size + 1) & 0x8FBFFFFF;
              }
              else if ( (v26 & 0x1Fu) <= 0x11 && v28.VObj )
              {
                v28.VObj->RefCount = (v28.VObj->RefCount + 1) & 0x8FBFFFFF;
              }
            }
            if ( (v80.Name.Flags & 0x1F) == 10 )
            {
              Scaleform::GFx::AS3::Value::operator Scaleform::GFx::ASString(&v80.Name, &v75);
              if ( v75.pNode->Size )
              {
                if ( *v75.pNode->pData == 64 )
                {
                  v80.Kind |= 8u;
                  v33 = Scaleform::GFx::ASString::Substring(&v75, &v86, 1, v75.pNode->Size);
                  Scaleform::GFx::AS3::Value::Assign(&v80.Name, v33);
                  v34 = v86.pNode;
                  v20 = v86.pNode->RefCount-- == 1;
                  if ( v20 )
                    Scaleform::GFx::ASStringNode::ReleaseNode(v34);
                }
              }
              v35 = v75.pNode;
              v20 = v75.pNode->RefCount-- == 1;
              if ( v20 )
                Scaleform::GFx::ASStringNode::ReleaseNode(v35);
            }
          }
          ((void (__fastcall *)(Scaleform::GFx::AS3::Instances::fl_display::DisplayObject *, Scaleform::GFx::AS3::AvmSprite **, Scaleform::GFx::AS3::Multiname *, Scaleform::GFx::AS3::Value *))v25->vfptr[1].ForEachChild_GC)(
            v25,
            &v97,
            &v80,
            &v78);
          Scaleform::GFx::AS3::Multiname::~Multiname(&v80);
          if ( (v78.Flags & 0x1F) > 9 )
          {
            if ( (v78.Flags & 0x200) != 0 )
            {
              v20 = v78.Bonus.pWeakProxy->RefCount-- == 1;
              if ( v20 )
                ((void (__fastcall *)(Scaleform::MemoryHeap *))Scaleform::Memory::pGlobalHeap->vfptr->Free)(Scaleform::Memory::pGlobalHeap);
              memset(&v78.Bonus, 0, 24);
              v78.Flags &= 0xFFFFFDE0;
            }
            else
            {
              Scaleform::GFx::AS3::Value::ReleaseInternal(&v78);
            }
          }
          if ( (v26 & 0x1Fu) > 9 )
            Scaleform::GFx::AS3::Value::ReleaseInternal(&v76);
          v36 = v82.pNode;
          v20 = v82.pNode->RefCount-- == 1;
          if ( v20 )
            Scaleform::GFx::ASStringNode::ReleaseNode(v36);
        }
      }
    }
    if ( posa.pFilters.pObject )
      Scaleform::RefCountImpl::Release((Scaleform::Render::RenderBuffer *)posa.pFilters.pObject);
    v20 = v17->RefCount-- == 1;
    if ( v20 )
    {
      Scaleform::GFx::ASStringNode::ReleaseNode(v17);
      return 0i64;
    }
    return 0i64;
  }
LABEL_105:
  v37 = (unsigned __int8)retaddr & 1;
LABEL_106:
  v20 = v17->RefCount-- == 1;
  if ( v20 )
    Scaleform::GFx::ASStringNode::ReleaseNode(v17);
LABEL_110:
  _((AMD_HD3D *)v13);
  v38 = v5[-1].Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AS3::AvmInteractiveObj::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr;
  v39 = *((_QWORD *)v38->ToAvmTextFieldBase + 3);
  LODWORD(v69) = pos->CharacterId.Id;
  v40 = (*(__int64 (__fastcall **)(__int64, _QWORD, Scaleform::GFx::AS3::Value::Extra *, Scaleform::GFx::DisplayObjContainer *, Scaleform::GFx::AS3::AvmDisplayObj **, _DWORD))(*(_QWORD *)v39 + 32i64))(
          v39,
          *((_QWORD *)v38->ToAvmTextFieldBase + 2),
          &v76.Bonus,
          v13,
          &v69,
          v71);
  v41 = v40;
  v87[4] = v40;
  v42 = *(_WORD *)(v40 + 106);
  v43 = 0i64;
  if ( (v42 & 0x80u) != 0 )
    v43 = (Scaleform::GFx::Sprite *)v40;
  LOBYTE(v97) = 0;
  *(_WORD *)(v40 + 106) = v42 & 0xFFFE;
  for ( i = *(Scaleform::GFx::DisplayObjectBase **)(v40 + 56); i; i = i->pParent )
  {
    Scale9Grid = Scaleform::GFx::DisplayObjectBase::GetScale9Grid(i, &v90);
    if ( Scale9Grid->x2 > Scale9Grid->x1 && Scale9Grid->y2 > Scale9Grid->y1 )
    {
      *(_WORD *)(v41 + 106) |= 1u;
      (*(void (__fastcall **)(__int64))(*(_QWORD *)v41 + 160i64))(v41);
      break;
    }
  }
  if ( v43 )
  {
    if ( namea->pNode->Size )
    {
      Scaleform::GFx::DisplayObject::SetOriginalName(v43, namea);
      LOBYTE(v97) = 1;
    }
    if ( v98 )
      ((void (__fastcall *)(Scaleform::GFx::Sprite *))v43->Scaleform::GFx::DisplayObjContainer::Scaleform::GFx::InteractiveObject::Scaleform::GFx::DisplayObject::Scaleform::GFx::DisplayObjectBase::Scaleform::RefCountBaseWeakSupport<Scaleform::GFx::DisplayObjectBase,322>::Scaleform::RefCountBaseStatImpl<Scaleform::RefCountWeakSupportImpl,322>::Scaleform::RefCountWeakSupportImpl::Scaleform::RefCountNTSImpl::Scaleform::RefCountNTSImplCore::vfptr[94].__vecDelDtor)(v43);
  }
  if ( ((unsigned __int8)retaddr & 4) != 0 )
    *(_WORD *)(v41 + 136) |= 1u;
  else
    (*(void (__fastcall **)(__int64, _QWORD))(*(_QWORD *)v41 + 424i64))(v41, 0i64);
  *(_DWORD *)(v41 + 48) = vars0;
  v46 = (unsigned int)retaddr & 0xFFFFFFFE;
  if ( v37 )
    v46 |= 1u;
  if ( (pos->Flags.Flags & 0x100) != 0 )
    Scaleform::GFx::AS3::AvmDisplayObj::InitClassName(
      (Scaleform::GFx::AS3::AvmDisplayObj *)(v41 + 4i64 * *(unsigned __int8 *)(v41 + 109)),
      pos->ClassName);
  v66 = v46;
  v47 = (Scaleform::GFx::Sprite *)vfptr;
  Scaleform::GFx::DisplayList::AddDisplayObject(
    &vfptr->mDisplayList,
    (Scaleform::GFx::DisplayObjectBase *)v5[-1].Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AS3::AvmInteractiveObj::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr,
    pos,
    (Scaleform::GFx::DisplayObjectBase *)v41,
    v66);
  v48 = (Scaleform::GFx::AS3::AvmDisplayObj *)(v41 + 4i64 * *(unsigned __int8 *)(v41 + 109));
  v69 = v48;
  if ( Scaleform::GFx::AS3::VMAppDomain::Enabled )
    v48->AppDomain = (Scaleform::GFx::AS3::VMAppDomain *)v5[-1].Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AvmDisplayObjContainerBase::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr;
  if ( Scaleform::GFx::AS3::AvmDisplayObj::CreateASInstanceNoCtor(v48) )
  {
    v49 = v69;
    if ( (*(_BYTE *)(v41 + 136) & 2) == 0 && Scaleform::GFx::AS3::AvmDisplayObj::GetAS3Parent(v69) )
    {
      v50 = 10;
      LODWORD(presBindData.pResource.pObject) = 10;
      presBindData.pBinding = 0i64;
      v51 = namea->pNode;
      v75.pNode = v51;
      if ( v51 == &v51->pManager->NullStringNode )
      {
        v51 = 0i64;
        v75.pNode = 0i64;
        v52.VObj = v91.VObj;
        *(Scaleform::GFx::AS3::Value::V2U *)&v76.Flags = v91;
        v50 = 12;
        LODWORD(presBindData.pResource.pObject) = 12;
      }
      else
      {
        ++v51->RefCount;
        v52.VObj = *(Scaleform::GFx::AS3::Object **)&v76.Flags;
      }
      AppDomain = *(Scaleform::GFx::AS3::VMAppDomain **)&v5[-1].Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AS3::AvmInteractiveObj::Scaleform::GFx::AS3::AvmDisplayObj::Flags;
      if ( !AppDomain )
        AppDomain = v5[-1].AppDomain;
      if ( ((unsigned __int8)AppDomain & 1) != 0 )
        AppDomain = (Scaleform::GFx::AS3::VMAppDomain *)((char *)AppDomain - 1);
      v54 = (Scaleform::GFx::AS3::Value::V1U)v69->pAS3RawPtr;
      if ( !v54.VStr )
        v54 = (Scaleform::GFx::AS3::Value::V1U)v69->pAS3CollectiblePtr.pObject;
      if ( v54.VBool )
        --v54.VStr;
      v77.Flags = 12;
      v77.Bonus.pWeakProxy = 0i64;
      v77.value.VS._1 = v54;
      if ( v54.VStr )
        v54.VStr->Size = (v54.VStr->Size + 1) & 0x8FBFFFFF;
      v55 = *(Scaleform::GFx::AS3::GASRefCountBase **)(*((_QWORD *)v5[-1].Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AS3::AvmInteractiveObj::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr->ToAvmTextFieldBase
                                                       + 10)
                                                     + 424i64);
      v79.Kind = MN_QName;
      v79.Obj.pObject = v55;
      if ( v55 )
        v55->RefCount = (v55->RefCount + 1) & 0x8FBFFFFF;
      v79.Name.Flags = 0;
      v79.Name.Bonus.pWeakProxy = 0i64;
      v56 = v50 & 0x1F;
      if ( (unsigned int)(v56 - 12) <= 3
        && v51
        && (v57 = v51[1].pData, *((_DWORD *)v57 + 30) == 17)
        && (v57[112] & 0x20) == 0 )
      {
        Scaleform::GFx::AS3::Value::Assign(&v79.Name, (Scaleform::GFx::ASString *)&v51[1].16);
        Scaleform::GFx::AS3::SPtr<Scaleform::GFx::AS3::Instances::fl_geom::Vector3D>::SetPtr(
          (Scaleform::GFx::AS3::SPtr<Scaleform::GFx::AS3::Instances::fl::XMLList> *)&v79.Obj,
          *(Scaleform::GFx::AS3::Instances::fl::XMLList **)&v51[1].RefCount);
        v79.Kind &= 0xFFFFFFF9;
      }
      else
      {
        _mm_prefetch((const char *)&presBindData, 2);
        *(_QWORD *)&v79.Name.Flags = presBindData.pResource.pObject;
        v79.Name.Bonus.pWeakProxy = 0i64;
        v79.Name.value.VS._1.VStr = v51;
        v79.Name.value.VS._2 = v52;
        if ( (v50 & 0x1Fu) > 9 )
        {
          if ( v56 == 10 )
          {
            ++v51->RefCount;
          }
          else if ( (v50 & 0x1Fu) <= 0xF )
          {
            if ( v51 )
              v51->Size = (v51->Size + 1) & 0x8FBFFFFF;
          }
          else if ( (v50 & 0x1Fu) <= 0x11 && v52.VObj )
          {
            v52.VObj->RefCount = (v52.VObj->RefCount + 1) & 0x8FBFFFFF;
          }
        }
        if ( (v79.Name.Flags & 0x1F) == 10 )
        {
          Scaleform::GFx::AS3::Value::operator Scaleform::GFx::ASString(&v79.Name, &v72);
          if ( v72.pNode->Size )
          {
            if ( *v72.pNode->pData == 64 )
            {
              v79.Kind |= 8u;
              v58 = Scaleform::GFx::ASString::Substring(&v72, &v84, 1, v72.pNode->Size);
              Scaleform::GFx::AS3::Value::Assign(&v79.Name, v58);
              v59 = v84.pNode;
              v20 = v84.pNode->RefCount-- == 1;
              if ( v20 )
                Scaleform::GFx::ASStringNode::ReleaseNode(v59);
            }
          }
          v60 = v72.pNode;
          v20 = v72.pNode->RefCount-- == 1;
          if ( v20 )
            Scaleform::GFx::ASStringNode::ReleaseNode(v60);
        }
      }
      ((void (__fastcall *)(Scaleform::GFx::AS3::VMAppDomain *, char *, Scaleform::GFx::AS3::Multiname *, Scaleform::GFx::AS3::Value *))AppDomain->vfptr[1].ForEachChild_GC)(
        AppDomain,
        v68,
        &v79,
        &v77);
      Scaleform::GFx::AS3::Multiname::~Multiname(&v79);
      if ( (v77.Flags & 0x1F) > 9 )
      {
        if ( (v77.Flags & 0x200) != 0 )
        {
          v20 = v77.Bonus.pWeakProxy->RefCount-- == 1;
          if ( v20 )
            ((void (__fastcall *)(Scaleform::MemoryHeap *))Scaleform::Memory::pGlobalHeap->vfptr->Free)(Scaleform::Memory::pGlobalHeap);
          memset(&v77.Bonus, 0, 24);
          v77.Flags &= 0xFFFFFDE0;
        }
        else
        {
          Scaleform::GFx::AS3::Value::ReleaseInternal(&v77);
        }
      }
      if ( (v50 & 0x1Fu) > 9 )
        Scaleform::GFx::AS3::Value::ReleaseInternal((Scaleform::GFx::AS3::Value *)&presBindData);
      v5 = v93;
      ToAvmTextFieldBase = v93[-1].Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AS3::AvmInteractiveObj::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr->ToAvmTextFieldBase;
      if ( *(_BYTE *)(*((_QWORD *)ToAvmTextFieldBase + 10) + 168i64) )
      {
        Scaleform::GFx::AS3::VM::OutputAndIgnoreException(*((Scaleform::GFx::AS3::VM **)ToAvmTextFieldBase + 10));
        LOWORD(v5[-1].Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AS3::AvmInteractiveObj::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr[1].ToAvmDispContainerBase) |= 0x20u;
      }
      v49 = v69;
    }
    Scaleform::GFx::AS3::AvmDisplayObj::CallCtor(v49, 1);
    if ( (*(_WORD *)(v41 + 106) & 0x400) != 0 )
      Scaleform::GFx::AS3::AvmSprite::CreateChildren((Scaleform::GFx::AS3::AvmSprite *)(v41
                                                                                      + 4i64
                                                                                      * *(unsigned __int8 *)(v41 + 109)));
    v47 = (Scaleform::GFx::Sprite *)vfptr;
  }
  v62 = (char)v97;
  if ( (_BYTE)v97 )
  {
    (*(void (__fastcall **)(Scaleform::GFx::AvmTextFieldBase *(__fastcall *)(Scaleform::GFx::AvmDisplayObjBase *), Scaleform::GFx::Sprite *))(*(_QWORD *)v5[-1].Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AS3::AvmInteractiveObj::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr->ToAvmTextFieldBase + 312i64))(
      v5[-1].Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AS3::AvmInteractiveObj::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr->ToAvmTextFieldBase,
      v43);
    v62 = (char)v97;
  }
  if ( v43 )
  {
    if ( v62
      && namea->pNode == (Scaleform::GFx::ASStringNode *)*((_QWORD *)v5[-1].Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AS3::AvmInteractiveObj::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr->ToAvmTextFieldBase
                                                         + 58) )
    {
      Scaleform::GFx::Sprite::SetHitArea(v47, v43);
    }
    v63 = (char *)v43 + 4 * (unsigned __int8)v43->AvmObjOffset;
    v64 = (*(__int64 (__fastcall **)(char *))(*(_QWORD *)v63 + 8i64))(v63);
    if ( v64 )
      v7 = v64 - 56;
    LOBYTE(v65) = 1;
    (*(void (__fastcall **)(__int64, __int64))(*(_QWORD *)v7 + 152i64))(v7, v65);
  }
  Scaleform::RefCountNTSImpl::Release((Scaleform::RefCountNTSImpl *)v41);
  return (Scaleform::GFx::DisplayObjectBase *)v41;
}

// File Line: 412
// RVA: 0x80BA80
void __fastcall Scaleform::GFx::AS3::AvmSprite::QueueFrameScript(Scaleform::GFx::AS3::AvmSprite *this, __int64 frame)
{
  Scaleform::GFx::AS3::Instances::fl_display::DisplayObject *pAS3RawPtr; // rcx
  Scaleform::GFx::AS3::Instances::fl_display::DisplayObject *pObject; // rax
  Scaleform::GFx::DisplayObject *pDispObj; // rdi
  Scaleform::GFx::AS3::MovieRoot::ActionEntry *inserted; // rax
  Scaleform::GFx::AS3::MovieRoot::ActionEntry *v7; // rbx
  Scaleform::RefCountNTSImpl *v8; // rcx
  Scaleform::GFx::AS3::Instances::fl_display::DisplayObject *v9; // rcx
  unsigned int RefCount; // eax
  Scaleform::Render::RenderBuffer *v11; // rcx
  Scaleform::GFx::AS3::Value other; // [rsp+28h] [rbp-30h] BYREF

  other.Flags = 0;
  other.Bonus.pWeakProxy = 0i64;
  pAS3RawPtr = this->pAS3RawPtr;
  pObject = pAS3RawPtr;
  if ( !pAS3RawPtr )
    pObject = this->pAS3CollectiblePtr.pObject;
  if ( ((unsigned __int8)pObject & 1) != 0 )
    pObject = (Scaleform::GFx::AS3::Instances::fl_display::DisplayObject *)((char *)pObject - 1);
  if ( pObject )
  {
    if ( !pAS3RawPtr )
      pAS3RawPtr = this->pAS3CollectiblePtr.pObject;
    if ( ((unsigned __int8)pAS3RawPtr & 1) != 0 )
      pAS3RawPtr = (Scaleform::GFx::AS3::Instances::fl_display::DisplayObject *)((char *)pAS3RawPtr - 1);
    if ( ((unsigned __int8 (__fastcall *)(Scaleform::GFx::AS3::Instances::fl_display::DisplayObject *, __int64, Scaleform::GFx::AS3::Value *))pAS3RawPtr->vfptr[7].~RefCountBaseGC<328>)(
           pAS3RawPtr,
           frame,
           &other) )
    {
      pDispObj = this->pDispObj;
      inserted = Scaleform::GFx::AS3::MovieRoot::InsertEmptyAction(
                   (Scaleform::GFx::AS3::MovieRoot *)pDispObj->pASRoot,
                   AL_Frame);
      v7 = inserted;
      inserted->Type = Entry_Event;
      if ( pDispObj )
        ++pDispObj->RefCount;
      v8 = inserted->pCharacter.pObject;
      if ( v8 )
        Scaleform::RefCountNTSImpl::Release(v8);
      v7->pCharacter.pObject = pDispObj;
      Scaleform::GFx::AS3::Value::Assign(&v7->Function, &other);
      v7->CFunction = 0i64;
      v9 = v7->pAS3Obj.pObject;
      if ( v9 )
      {
        if ( ((unsigned __int8)v9 & 1) != 0 )
        {
          v7->pAS3Obj.pObject = (Scaleform::GFx::AS3::Instances::fl_display::DisplayObject *)((char *)v9 - 1);
        }
        else
        {
          RefCount = v9->RefCount;
          if ( (RefCount & 0x3FFFFF) != 0 )
          {
            v9->RefCount = RefCount - 1;
            Scaleform::GFx::AS3::RefCountBaseGC<328>::ReleaseInternal(v9);
          }
        }
        v7->pAS3Obj.pObject = 0i64;
      }
      v11 = (Scaleform::Render::RenderBuffer *)v7->pNLoadInitCL.pObject;
      if ( v11 )
        Scaleform::RefCountImpl::Release(v11);
      v7->pNLoadInitCL.pObject = 0i64;
    }
  }
  if ( (other.Flags & 0x1F) > 9 )
  {
    if ( (other.Flags & 0x200) != 0 )
    {
      if ( other.Bonus.pWeakProxy->RefCount-- == 1 )
        ((void (__fastcall *)(Scaleform::MemoryHeap *))Scaleform::Memory::pGlobalHeap->vfptr->Free)(Scaleform::Memory::pGlobalHeap);
      memset(&other.Bonus, 0, 24);
      other.Flags &= 0xFFFFFDE0;
    }
    else
    {
      Scaleform::GFx::AS3::Value::ReleaseInternal(&other);
    }
  }
}

// File Line: 438
// RVA: 0x7CEDD0
void __fastcall Scaleform::GFx::AS3::AvmSprite::ExecuteFrameTags(
        Scaleform::GFx::AS3::AvmSprite *this,
        unsigned int frame)
{
  this->Flags |= 2u;
  if ( Scaleform::GFx::InteractiveObject::IsInPlayList((Scaleform::GFx::InteractiveObject *)this->pDispObj) )
    Scaleform::GFx::InteractiveObject::AddToOptimizedPlayList((Scaleform::GFx::InteractiveObject *)this->pDispObj);
  this->pDispObj->Flags &= ~0x20u;
}

// File Line: 447
// RVA: 0x7B0080
void __fastcall Scaleform::GFx::AS3::AvmSprite::AdvanceFrame(
        Scaleform::GFx::AS3::AvmSprite *this,
        bool nextFrame,
        float framePos)
{
  Scaleform::GFx::AvmDisplayObjBaseVtbl *vfptr; // rdi
  unsigned int v5; // esi
  unsigned int v6; // ebx

  vfptr = this[-1].Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AS3::AvmInteractiveObj::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr;
  if ( vfptr )
    ++*((_DWORD *)&vfptr->__vecDelDtor + 2);
  if ( ((__int64)vfptr[1].OnUnloading & 0xC) == 0
    && (*((_WORD *)&vfptr[1].__vecDelDtor + 5) & 0x1000) == 0
    && SHIDWORD(vfptr->ToAvmDispContainerBase) >= -1
    && nextFrame
    && ((__int64)this->pDispObj & 2) == 0 )
  {
    v5 = (*((__int64 (__fastcall **)(Scaleform::GFx::AvmDisplayObjBaseVtbl *))vfptr->__vecDelDtor + 107))(vfptr);
    if ( !(*((unsigned int (__fastcall **)(Scaleform::GFx::AvmDisplayObjBaseVtbl *))vfptr->__vecDelDtor + 115))(vfptr) )
    {
      v6 = v5;
      Scaleform::GFx::Sprite::IncrementFrameAndCheckForLoop((Scaleform::GFx::Sprite *)vfptr);
      v5 = (*((__int64 (__fastcall **)(Scaleform::GFx::AvmDisplayObjBaseVtbl *))vfptr->__vecDelDtor + 107))(vfptr);
      if ( v5 != v6 )
      {
        (*((void (__fastcall **)(const char **, _QWORD))this[-1].pClassName + 27))(&this[-1].pClassName, v5);
        Scaleform::GFx::Sprite::ExecuteFrameTags((Scaleform::GFx::Sprite *)vfptr, v5);
        LOBYTE(this->pDispObj) |= 2u;
        if ( Scaleform::GFx::InteractiveObject::IsInPlayList((Scaleform::GFx::InteractiveObject *)this[-1].Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AS3::AvmInteractiveObj::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr) )
          Scaleform::GFx::InteractiveObject::AddToOptimizedPlayList((Scaleform::GFx::InteractiveObject *)this[-1].Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AS3::AvmInteractiveObj::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr);
      }
    }
    if ( !v5 )
      Scaleform::GFx::DisplayList::UnloadMarkedObjects(
        (Scaleform::GFx::DisplayList *)&this[-1].Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AS3::AvmInteractiveObj::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr[2].ToAvmButttonBase,
        (Scaleform::GFx::DisplayObjectBase *)this[-1].Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AS3::AvmInteractiveObj::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr);
  }
  Scaleform::RefCountNTSImpl::Release((Scaleform::RefCountNTSImpl *)vfptr);
}

// File Line: 515
// RVA: 0x803600
char __fastcall Scaleform::GFx::AS3::AvmSprite::OnEvent(
        Scaleform::GFx::AS3::AvmSprite *this,
        Scaleform::GFx::EventId *id)
{
  Scaleform::GFx::Sprite *pDispObj; // r9
  __int64 v5; // rdx
  Scaleform::GFx::TimelineDef *pObject; // rax
  char v7; // cl
  unsigned int v8; // eax
  const char *v9; // rdx
  Scaleform::GFx::AS3::Instances::fl_display::DisplayObject *pAS3RawPtr; // rcx
  unsigned int WcharCode; // eax
  __int64 ControllerIndex; // rax
  Scaleform::GFx::EventId evtId; // [rsp+20h] [rbp-28h] BYREF

  if ( (this->Flags & 1) == 0 )
    return Scaleform::GFx::AS3::AvmInteractiveObj::OnEvent(this, id);
  pDispObj = (Scaleform::GFx::Sprite *)this->pDispObj;
  v5 = 0i64;
  if ( (pDispObj->Flags & 0x40) != 0 )
    pObject = pDispObj->pDef.pObject;
  else
    pObject = 0i64;
  if ( !pObject )
    goto LABEL_16;
  v7 = pObject[2].Id.Id;
  if ( (v7 & 7) == 0 )
    goto LABEL_16;
  v8 = id->Id;
  if ( id->Id > 0x2000 )
  {
    if ( v8 != 0x4000 )
    {
      if ( v8 == 0x8000 )
      {
LABEL_39:
        if ( (v7 & 2) != 0 )
        {
          v9 = "_down";
          goto LABEL_15;
        }
        goto LABEL_16;
      }
      if ( v8 != 0x10000 )
        goto LABEL_16;
      if ( (pDispObj->Scaleform::GFx::DisplayObjContainer::Scaleform::GFx::InteractiveObject::Flags & 0x4000) == 0 )
        goto LABEL_37;
    }
LABEL_13:
    if ( (v7 & 1) == 0 )
      goto LABEL_16;
    v9 = "_up";
    goto LABEL_15;
  }
  if ( v8 == 0x2000 )
  {
    if ( (v7 & 4) == 0 )
      goto LABEL_16;
    ControllerIndex = (unsigned int)id->ControllerIndex;
    if ( (unsigned int)ControllerIndex < 6 )
      v5 = (__int64)&pDispObj->pASRoot->pMovieImpl->mMouseState[ControllerIndex];
    if ( (pDispObj->Scaleform::GFx::DisplayObjContainer::Scaleform::GFx::InteractiveObject::Flags & 0x4000) != 0
      && (*(_BYTE *)(v5 + 52) & 1) != 0 )
    {
      v9 = "_down";
    }
    else
    {
      if ( (*(_BYTE *)(v5 + 48) & 1) != 0 )
        goto LABEL_16;
      v9 = "_over";
    }
LABEL_15:
    Scaleform::GFx::Sprite::GotoLabeledFrame(pDispObj, v9, 0);
    goto LABEL_16;
  }
  if ( v8 == 16 )
    goto LABEL_39;
  if ( v8 != 32 && v8 != 2048 )
  {
    if ( v8 != 4096 )
      goto LABEL_16;
    goto LABEL_13;
  }
LABEL_37:
  if ( (v7 & 4) != 0 )
  {
    v9 = "_over";
    goto LABEL_15;
  }
LABEL_16:
  if ( id->Id != 1024 )
    return Scaleform::GFx::AS3::AvmInteractiveObj::OnEvent(this, id);
  pAS3RawPtr = this->pAS3RawPtr;
  if ( pAS3RawPtr || this->pAS3CollectiblePtr.pObject )
  {
    evtId.Id = id->Id;
    WcharCode = id->WcharCode;
    evtId.Id = 16777228;
    evtId.WcharCode = WcharCode;
    evtId.KeyCode = id->KeyCode;
    evtId.TouchID = id->TouchID;
    *(_DWORD *)&evtId.RollOverCnt = *(_DWORD *)&id->RollOverCnt;
    if ( !pAS3RawPtr )
      pAS3RawPtr = this->pAS3CollectiblePtr.pObject;
    if ( ((unsigned __int8)pAS3RawPtr & 1) != 0 )
      pAS3RawPtr = (Scaleform::GFx::AS3::Instances::fl_display::DisplayObject *)((char *)pAS3RawPtr - 1);
    Scaleform::GFx::AS3::Instances::fl_events::EventDispatcher::Dispatch(pAS3RawPtr, &evtId, this->pDispObj);
  }
  return 1;
}

// File Line: 588
// RVA: 0x7AA3A0
bool __fastcall Scaleform::GFx::AS3::AvmSprite::ActsAsButton(Scaleform::GFx::AS3::AvmSprite *this)
{
  Scaleform::GFx::AvmDisplayObjBaseVtbl *vfptr; // rax
  bool (__fastcall *OnEvent)(Scaleform::GFx::AvmDisplayObjBase *, Scaleform::GFx::EventId *); // rcx

  if ( (this->Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AS3::AvmInteractiveObj::Scaleform::GFx::AS3::AvmDisplayObj::Flags & 1) != 0 )
    return 1;
  vfptr = this[-1].Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AvmDisplayObjContainerBase::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr;
  if ( vfptr )
  {
LABEL_6:
    if ( ((unsigned __int8)vfptr & 1) != 0 )
      vfptr = (Scaleform::GFx::AvmDisplayObjBaseVtbl *)((char *)vfptr - 1);
    OnEvent = vfptr->OnEvent;
    return OnEvent && (*((_BYTE *)OnEvent + 18) || *((_BYTE *)OnEvent + 19));
  }
  if ( *(_QWORD *)&this[-1].MouseOverCnt )
  {
    vfptr = *(Scaleform::GFx::AvmDisplayObjBaseVtbl **)&this[-1].MouseOverCnt;
    goto LABEL_6;
  }
  return 0;
}

// File Line: 597
// RVA: 0x7F85B0
char __fastcall Scaleform::GFx::AS3::AvmSprite::IsFocusEnabled(
        Scaleform::GFx::AS3::AvmSprite *this,
        Scaleform::GFx::FocusMovedType fmt)
{
  int v2; // edx

  v2 = fmt - 1;
  if ( !v2 )
    return (this->Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AS3::AvmInteractiveObj::Scaleform::GFx::AS3::AvmDisplayObj::Flags & 1) != 0
        || ((unsigned __int8 (__fastcall *)(Scaleform::GFx::AS3::AvmSprite *))this->Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AS3::AvmInteractiveObj::Scaleform::GFx::AS3::AvmDisplayObj::Scaleform::GFx::AvmDisplayObjBase::vfptr[1].OnEventLoad)(this);
  if ( v2 == 2 )
    return 1;
  else
    return ((__int64 (__fastcall *)(Scaleform::GFx::AS3::AvmSprite *))this->Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AS3::AvmInteractiveObj::Scaleform::GFx::AS3::AvmDisplayObj::Scaleform::GFx::AvmDisplayObjBase::vfptr[1].__vecDelDtor)(this);
}

// File Line: 608
// RVA: 0x7E74D0
__int64 __fastcall Scaleform::GFx::AS3::AvmSprite::GetCursorType(Scaleform::GFx::AS3::AvmSprite *this)
{
  return this->Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AS3::AvmInteractiveObj::Scaleform::GFx::AS3::AvmDisplayObj::Flags & 1;
}

// File Line: 621
// RVA: 0x7CF150
void __fastcall Scaleform::GFx::AS3::AvmSprite::ExecuteInitActionFrameTags(
        Scaleform::GFx::AS3::AvmSprite *this,
        unsigned int frame)
{
  unsigned __int64 v3; // r14
  char v4; // r15
  Scaleform::GFx::DisplayObject *pDispObj; // rdi
  unsigned int v6; // ebx
  __int64 v7; // [rsp+28h] [rbp-30h] BYREF
  unsigned int v8; // [rsp+30h] [rbp-28h]

  v3 = (unsigned __int64)frame >> 3;
  v4 = frame & 7;
  if ( (this->InitActionsExecuted.pData[v3] & (unsigned __int8)(1 << (frame & 7))) == 0 )
  {
    pDispObj = this->pDispObj;
    if ( pDispObj )
      ++pDispObj->RefCount;
    v6 = 0;
    v7 = 0i64;
    v8 = 0;
    if ( (*(unsigned __int8 (__fastcall **)(Scaleform::GFx::DisplayObject::ScrollRectInfo *, __int64 *, _QWORD))(*(_QWORD *)&this->pDispObj[1].pScrollRect->Rectangle.x1 + 96i64))(
           this->pDispObj[1].pScrollRect,
           &v7,
           frame)
      && v8 )
    {
      do
      {
        (*(void (__fastcall **)(_QWORD, Scaleform::GFx::DisplayObject *))(**(_QWORD **)(v7 + 8i64 * v6) + 8i64))(
          *(_QWORD *)(v7 + 8i64 * v6),
          this->pDispObj);
        ++v6;
      }
      while ( v6 < v8 );
      this->InitActionsExecuted.pData[v3] |= 1 << v4;
    }
    if ( pDispObj )
      Scaleform::RefCountNTSImpl::Release(pDispObj);
  }
}

// File Line: 658
// RVA: 0x7F93F0
char __fastcall Scaleform::GFx::AS3::AvmSprite::IsTabable(Scaleform::GFx::AS3::AvmSprite *this)
{
  Scaleform::GFx::AvmDisplayObjBaseVtbl *vfptr; // rax
  bool (__fastcall *HasEventHandler)(Scaleform::GFx::AvmDisplayObjBase *, Scaleform::GFx::EventId *); // rax

  if ( !(*((unsigned __int8 (__fastcall **)(Scaleform::GFx::AvmDisplayObjBaseVtbl *))this[-1].Scaleform::GFx::AvmSpriteBase::Scaleform::GFx::AvmDisplayObjContainerBase::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr->__vecDelDtor
         + 59))(this[-1].Scaleform::GFx::AvmSpriteBase::Scaleform::GFx::AvmDisplayObjContainerBase::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr) )
    return 0;
  vfptr = this[-1].Scaleform::GFx::AvmSpriteBase::Scaleform::GFx::AvmDisplayObjContainerBase::Scaleform::GFx::AvmInteractiveObjBase::Scaleform::GFx::AvmDisplayObjBase::vfptr;
  if ( ((__int64)vfptr[1].OnUnloading & 0x60) != 0 )
  {
    if ( ((__int64)vfptr[1].OnUnloading & 0x60) != 96 )
      return 0;
    HasEventHandler = vfptr->HasEventHandler;
    if ( HasEventHandler )
    {
      while ( (*((_DWORD *)HasEventHandler + 46) & 0x8000) == 0 )
      {
        HasEventHandler = (bool (__fastcall *)(Scaleform::GFx::AvmDisplayObjBase *, Scaleform::GFx::EventId *))*((_QWORD *)HasEventHandler + 7);
        if ( !HasEventHandler )
          return 1;
      }
      return 0;
    }
    return 1;
  }
  if ( SWORD2(vfptr[1].OnUnloading) > 0 )
    return 1;
  return this->Scaleform::GFx::AS3::AvmDisplayObjContainer::Scaleform::GFx::AS3::AvmInteractiveObj::Scaleform::GFx::AS3::AvmDisplayObj::Flags & 1;
}

// File Line: 686
// RVA: 0x7ED6B0
bool __fastcall Scaleform::GFx::AS3::AvmSprite::GetObjectsUnderPoint(
        Scaleform::GFx::AS3::AvmSprite *this,
        Scaleform::ArrayDH<Scaleform::Ptr<Scaleform::GFx::DisplayObjectBase>,2,Scaleform::ArrayDefaultPolicy> *destArray,
        Scaleform::Render::Point<float> *pt)
{
  bool result; // al
  Scaleform::GFx::DisplayObject *pDispObj; // rcx
  Scaleform::GFx::DrawingContext *v8; // rax
  bool v9; // di
  Scaleform::GFx::DisplayObject *v10; // rbx
  Scaleform::Ptr<Scaleform::GFx::DisplayObjectBase> val; // [rsp+58h] [rbp+20h] BYREF

  result = Scaleform::GFx::AS3::AvmDisplayObjContainer::GetObjectsUnderPoint(this, destArray, pt);
  if ( !result )
  {
    pDispObj = this->pDispObj;
    if ( pDispObj[2].Scaleform::GFx::DisplayObjectBase::Scaleform::RefCountBaseWeakSupport<Scaleform::GFx::DisplayObjectBase,322>::Scaleform::RefCountBaseStatImpl<Scaleform::RefCountWeakSupportImpl,322>::Scaleform::RefCountWeakSupportImpl::Scaleform::RefCountNTSImpl::Scaleform::RefCountNTSImplCore::vfptr )
    {
      v8 = (Scaleform::GFx::DrawingContext *)((__int64 (__fastcall *)(Scaleform::GFx::DisplayObject *))pDispObj->Scaleform::GFx::DisplayObjectBase::Scaleform::RefCountBaseWeakSupport<Scaleform::GFx::DisplayObjectBase,322>::Scaleform::RefCountBaseStatImpl<Scaleform::RefCountWeakSupportImpl,322>::Scaleform::RefCountWeakSupportImpl::Scaleform::RefCountNTSImpl::Scaleform::RefCountNTSImplCore::vfptr[83].__vecDelDtor)(pDispObj);
      v9 = Scaleform::GFx::DrawingContext::DefPointTestLocal(v8, pt, 1, this->pDispObj);
      if ( v9 )
      {
        v10 = this->pDispObj;
        if ( v10 )
          ++v10->RefCount;
        val.pObject = v10;
        Scaleform::ArrayBase<Scaleform::ArrayDataDH<Scaleform::Ptr<Scaleform::GFx::DisplayObjectBase>,Scaleform::AllocatorDH<Scaleform::Ptr<Scaleform::GFx::DisplayObjectBase>,2>,Scaleform::ArrayDefaultPolicy>>::InsertAt(
          destArray,
          0i64,
          &val);
        if ( v10 )
          Scaleform::RefCountNTSImpl::Release(v10);
      }
      return v9;
    }
  }
  return result;
}

